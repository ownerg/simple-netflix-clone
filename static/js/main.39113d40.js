/*! For license information please see main.39113d40.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},820:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FirebaseError:function(){return ku},SDK_VERSION:function(){return mc},_DEFAULT_ENTRY_NAME:function(){return tc},_addComponent:function(){return ac},_addOrOverwriteComponent:function(){return oc},_apps:function(){return rc},_clearComponents:function(){return lc},_components:function(){return ic},_getProvider:function(){return uc},_registerComponent:function(){return sc},_removeServiceInstance:function(){return cc},deleteApp:function(){return wc},getApp:function(){return yc},getApps:function(){return kc},initializeApp:function(){return gc},onLog:function(){return _c},registerVersion:function(){return xc},setLogLevel:function(){return Ic}});var i=n(791),a=n(164);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var h,d=h||(h={});d.Pop="POP",d.Push="PUSH",d.Replace="REPLACE";var p=function(e){return e};function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function k(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function w(e,t){if(!e)throw new Error(t)}var b=(0,i.createContext)(null);var x=(0,i.createContext)(null);var _=(0,i.createContext)({outlet:null,matches:[]});function I(e){var t=e.to,n=e.replace,r=e.state;N()||w(!1);var a=P();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function S(e){return function(e){var t=(0,i.useContext)(_).outlet;if(t)return(0,i.createElement)(O.Provider,{value:e},t);return t}(e.context)}function E(e){w(!1)}function T(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,o=e.location,s=e.navigationType,u=void 0===s?h.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;N()&&w(!1);var d=K(n),p=(0,i.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=k(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,_=void 0===y?"":y,I=v.hash,S=void 0===I?"":I,E=v.state,T=void 0===E?null:E,C=v.key,A=void 0===C?"default":C,R=(0,i.useMemo)((function(){var e=W(g,d);return null==e?null:{pathname:e,search:_,hash:S,state:T,key:A}}),[d,g,_,S,T,A]);return null==R?null:(0,i.createElement)(b.Provider,{value:p},(0,i.createElement)(x.Provider,{children:a,value:{location:R,navigationType:u}}))}function C(e){var t=e.children,n=e.location;return function(e,t){N()||w(!1);var n=(0,i.useContext)(_).matches,r=n[n.length-1],a=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var s,u=R();if(t){var c,l="string"===typeof t?k(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||w(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=W(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=M(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=V(i[o],r);return a}(e,{pathname:h});0;return z(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:H([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:H([o,e.pathnameBase])})})),n)}(L(t),n)}function A(e){N()||w(!1);var t=(0,i.useContext)(b),n=t.basename,r=t.navigator,a=D(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):H([n,s])}return r.createHref({pathname:c,search:u,hash:o})}function N(){return null!=(0,i.useContext)(x)}function R(){return N()||w(!1),(0,i.useContext)(x).location}function P(){N()||w(!1);var e=(0,i.useContext)(b),t=e.basename,n=e.navigator,r=(0,i.useContext)(_).matches,a=R().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,i.useRef)(!1);(0,i.useEffect)((function(){s.current=!0}));var u=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=q(e,JSON.parse(o),a);"/"!==t&&(i.pathname=H([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}var O=(0,i.createContext)(null);function D(e){var t=(0,i.useContext)(_).matches,n=R().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return q(e,JSON.parse(r),n)}),[e,r,n])}function L(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==E&&w(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=L(e.props.children)),t.push(n)}else t.push.apply(t,L(e.props.children))})),t}function M(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||w(!1),a.relativePath=a.relativePath.slice(r.length));var o=H([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&w(!1),M(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:U(o,e.index),routesMeta:s})})),t}var j=/^:\w+$/,F=function(e){return"*"===e};function U(e,t){var n=e.split("/"),r=n.length;return n.some(F)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!F(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function V(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=B({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:H([i,l.pathname]),pathnameBase:H([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return a}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(_.Provider,{children:void 0!==r.route.element?r.route.element:(0,i.createElement)(S,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function q(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:G(a),hash:Q(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},K=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},G=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"];function X(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,p({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:y(e)}function r(e,t){return void 0===t&&(t=null),p(f({pathname:d.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function i(e){c=e,e=t(),l=e[0],d=e[1],w.call({action:c,location:d})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)b.call(u),u=null;else{var e=h.Pop,n=t(),r=n[0];if(n=n[1],b.length){if(null!=r){var o=l-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=h.Pop,l=(e=t())[0],d=e[1],w=m(),b=m();return null==l&&(l=0,s.replaceState(f({},s.state,{idx:l}),"")),{get action(){return c},get location(){return d},createHref:n,push:function e(t,a){var u=h.Push,c=r(t,a);if(!b.length||(b.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(Ue){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=h.Replace,u=r(t,a);b.length&&(b.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&o.addEventListener("beforeunload",v),function(){t(),b.length||o.removeEventListener("beforeunload",v)}}}}({window:r}));var o=a.current,s=l((0,i.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(T,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var Z=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Y(e,J),f=A(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,s=P(),u=R(),c=D(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,r,e])}(c,{replace:o,state:s,target:u});return(0,i.createElement)("a",$({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:u}))}));var ee="/",te="/browse",ne="/signup",re="/signin";function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ce=n(441),le=n(613),fe=n.n(le);var he=function(e){function t(e,r,u,c,h){for(var d,p,v,m,w,x=0,_=0,I=0,S=0,E=0,P=0,D=v=d=0,M=0,j=0,F=0,U=0,V=u.length,z=V-1,B="",q="",W="",H="";M<V;){if(p=u.charCodeAt(M),M===z&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,z++),0===_+S+I+x){if(M===z&&(0<j&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=R}if(U=(v=t(r,j,v,p,h+1)).length,0<O&&(w=s(3,v,j=n(R,B,F),r,C,T,U,p,h,c),B=j.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(g,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);W+=v,v=F=j=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<j?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<O&&void 0!==(w=s(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}F=j=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(j=1,B+="\0"),0<O*L&&s(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=u.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(j=F=1,m="\f"+m);break;case 108:if(0===S+_+x+A&&0<D)switch(M-D){case 2:112===E&&58===u.charCodeAt(M-3)&&(A=E);case 8:111===P&&(A=P)}break;case 58:0===S+_+x&&(D=M);break;case 44:0===_+I+S+x&&(j=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*P===533);else d=1;I++}break;case 64:0===_+I+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}P=E,E=p,M++}if(0<(U=q.length)){if(j=r,0<O&&(void 0!==(w=s(2,q,j,e,C,T,U,c,h,c))&&0===(q=w).length))return H+q+W;if(q=j.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(w,"tb");break;case 232:u=o.replace(w,"tb-rl");break;case 220:u=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<O;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,R=[],P=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=P.length=0;break;default:if("function"===typeof t)P[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},de={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var pe=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},ve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,me=pe((function(e){return ve.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ge=n(110),ye=n.n(ge);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var we=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},be=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,ce.typeOf)(e)},xe=Object.freeze([]),_e=Object.freeze({});function Ie(e){return"function"==typeof e}function Se(e){return e.displayName||e.name||"Component"}function Ee(e){return e&&"string"==typeof e.styledComponentId}var Te="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ce="undefined"!=typeof window&&"HTMLElement"in window,Ae=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Ne={};function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Pe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Re(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Oe=new Map,De=new Map,Le=1,Me=function(e){if(Oe.has(e))return Oe.get(e);for(;De.has(Le);)Le++;var t=Le++;return Oe.set(e,t),De.set(t,e),t},je=function(e){return De.get(e)},Fe=function(e,t){t>=Le&&(Le=t+1),Oe.set(e,t),De.set(t,e)},Ue="style["+Te+'][data-styled-version="5.3.3"]',Ve=new RegExp("^"+Te+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ze=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Be=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Ve);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Fe(c,u),ze(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},qe=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},We=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Te))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Te,"active"),r.setAttribute("data-styled-version","5.3.3");var o=qe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},He=function(){function e(e){var t=this.element=We(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Re(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Ke=function(){function e(e){var t=this.element=We(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ge=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Qe=Ce,$e={isServer:!Ce,useCSSOMInjection:!Ae},Ye=function(){function e(e,t,n){void 0===e&&(e=_e),void 0===t&&(t={}),this.options=ke({},$e,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ce&&Qe&&(Qe=!1,function(e){for(var t=document.querySelectorAll(Ue),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Te)&&(Be(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Me(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(ke({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ge(i):r?new He(i):new Ke(i),new Pe(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Me(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Me(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Me(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=je(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=Te+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Je=/(a)(d)/gi,Xe=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ze(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Xe(t%52)+n;return(Xe(t%52)+n).replace(Je,"$1-$2")}var et=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},tt=function(e){return et(5381,e)};function nt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ie(n)&&!Ee(n))return!1}return!0}var rt=tt("5.3.3"),it=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&nt(e),this.componentId=t,this.baseHash=et(rt,t),this.baseStyle=n,Ye.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=xt(this.rules,e,t,n).join(""),o=Ze(et(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=et(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=xt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=et(c,p+f),l+=p}}if(l){var v=Ze(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),at=/^\s*\/\/.*$/gm,ot=[":","[",".","#"];function st(e){var t,n,r,i,a=void 0===e?_e:e,o=a.options,s=void 0===o?_e:o,u=a.plugins,c=void 0===u?xe:u,l=new he(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==ot.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(at,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Re(15),et(e,t.name)}),5381).toString():"",p}var ut=i.createContext(),ct=(ut.Consumer,i.createContext()),lt=(ct.Consumer,new Ye),ft=st();function ht(){return(0,i.useContext)(ut)||lt}function dt(){return(0,i.useContext)(ct)||ft}function pt(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ht(),o=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,i.useMemo)((function(){return st({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){fe()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ut.Provider,{value:o},i.createElement(ct.Provider,{value:s},e.children))}var vt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ft);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Re(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ft),this.name+e.hash},e}(),mt=/([A-Z])/,gt=/([A-Z])/g,yt=/^ms-/,kt=function(e){return"-"+e.toLowerCase()};function wt(e){return mt.test(e)?e.replace(gt,kt).replace(yt,"-ms-"):e}var bt=function(e){return null==e||!1===e||""===e};function xt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=xt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return bt(e)?"":Ee(e)?"."+e.styledComponentId:Ie(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:xt(e(t),t,n,r):e instanceof vt?n?(e.inject(n,r),e.getName(r)):e:be(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!bt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ie(t[o])?a.push(wt(o)+":",t[o],";"):be(t[o])?a.push.apply(a,e(t[o],o)):a.push(wt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in de?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var _t=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ie(e)||be(e)?_t(xt(we(xe,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:_t(xt(we(e,n)))}new Set;var St=function(e,t,n){return void 0===n&&(n=_e),e.theme!==n.theme&&e.theme||t||n.theme},Et=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Tt=/(^-|-$)/g;function Ct(e){return e.replace(Et,"-").replace(Tt,"")}var At=function(e){return Ze(tt(e)>>>0)};function Nt(e){return"string"==typeof e&&!0}var Rt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Pt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ot(e,t,n){var r=e[n];Rt(t)&&Rt(r)?Dt(r,t):e[n]=t}function Dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Rt(o))for(var s in o)Pt(s)&&Ot(e,o[s],s)}return e}var Lt=i.createContext();Lt.Consumer;var Mt={};function jt(e,t,n){var r=Ee(e),a=!Nt(e),o=t.attrs,s=void 0===o?xe:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Ct(e);Mt[n]=(Mt[n]||0)+1;var r=n+"-"+At("5.3.3"+n+Mt[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return Nt(e)?"styled."+e:"Styled("+Se(e)+")"}(e):l,h=t.displayName&&t.componentId?Ct(t.displayName)+"-"+t.componentId:t.componentId||c,d=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new it(n,h,r?e.componentStyle:void 0),g=m.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=_e);var r=ke({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ie(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(St(t,(0,i.useContext)(Lt),s)||_e,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=ht(),a=dt();return t?e.generateAndInjectStyles(_e,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,d),m=n,g=p.$as||t.$as||p.as||t.as||f,y=Nt(g),k=p!==t?ke({},t,{},p):t,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,me,g):!y||me(b))&&(w[b]=k[b]));return t.style&&p.style!==t.style&&(w.style=ke({},t.style,{},p.style)),w.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,i.createElement)(g,w)}(v,e,t,g)};return y.displayName=f,(v=i.forwardRef(y)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):xe,v.styledComponentId=h,v.target=r?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Nt(e)?e:Ct(Se(e)));return jt(e,ke({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Dt({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ye()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Ft=function(e){return function e(t,n,r){if(void 0===r&&(r=_e),!(0,ce.isValidElementType)(n))return Re(1,String(n));var i=function(){return t(n,r,It.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,ke({},r,{},i))},i.attrs=function(i){return e(t,n,ke({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(jt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ft[e]=Ft(e)}));var Ut=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=nt(e),Ye.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(xt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Ye.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=It.apply(void 0,[e].concat(n)),o="sc-global-"+At(JSON.stringify(a)),s=new Ut(a,o);function u(e){var t=ht(),n=dt(),r=(0,i.useContext)(Lt),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,Ne,n,i);else{var a=ke({},t,{theme:St(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(u)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=qe();return"<style "+[n&&'nonce="'+n+'"',Te+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Re(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Re(2);var n=((t={})[Te]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=qe();return r&&(n.nonce=r),[i.createElement("style",ke({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ye({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Re(2):i.createElement(pt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Re(3)}}();var zt,Bt,qt,Wt,Ht,Kt,Gt,Qt,$t,Yt,Jt,Xt,Zt,en=Ft,tn=en.div(zt||(zt=ue(["\n  display: flex;\n  border-bottom: 8px solid #222;\n"]))),nn=en.div(Bt||(Bt=ue(["\n  display: flex;\n  padding: 70px 45px;\n  flex-direction: column;\n  max-width: 815px;\n  margin: auto;\n"]))),rn=en.div(qt||(qt=ue(["\n  color: white;\n  margin: auto;\n  margin-bottom: 10px;\n  max-width: 700px;\n  width: 100%;\n\n  &:first-of-type {\n    margin-top: 3em;\n  }\n"]))),an=en.div(Wt||(Wt=ue(["\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n  marging-bottom: 1px;\n  font-size: 26px;\n  font-weigth: normal;\n  background: #303030;\n  padding: 0.8em 1.2em;\n  user-select: none;\n  align-items: center;\n\n  img {\n    filter: brightness(0) invert(1);\n    width: 24px;\n\n    @media (max-width: 600px) {\n      width: 16px;\n    }\n  }\n\n  @media (max-width: 600px) {\n    font-size: 16px;\n  }\n"]))),on=en.div(Ht||(Ht=ue(["\n  border-top: 4px solid black;\n  max-height: 1200px;\n  transition: max-height 0.25s cubic-bezier(0.5, 0, 0.1, 1);\n  font-size: 26px;\n  font-weight: normal;\n  line-height: normal;\n  background: #303030;\n  padding: 0.8em 2.2em 0.8em 1.2em;\n  white-space: pre-wrap;\n  user-selector: none;\n\n  @media (max-width: 600px) {\n    font-size: 16px;\n    line-height: 22px;\n  }\n"]))),sn=en.h1(Kt||(Kt=ue(["\n  font-size: 50px;\n  line-height: 1.1;\n  margin-top: 0;\n  margin-bottom: 8px;\n  color: white;\n  text-align: center;\n\n  @media (max-width: 600px) {\n    font-size: 35px;\n  }\n"]))),un=n(184),cn=["children"],ln=["children"],fn=["children"],hn=["children"],dn=["children"],pn=(0,i.createContext)();function vn(e){var t=e.children,n=se(e,cn);return(0,un.jsx)(tn,oe(oe({},n),{},{children:(0,un.jsx)(nn,{children:t})}))}vn.Title=function(e){var t=e.children,n=se(e,ln);return(0,un.jsx)(sn,oe(oe({},n),{},{children:t}))},vn.Item=function(e){var t=e.children,n=se(e,fn),r=l((0,i.useState)(!1),2),a=r[0],o=r[1],s=(0,i.useMemo)((function(){return{toggleShow:a,setToggleShow:o}}),[a]);return(0,un.jsx)(pn.Provider,{value:s,children:(0,un.jsx)(rn,oe(oe({},n),{},{children:t}))})},vn.Header=function(e){var t=e.children,n=se(e,hn),r=(0,i.useContext)(pn),a=r.toggleShow,o=r.setToggleShow;return(0,un.jsxs)(an,oe(oe({onClick:function(){return o((function(e){return!e}))}},n),{},{children:[t,a?(0,un.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,un.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},vn.Body=function(e){var t=e.children,n=se(e,dn);return(0,i.useContext)(pn).toggleShow?(0,un.jsx)(on,oe(oe({},n),{},{children:t})):null};var mn,gn,yn,kn,wn,bn,xn,_n=en.div(Gt||(Gt=ue(["\n  display: flex;\n  border-bottom: 8px solid #222;\n  padding: 50px 5%;\n  color: white;\n  overflow: hidden;\n"]))),In=en.div(Qt||(Qt=ue(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n  justify-content: space-between;\n  max-width: 1100px;\n  margin: auto;\n  width: 100%;\n\n  @media (max-width: 1000px) {\n    flex-direction: column;\n  }\n"])),(function(e){return e.direction})),Sn=en.div($t||($t=ue(["\n  width: 50%;\n\n  @media (max-width: 1000px) {\n    width: 100%;\n    padding: 0 45px;\n    text-align: center;\n  }\n"]))),En=en.h1(Yt||(Yt=ue(["\n  font-size: 50px;\n  line-height: 1.1;\n  margin-bottom: 8px;\n\n  @media (max-width: 600px) {\n    font-size: 35px;\n  }\n"]))),Tn=en.h2(Jt||(Jt=ue(["\n  font-size: 26px;\n  font-weigth: normal;\n  line-heigth: normal;\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]))),Cn=en.img(Xt||(Xt=ue(["\n  width: 100%;\n  height: auto;\n"]))),An=en.div(Zt||(Zt=ue(["\n  @media (max-width: 1000px) {\n    ",": last-of-type h2 {\n      margin-bottom: 50px;\n    }\n  }\n"])),_n),Nn=["children","direction"],Rn=["children"],Pn=["children"],On=["children"],Dn=["children"];function Ln(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=se(e,Nn);return(0,un.jsx)(_n,oe(oe({},i),{},{children:(0,un.jsx)(In,{direction:r,children:t})}))}Ln.Container=function(e){var t=e.children,n=se(e,Rn);return(0,un.jsx)(An,oe(oe({},n),{},{children:t}))},Ln.Pane=function(e){var t=e.children,n=se(e,Pn);return(0,un.jsx)(Sn,oe(oe({},n),{},{children:t}))},Ln.Title=function(e){var t=e.children,n=se(e,On);return(0,un.jsx)(En,oe(oe({},n),{},{children:t}))},Ln.SubTitle=function(e){var t=e.children,n=se(e,Dn);return(0,un.jsx)(Tn,oe(oe({},n),{},{children:t}))},Ln.Image=function(e){var t=Object.assign({},e);return(0,un.jsx)(Cn,oe({},t))};var Mn,jn,Fn,Un,Vn,zn=en.div(mn||(mn=ue(["\n  display: flex;\n  padding: 70px 56px;\n  margin: auto;\n  max-width: 1000px;\n  flex-direction: column;\n\n  @media (max-width: 1000px) {\n    padding: 70px 30px;\n  }\n"]))),Bn=en.div(gn||(gn=ue(["\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n"]))),qn=en.div(yn||(yn=ue(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));\n  grid-gap: 15px;\n\n  @media (max-width: 1000px) {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  }\n"]))),Wn=en.a(kn||(kn=ue(["\n  color: #757575;\n  margin-bottom: 20px;\n  font-size: 13px;\n  text-decoration: none;\n"]))),Hn=en.p(wn||(wn=ue(["\n  font-size: 16px;\n  color: #757575;\n  margin-bottom: 48px;\n"]))),Kn=en.p(bn||(bn=ue(["\n  font-size: 13px;\n  color: #757575;\n  margin-bottom: 48px;\n"]))),Gn=en.p(xn||(xn=ue(["\n  flex-basis: 100%;\n  height: 0;\n"]))),Qn=["children"],$n=["children"],Yn=["children"],Jn=["children"],Xn=["children"],Zn=["children"],er=["children"];function tr(e){var t=e.children,n=se(e,Qn);return(0,un.jsx)(zn,oe(oe({},n),{},{children:t}))}tr.Row=function(e){var t=e.children,n=se(e,$n);return(0,un.jsx)(qn,oe(oe({},n),{},{children:t}))},tr.Column=function(e){var t=e.children,n=se(e,Yn);return(0,un.jsx)(Bn,oe(oe({},n),{},{children:t}))},tr.Link=function(e){var t=e.children,n=se(e,Jn);return(0,un.jsx)(Wn,oe(oe({},n),{},{children:t}))},tr.Title=function(e){var t=e.children,n=se(e,Xn);return(0,un.jsx)(Hn,oe(oe({},n),{},{children:t}))},tr.Text=function(e){var t=e.children,n=se(e,Zn);return(0,un.jsx)(Kn,oe(oe({},n),{},{children:t}))},tr.Break=function(e){var t=e.children,n=se(e,er);return(0,un.jsx)(Gn,oe(oe({},n),{},{children:t}))};var nr,rr,ir,ar,or,sr,ur,cr,lr,fr,hr,dr,pr,vr,mr,gr,yr=en.div(Mn||(Mn=ue(["\n  display: flex;\n  justify-content: center;\n  height: 100%;\n  margin-top: 20px;\n  flex-wrap: wrap;\n\n  @media (max-width: 1000px) {\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),kr=en.input(jn||(jn=ue(["\n  max-width: 450px;\n  width: 100%;\n  borber: 0;\n  padding: 10px;\n  height: 70px;\n  box-sizing: border-box;\n"]))),wr=en.button(Fn||(Fn=ue(["\n  display: flex;\n  align-items: center;\n  heigth: 70px;\n  background: #e50914;\n  color: white;\n  text-transform: uppercase;\n  padding: 0 32px;\n  font-size: 26px;\n  border: 0;\n  cursor: pointer;\n\n  &:hover {\n    background: #f40612;\n  }\n\n  @media (max-width: 1000px) {\n    height: 50px;\n    font-size: 16px;\n    margin-top: 20px;\n    font-weight: bold;\n  }\n\n  img {\n    margin-left: 10px;\n    filter: brightness(0) invert(1);\n    width: 24px;\n\n    @media (max-width: 1000px) {\n      width: 16px;\n    }\n  }\n"]))),br=en.p(Un||(Un=ue(["\n  font-size: 19.2px;\n  color: white;\n  text-align: center;\n\n  @media (max-width: 600px) {\n    font-size: 16px;\n    line-height: 22px;\n  }\n"]))),xr=en.div(Vn||(Vn=ue(["\n  flex-basis: 100%;\n  height: 0;\n"]))),_r=["children"],Ir=["children"],Sr=["children"];function Er(e){var t=e.children,n=se(e,_r);return(0,un.jsx)(yr,oe(oe({},n),{},{children:t}))}Er.Input=function(e){var t=Object.assign({},e);return(0,un.jsx)(kr,oe({},t))},Er.Button=function(e){var t=e.children,n=se(e,Ir);return(0,un.jsxs)(wr,oe(oe({},n),{},{children:[t," ",(0,un.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Er.Text=function(e){var t=e.children,n=se(e,Sr);return(0,un.jsx)(br,oe(oe({},n),{},{children:t}))},Er.Break=function(e){var t=Object.assign({},e);return(0,un.jsx)(xr,oe({},t))};var Tr,Cr,Ar,Nr=en.div(nr||(nr=ue(["\n  display: flex;\n  flex-direction: column;\n  background: url(",") top left / cover\n    no-repeat;\n\n  @media (max-width: 1100px) {\n    ","\n  }\n"])),(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background: none"})),Rr=en.div(rr||(rr=ue(["\n  display: flex;\n  align-items: center;\n"]))),Pr=en.div(ir||(ir=ue(["\n  display: flex;\n  margin: 0 56px;\n  height: 64px;\n  padding: 18px 0;\n  justify-content: space-between;\n  align-items: center;\n\n  a {\n    display: flex;\n  }\n\n  @media (max-width: 1000px) {\n    margin: 0 30px;\n  }\n"]))),Or=en.button(ar||(ar=ue(["\n  background: url(",");\n  background-size: contain;\n  border: 0;\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n"])),(function(e){return e.src})),Dr=en.p(or||(or=ue(["\n  color: white;\n  text-decoration: none;\n  margin-right: 30px;\n  font-weight: ",";\n  cursor: pointer;\n\n  &:hover {\n    font-weight: bold;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n"])),(function(e){return"true"===e.active?"700":"normal"})),Lr=en.div(sr||(sr=ue(["\n  display: none;\n  background-color: black;\n  position: absolute;\n  padding: 10px;\n  width: 100px;\n  top: 32px;\n  right: 10px;\n\n  ",":last-of-type "," {\n    cursor: pointer;\n  }\n\n  "," {\n    margin-bottom: 10px;\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    ",", "," {\n      cursor: default;\n    }\n  }\n\n  button {\n    margin-right: 10px;\n  }\n\n  P {\n    font-size: 12px;\n    margin-bottom: 0;\n    margin-top: 0;\n  }\n"])),Rr,Dr,Rr,Dr,Or),Mr=en.div(ur||(ur=ue(["\n  display: flex;\n  align-items: center;\n\n  svg {\n    color: white;\n    cursor: pointer;\n  }\n\n  @media (max-width: 700px) {\n    display: none;\n  }\n"]))),jr=en.button(cr||(cr=ue(["\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n\n  img {\n    filter: brightness(0) invert(1);\n    width: 16px;\n  }\n"]))),Fr=en.button(lr||(lr=ue(["\n  box-shadow: 0 0.6vw 1vw -0.4vw rgba(0, 0, 0, 0.35);\n  background-color: #e6e6e6;\n  color: #000;\n  border-width: 0;\n  padding: 10px 20px;\n  border-radius: 5px;\n  max-width: 130px;\n  font-size: 20px;\n  font-weight: bold;\n  margin-top: 30px;\n  cursor: pointer;\n  transition: background-color 0.5s ease;\n\n  &:hover {\n    background-color: #ff1e1e;\n    color: white;\n  }\n"]))),Ur=en.input(fr||(fr=ue(["\n  background-color: rgba(64, 64, 64, 0.5);\n  color: white;\n  border: 1px solid white;\n  transition: width 0.5s;\n  height: 30px;\n  font-size: 14px;\n  border-radius: 4px;\n  margin-left: ",";\n  padding: ",";\n  opacity: ",";\n  width: ",";\n\n  &:focus {\n    background-color: rgba(0, 0, 0, 0.8);\n  }\n"])),(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0px"})),Vr=en.div(hr||(hr=ue(["\n  display: flex;\n  align-items: center;\n  margin-left: 20px;\n  position: relative;\n\n  button {\n    cursor: pointer;\n  }\n\n  &:hover > "," {\n    display: flex;\n    flex-direction: column;\n  }\n"])),Lr),zr=en.img(dr||(dr=ue(["\n  height: 32px;\n  width: 108px;\n  margin-right: 40px;\n\n  @media (min-width: 1449px) {\n    heigth: 45px;\n    width: 167px;\n  }\n"]))),Br=en(Z)(pr||(pr=ue(["\n  display: block;\n  background-color: #e50914;\n  width: 84px;\n  height: fit-content;\n  color: white;\n  border: 0;\n  font-size: 15px;\n  border-radius: 3px;\n  padding: 8px 17px;\n  cursor: pointer;\n  text-decoration: none;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #f40612;\n  }\n"]))),qr=en(Pr)(vr||(vr=ue(["\n  padding: 150px 0 500px 0;\n  flex-direction: column;\n  align-items: normal;\n  width: 50%;\n\n  @media (max-width: 1100px) {\n    display: none;\n  }\n"]))),Wr=en.p(mr||(mr=ue(["\n  color: white;\n  font-size: 22px;\n  line-height: normal;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.45);\n  margin: 0;\n"]))),Hr=en.h2(gr||(gr=ue(["\n  color: white;\n  font-size: 50px;\n  line-height: normal;\n  font-weight: bold;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.45);\n  margin: 0;\n  margin-bottom: 20px;\n"]))),Kr=["bg","children"],Gr=["searchTerm","setSearchTerm"],Qr=["children"],$r=["children"],Yr=["children"],Jr=["children"],Xr=["children"],Zr=["children"],ei=["children"],ti=["children"],ni=["children"],ri=["children"],ii=["src"],ai=["to"];function oi(e){var t=e.bg,n=void 0===t||t,r=e.children,i=se(e,Kr);return n?(0,un.jsx)(Nr,oe(oe({},i),{},{children:r})):r}oi.Search=function(e){var t=e.searchTerm,n=e.setSearchTerm,r=se(e,Gr),a=l((0,i.useState)(!1),2),o=a[0],s=a[1];return(0,un.jsxs)(Mr,oe(oe({},r),{},{children:[(0,un.jsx)(jr,{onClick:function(){return s((function(e){return!e}))},children:(0,un.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,un.jsx)(Ur,{value:t,onChange:function(e){var t=e.target;return n(t.value)},placeholder:"Search films and series",active:o})]}))},oi.Feature=function(e){var t=e.children,n=se(e,Qr);return(0,un.jsx)(qr,oe(oe({},n),{},{children:t}))},oi.FeatureCallOut=function(e){var t=e.children,n=se(e,$r);return(0,un.jsx)(Hr,oe(oe({},n),{},{children:t}))},oi.Dropdown=function(e){var t=e.children,n=se(e,Yr);return(0,un.jsx)(Lr,oe(oe({},n),{},{children:t}))},oi.Text=function(e){var t=e.children,n=se(e,Jr);return(0,un.jsx)(Wr,oe(oe({},n),{},{children:t}))},oi.TextLink=function(e){var t=e.children,n=se(e,Xr);return(0,un.jsx)(Dr,oe(oe({},n),{},{children:t}))},oi.PlayButton=function(e){var t=e.children,n=se(e,Zr);return(0,un.jsx)(Fr,oe(oe({},n),{},{children:t}))},oi.Frame=function(e){var t=e.children,n=se(e,ei);return(0,un.jsx)(Pr,oe(oe({},n),{},{children:t}))},oi.Group=function(e){var t=e.children,n=se(e,ti);return(0,un.jsx)(Rr,oe(oe({},n),{},{children:t}))},oi.ButtonLink=function(e){var t=e.children,n=se(e,ni);return(0,un.jsx)(Br,oe(oe({},n),{},{children:t}))},oi.Profile=function(e){var t=e.children,n=se(e,ri);return(0,un.jsx)(Vr,oe(oe({},n),{},{children:t}))},oi.Picture=function(e){var t=e.src,n=se(e,ii);return(0,un.jsx)(Or,oe(oe({},n),{},{src:"/images/users/".concat(t,".png")}))},oi.Logo=function(e){var t=e.to,n=se(e,ai);return(0,un.jsx)(Z,{to:t,children:(0,un.jsx)(zr,oe({},n))})};var si,ui,ci,li,fi,hi,di,pi,vi,mi=en.div(Tr||(Tr=ue(["\n  display: flex;\n  flex-direction: column;\n  border-bottom: 8px solid #222;\n  text-align: center;\n  padding: 165px 45px;\n"]))),gi=en.h1(Cr||(Cr=ue(["\n  color: white;\n  max-width: 640px;\n  font-size: 50px;\n  font-weight: 500;\n  margin: auto;\n\n  @media (max-width: 600px) {\n    font-size: 35px;\n  }\n"]))),yi=en.h2(Ar||(Ar=ue(["\n  color: white;\n  font-size: 26px;\n  font-weight: normal;\n  margin: 16px auto;\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]))),ki=["children"],wi=["children"],bi=["children"];function xi(e){var t=e.children,n=se(e,ki);return(0,un.jsx)(mi,oe(oe({},n),{},{children:t}))}xi.Title=function(e){var t=e.children,n=se(e,wi);return(0,un.jsx)(gi,oe(oe({},n),{},{children:t}))},xi.SubTitle=function(e){var t=e.children,n=se(e,bi);return(0,un.jsx)(yi,oe(oe({},n),{},{children:t}))};var _i,Ii,Si,Ei,Ti,Ci,Ai=en.div(si||(si=ue(["\n  display: flex;\n  flex-direction: column;\n  min-height: 660px;\n  background-color: rgba(0, 0, 0, 0.75);\n  border-radius: 5px;\n  box-sizing: border-box;\n  width: 100%;\n  margin: auto;\n  max-width: 450px;\n  padding: 60px 68px 40px;\n  margin-bottom: 100px;\n"]))),Ni=en.div(ui||(ui=ue(["\n  background: #e87c03;\n  border-radius: 4px;\n  fonnt-size: 14px;\n  margin: 0 0 16px;\n  color: white;\n  padding: 15px 20px;\n"]))),Ri=en.form(ci||(ci=ue(["\n  display: flex;\n  flex-direction: column;\n  max-width: 450px;\n  width: 100%;\n"]))),Pi=en.h1(li||(li=ue(["\n  color: #fff;\n  font-size: 32px;\n  font-weight: bold;\n  margin-bottom: 28px;\n"]))),Oi=en.p(fi||(fi=ue(["\n  color: #737373;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Di=en.p(hi||(hi=ue(["\n  margin-top: 10px;\n  font-size: 13px;\n  line-height: normal;\n  color: #8c8c8c;\n"]))),Li=en(Z)(di||(di=ue(["\n  color: white;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),Mi=en.input(pi||(pi=ue(["\n  background: #333;\n  border-radius: 4px;\n  border: 0;\n  color: white;\n  height: 50px;\n  line-height: 50px;\n  padding: 5px 20px;\n  margin-bottom: 20px;\n\n  &:last-of-type {\n    margin-bottom: 30px;\n  }\n"]))),ji=en.button(vi||(vi=ue(["\n  background: #e50914;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 24px 0 12px;\n  padding: 16px;\n  border: 0;\n  color: white;\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.5;\n  }\n"]))),Fi=["children"],Ui=["children"],Vi=["children"],zi=["children"],Bi=["children"],qi=["children"],Wi=["children"],Hi=["children"],Ki=["children"];function Gi(e){var t=e.children,n=se(e,Fi);return(0,un.jsx)(Ai,oe(oe({},n),{},{children:t}))}Gi.Base=function(e){var t=e.children,n=se(e,Ui);return(0,un.jsx)(Ri,oe(oe({},n),{},{children:t}))},Gi.Error=function(e){var t=e.children,n=se(e,Vi);return(0,un.jsx)(Ni,oe(oe({},n),{},{children:t}))},Gi.Title=function(e){var t=e.children,n=se(e,zi);return(0,un.jsx)(Pi,oe(oe({},n),{},{children:t}))},Gi.Text=function(e){var t=e.children,n=se(e,Bi);return(0,un.jsx)(Oi,oe(oe({},n),{},{children:t}))},Gi.TextSmall=function(e){var t=e.children,n=se(e,qi);return(0,un.jsx)(Di,oe(oe({},n),{},{children:t}))},Gi.Link=function(e){var t=e.children,n=se(e,Wi);return(0,un.jsx)(Li,oe(oe({},n),{},{children:t}))},Gi.Input=function(e){var t=e.children,n=se(e,Hi);return(0,un.jsx)(Mi,oe(oe({},n),{},{children:t}))},Gi.Submit=function(e){var t=e.children,n=se(e,Ki);return(0,un.jsx)(ji,oe(oe({},n),{},{children:t}))};var Qi,$i,Yi,Ji,Xi=en.div(_i||(_i=ue(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  max-width: 80%;\n"]))),Zi=en.h1(Ii||(Ii=ue(["\n  width: 100%;\n  color: white;\n  font-size: 48px;\n  text-align: center;\n  font-weight: 500;\n"]))),ea=en.ul(Si||(Si=ue(["\n  padding: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: row;\n"]))),ta=en.p(Ei||(Ei=ue(["\n  color: #808080;\n  text-overflow: ellipsis;\n  font-size: 16px;\n\n  &:hover {\n    font-weight: bold;\n    color: #e5e5e5;\n  }\n"]))),na=en.img(Ti||(Ti=ue(["\n  width: 100%;\n  max-width: 150px;\n  height: auto;\n  border: 3px solid black;\n  cursor: pointer;\n"]))),ra=en.li(Ci||(Ci=ue(["\n  max-heigth: 200px;\n  max-width: 200px;\n  list-style-type: none;\n  text-align: center;\n  margin-right: 30px;\n\n  &:hover > "," {\n    border: 3px solid white;\n  }\n\n  &:hover "," {\n    font-weight: bold;\n    color: white;\n  }\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n"])),na,ta),ia=["children"],aa=["children"],oa=["children"],sa=["children"],ua=["src"],ca=["children"];function la(e){var t=e.children,n=se(e,ia);return(0,un.jsx)(Xi,oe(oe({},n),{},{children:t}))}la.Title=function(e){var t=e.children,n=se(e,aa);return(0,un.jsx)(Zi,oe(oe({},n),{},{children:t}))},la.List=function(e){var t=e.children,n=se(e,oa);return(0,un.jsx)(ea,oe(oe({},n),{},{children:t}))},la.User=function(e){var t=e.children,n=se(e,sa);return(0,un.jsx)(ra,oe(oe({},n),{},{children:t}))},la.Picture=function(e){var t=e.src,n=se(e,ua);return(0,un.jsx)(na,oe(oe({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},la.Name=function(e){var t=e.children,n=se(e,ca);return(0,un.jsx)(ta,oe(oe({},n),{},{children:t}))};var fa,ha,da,pa,va,ma,ga,ya,ka,wa,ba,xa,_a,Ia,Sa,Ea=Vt(Qi||(Qi=ue(["\n  body {\n    overflow: hidden;\n  }\n"]))),Ta=Vt($i||($i=ue(["\n  body {\n    overflow: visible;\n  }\n"]))),Ca=en.div(Yi||(Yi=ue(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  z-index: 999;\n\n  :after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    background-image: url(/images/misc/spinner.png);\n    background-size: contain;\n    background-repeat: no-repeat;\n    margin-top: -150px;\n    margin-left: -75px;\n    width: 150px;\n    height: 150px;\n    animation-name: spin;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n\n  @-ms-keyframes spin {\n    from {\n      -ms-transform: rotate(0deg);\n    }\n    to {\n      -ms-transform: rotate(360deg);\n    }\n  }\n\n  @-moz-keyframes spin {\n    from {\n      -moz-transform: rotate(0deg);\n    }\n    to {\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-webkit-keyframes spin {\n    from {\n      -webkit-transform: rotate(0deg);\n    }\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),Aa=en.img(Ji||(Ji=ue(["\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -100px;\n  margin-left: -22px;\n"]))),Na=["src"];function Ra(e){var t=e.src,n=se(e,Na);return(0,un.jsxs)(Ca,oe(oe({},n),{},{children:[(0,un.jsx)(Ea,{}),(0,un.jsx)(Aa,{src:"/images/users/".concat(t,".png")})]}))}Ra.ReleaseBody=function(){return(0,un.jsx)(Ta,{})};var Pa,Oa,Da,La,Ma,ja=en.p(fa||(fa=ue(["\n  font-size: 24px;\n  color: #e5e5e5;\n  font-weight: bold;\n  margin-left: 56px;\n  margin-right: 56px;\n  margin-top: 0;\n"]))),Fa=en.div(ha||(ha=ue(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 50px;\n\n  > "," {\n    @media (max-width: 1000px) {\n      margin-left: 30px;\n    }\n  }\n\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n"])),ja),Ua=en.div(da||(da=ue(["\n  display: flex;\n  flex-direction: ",";\n  ",";\n  ",";\n\n  > ",":first-of-type {\n    @media (min-width: 1100px) {\n      margin-top: -100px;\n    }\n  }\n"])),(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),Fa),Va=en.p(pa||(pa=ue(["\n  font-size: 12px;\n  color: #fff;\n  font-weight: bold;\n  margin-top: 0;\n  margin-bottom: 0;\n  user-select: none;\n  display: none;\n"]))),za=en.p(va||(va=ue(["\n  margin-top: 5px;\n  font-size: 10px;\n  color: #fff;\n  margin-bottom: 0;\n  user-select: none;\n  display: none;\n  line-height: normal;\n"]))),Ba=en.div(ma||(ma=ue(["\n  display: flex;\n  flex-direction: row;\n"]))),qa=en.div(ga||(ga=ue(["\n  display: none;\n  position: absolute;\n  bottom: 0;\n  padding: 10px;\n  background-color: #0000008f;\n"]))),Wa=en.img(ya||(ya=ue(["\n  border: 0;\n  width: 100%;\n  max-width: 305px;\n  cursor: pointer;\n  height: auto;\n  padding: 0;\n  margin: 0;\n"]))),Ha=en.div(ka||(ka=ue(["\n  display: flex;\n  flex-direction: column;\n  margin-right: 5px;\n  position: relative;\n  cursor: pointer;\n  transition: transform 0.2s;\n\n  &:hover {\n    transform: scale(1.3);\n    z-index: 99;\n  }\n\n  @media (min-width: 1200px) {\n    &:hover ",", &:hover ",", &:hover "," {\n      display: block;\n      z-index: 100;\n    }\n  }\n\n  &:first-of-type {\n    margin-left: 56px;\n\n    @media (max-width: 1000px) {\n      margin-left: 30px;\n    }\n  }\n\n  &:last-of-type {\n    margin-right: 56px;\n\n    @media (max-width: 1000px) {\n      margin-right: 30px;\n    }\n  }\n"])),qa,za,Va),Ka=en.p(wa||(wa=ue(["\n  font-size: 18px;\n  color: white;\n  font-weight: ",";\n  margin: 0;\n\n  @media (max-width: 600px) {\n    line-height: 22px;\n  }\n"])),(function(e){return"bold"===e.fontWeight?"bold":"normal"})),Ga=en.div(ba||(ba=ue(["\n  display: flex;\n  flex-direction: row;\n  background: url(",");\n  background-size: contain;\n  position: relative;\n  height: 360px;\n  background-position-x: right;\n  background-repeat: no-repeat;\n  background-color: black;\n\n  @media (max-width: 1000px) {\n    height: auto;\n    background-size: auto;\n\n    "," {\n      font-size: 20px;\n      line-height: 20px;\n      margin-bottom: 10px;\n    }\n    "," {\n      font-size: 14px;\n    }\n  }\n"])),(function(e){return e.src}),ja,Ka),Qa=en(ja)(xa||(xa=ue(["\n  margin-left: 0;\n"]))),$a=en.button(_a||(_a=ue(["\n  color: white;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n\n  img {\n    filter: brightness(0) invert(1);\n    width: 24px;\n  }\n"]))),Ya=en.div(Ia||(Ia=ue(["\n  margin: 56px;\n  max-width: 500px;\n  line-height: normal;\n\n  @media (max-width: 1000px) {\n    margin: 30px;\n    max-width: none;\n  }\n"]))),Ja=en.div(Sa||(Sa=ue(["\n  background-color: ",";\n  border-radius: 15px;\n  width: 28px;\n  line-height: 28px;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  margin-right: 10px;\n  font-size: 12px;\n"])),(function(e){return e.rating>=15?"#f44336":"#2f9600"})),Xa=["children"],Za=["children"],eo=["children"],to=["children"],no=["children"],ro=["children"],io=["children"],ao=["children","category"],oo=["item","children"],so=(0,i.createContext)();function uo(e){var t=e.children,n=se(e,Xa),r=l((0,i.useState)(!1),2),a=r[0],o=r[1],s=l((0,i.useState)({}),2),u=s[0],c=s[1],f=(0,i.useMemo)((function(){return{showFeature:a,setShowFeature:o,itemFeature:u,setItemFeature:c}}),[a,u]);return(0,un.jsx)(so.Provider,{value:f,children:(0,un.jsx)(Fa,oe(oe({},n),{},{children:t}))})}uo.Group=function(e){var t=e.children,n=se(e,Za);return(0,un.jsx)(Ua,oe(oe({},n),{},{children:t}))},uo.Title=function(e){var t=e.children,n=se(e,eo);return(0,un.jsx)(ja,oe(oe({},n),{},{children:t}))},uo.SubTitle=function(e){var t=e.children,n=se(e,to);return(0,un.jsx)(Va,oe(oe({},n),{},{children:t}))},uo.Text=function(e){var t=e.children,n=se(e,no);return(0,un.jsx)(za,oe(oe({},n),{},{children:t}))},uo.Entities=function(e){var t=e.children,n=se(e,ro);return(0,un.jsx)(Ba,oe(oe({},n),{},{children:t}))},uo.Meta=function(e){var t=e.children,n=se(e,io);return(0,un.jsx)(qa,oe(oe({},n),{},{children:t}))},uo.Feature=function(e){var t=e.children,n=e.category,r=se(e,ao),a=(0,i.useContext)(so),o=a.showFeature,s=a.itemFeature,u=a.setShowFeature;return o?(0,un.jsx)(Ga,oe(oe({src:"/images/".concat(n,"/").concat(s.genre,"/").concat(s.slug,"/large.jpg")},r),{},{children:(0,un.jsxs)(Ya,{children:[(0,un.jsx)(Qa,{children:s.title}),(0,un.jsx)(Ka,{children:s.description}),(0,un.jsx)($a,{onClick:function(){return u(!1)},children:(0,un.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,un.jsxs)(Ua,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,un.jsx)(Ja,{rating:s.maturity,children:s.maturity<12?"PG":s.maturity}),(0,un.jsx)(Ka,{fontWeight:"bold",children:s.genre.charAt(0).toUpperCase()+s.genre.slice(1)})]}),t]})})):null},uo.Item=function(e){var t=e.item,n=e.children,r=se(e,oo),a=(0,i.useContext)(so),o=a.setShowFeature,s=a.setItemFeature;return(0,un.jsx)(Ha,oe(oe({onClick:function(){s(t),o(!0)}},r),{},{children:n}))},uo.Image=function(e){var t=Object.assign({},e);return(0,un.jsx)(Wa,oe({},t))};var co=en.div(Pa||(Pa=ue([""]))),lo=en.div(Oa||(Oa=ue(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.75);\n  margin: 0 20px;\n"]))),fo=en.div(Da||(Da=ue(["\n  position: relative;\n  width: 100%;\n  max-width: 900px;\n  margin: auto;\n\n  video {\n    height: 100%;\n    width: 100%;\n  }\n"]))),ho=(en.button(La||(La=ue(["\n  position: absolute;\n  right: 15px;\n  top: 15px;\n  width: 22px;\n  height: 22px;\n  opacity: 0.3;\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before,\n  &:after {\n    position: absolute;\n    left: 10px;\n    top: 0;\n    content: ' ';\n    height: 22px;\n    width: 2px;\n    background-color: #333;\n  }\n\n  &:before {\n    transform: rotate(45deg);\n  }\n  &:after {\n    transform: rotate(-45deg);\n  }\n"]))),en.button(Ma||(Ma=ue(["\n  background-color: #e50914;\n  border-color: #ff0a16;\n  width: 115px;\n  height: 45px;\n  text-transform: uppercase;\n  font-weight: bold;\n  color: white;\n  font-size: 18px;\n  height: 45px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 0;\n  transition: transform 0.3s ease;\n\n  &:hover {\n    transform: scale(1.05);\n    background-color: #ff0a16;\n  }\n"])))),po=["children"],vo=["src"],mo=(0,i.createContext)();function go(e){var t=e.children,n=se(e,po),r=l((0,i.useState)(!1),2),a=r[0],o=r[1],s=(0,i.useMemo)((function(){return{showPlayer:a,setShowPlayer:o}}),[a]);return(0,un.jsx)(mo.Provider,{value:s,children:(0,un.jsx)(co,oe(oe({},n),{},{children:t}))})}go.Video=function(e){var t=e.src,n=se(e,vo),r=(0,i.useContext)(mo),o=r.showPlayer,s=r.setShowPlayer;return o?a.createPortal((0,un.jsx)(lo,oe(oe({onClick:function(){return s(!1)}},n),{},{children:(0,un.jsx)(fo,{children:(0,un.jsx)("video",{id:"netflix-player",controls:!0,children:(0,un.jsx)("source",{src:t,type:"video/mp4"})})})})),document.body):null},go.Button=function(e){var t=Object.assign({},e),n=(0,i.useContext)(mo).setShowPlayer;return(0,un.jsx)(ho,oe(oe({onClick:function(){return n((function(e){return!e}))}},t),{},{children:"Play"}))};var yo=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg";function ko(e){var t=e.children;return(0,un.jsxs)(oi,{children:[(0,un.jsxs)(oi.Frame,{children:[(0,un.jsx)(oi.Logo,{to:ee,alt:"Netflix",src:yo}),(0,un.jsx)(oi.Frame,{children:(0,un.jsx)(oi.ButtonLink,{to:te,children:"Browse"})}),(0,un.jsx)(oi.Frame,{children:(0,un.jsx)(oi.ButtonLink,{to:re,children:"Sign In"})})]}),t]})}var wo=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function bo(){return(0,un.jsxs)(vn,{children:[(0,un.jsx)(vn.Title,{children:"Frequently Asked Questions"}),wo.map((function(e){var t=e.id,n=e.header,r=e.body;return(0,un.jsxs)(vn.Item,{children:[(0,un.jsx)(vn.Header,{children:n}),(0,un.jsx)(vn.Body,{children:r})]},t)})),(0,un.jsx)(vn.Item,{}),(0,un.jsxs)(Er,{children:[(0,un.jsx)(Er.Input,{placeholder:"Email adress"}),(0,un.jsx)(Er.Button,{children:"Try it now"}),(0,un.jsx)(Er.Break,{}),(0,un.jsx)(Er.Text,{children:"Ready to watch? Entter email to createor restaert your memebership"})]})]})}function xo(){return(0,un.jsxs)(tr,{children:[(0,un.jsx)(tr.Title,{children:"Questions? Contact us"}),(0,un.jsx)(tr.Break,{}),(0,un.jsxs)(tr.Row,{children:[(0,un.jsxs)(tr.Column,{children:[(0,un.jsx)(tr.Link,{href:"#",children:"FAQ"}),(0,un.jsx)(tr.Link,{href:"#",children:"Investor Relations"}),(0,un.jsx)(tr.Link,{href:"#",children:"Ways to Watch"}),(0,un.jsx)(tr.Link,{href:"#",children:"Corporate Information"}),(0,un.jsx)(tr.Link,{href:"#",children:"Netflix Originals"})]}),(0,un.jsxs)(tr.Column,{children:[(0,un.jsx)(tr.Link,{href:"#",children:"Help Centre"}),(0,un.jsx)(tr.Link,{href:"#",children:"Jobs"}),(0,un.jsx)(tr.Link,{href:"#",children:"Terms of Use"}),(0,un.jsx)(tr.Link,{href:"#",children:"Contact Us"})]}),(0,un.jsxs)(tr.Column,{children:[(0,un.jsx)(tr.Link,{href:"#",children:"Account"}),(0,un.jsx)(tr.Link,{href:"#",children:"Redeem Gift Cards"}),(0,un.jsx)(tr.Link,{href:"#",children:"Privacy"}),(0,un.jsx)(tr.Link,{href:"#",children:"Speed Test"})]}),(0,un.jsxs)(tr.Column,{children:[(0,un.jsx)(tr.Link,{href:"#",children:"Media Centre"}),(0,un.jsx)(tr.Link,{href:"#",children:"Buy Gift Cards"}),(0,un.jsx)(tr.Link,{href:"#",children:"Cookie Preferences"}),(0,un.jsx)(tr.Link,{href:"#",children:"Legal Notices"})]})]}),(0,un.jsx)(tr.Break,{}),(0,un.jsx)(tr.Text,{children:"Netflix Russian Federation"})]})}var _o=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function Io(){return(0,un.jsx)(Ln.Container,{children:_o.map((function(e){var t=e.id,n=e.direction,r=e.title,i=e.subTitle,a=e.image,o=e.alt;return(0,un.jsxs)(Ln,{direction:n,children:[(0,un.jsxs)(Ln.Pane,{children:[(0,un.jsx)(Ln.Title,{children:r}),(0,un.jsx)(Ln.SubTitle,{children:i})]}),(0,un.jsx)(Ln.Pane,{children:(0,un.jsx)(Ln.Image,{src:a,alt:o})})]},t)}))})}function So(){return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(ko,{children:(0,un.jsxs)(xi,{children:[(0,un.jsx)(xi.Title,{children:"Unlimited films, TV progemmes and more"}),(0,un.jsx)(xi.SubTitle,{children:"Watch anywhere. Cancel at any time"}),(0,un.jsxs)(Er,{children:[(0,un.jsx)(Er.Input,{placeholder:"Email adress"}),(0,un.jsx)(Er.Button,{children:"Try it now"}),(0,un.jsx)(Er.Break,{}),(0,un.jsx)(Er.Text,{children:"Ready to watch? Entter email to createor restaert your memebership"})]})]})}),(0,un.jsx)(Io,{}),(0,un.jsx)(bo,{}),(0,un.jsx)(xo,{})]})}function Eo(e,t){return Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eo(e,t)}function To(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eo(e,t)}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Co(e)}function Ao(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e,t){if(t&&("object"===No(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Oo(e){var t=Ao();return function(){var n,r=Co(e);if(t){var i=Co(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Po(this,n)}}function Do(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Lo(e){return function(e){if(Array.isArray(e))return s(e)}(e)||Do(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(e,t,n){return t&&jo(e.prototype,t),n&&jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uo(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ko(e)}function Vo(e){return"string"===typeof e}function zo(e){return"number"===typeof e}function Bo(e){return!0===e||!1===e||function(e){return qo(e)&&null!==e}(e)&&"[object Boolean]"==Ko(e)}function qo(e){return"object"===typeof e}function Wo(e){return void 0!==e&&null!==e}function Ho(e){return!e.trim().length}function Ko(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Go=function(e){return"Invalid value for key ".concat(e)},Qo=function(e){return"Pattern length exceeds max of ".concat(e,".")},$o=Object.prototype.hasOwnProperty,Yo=function(){function e(t){var n=this;Mo(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=Jo(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return Fo(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function Jo(e){var t=null,n=null,r=null,i=1;if(Vo(e)||Uo(e))r=e,t=Xo(e),n=Zo(e);else{if(!$o.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var a=e.name;if(r=a,$o.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=Xo(a),n=Zo(a)}return{path:t,id:n,weight:i,src:r}}function Xo(e){return Uo(e)?e:e.split(".")}function Zo(e){return Uo(e)?e.join("."):e}var es={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(Wo(t))if(i[a]){var o=t[i[a]];if(!Wo(o))return;if(a===i.length-1&&(Vo(o)||zo(o)||Bo(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(Uo(o)){r=!0;for(var s=0,u=o.length;s<u;s+=1)e(o[s],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,Vo(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},ts=oe(oe(oe(oe({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),es),ns=/[^ ]+/g;function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(ns).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var is=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?ts.getFn:n,i=t.fieldNormWeight,a=void 0===i?ts.fieldNormWeight:i;Mo(this,e),this.norm=rs(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return Fo(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,Vo(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();Vo(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(Wo(e)&&!Ho(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=n.getFn(e,t.path);if(Wo(a))if(Uo(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),s=o.nestedArrIndex,u=o.value;if(Wo(u))if(Vo(u)&&!Ho(u)){var c={v:u,i:s,n:n.norm.get(u)};e.push(c)}else Uo(u)&&u.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if(!Ho(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function as(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?ts.getFn:r,a=n.fieldNormWeight,o=void 0===a?ts.fieldNormWeight:a,s=new is({getFn:i,fieldNormWeight:o});return s.setKeys(e.map(Jo)),s.setSources(t),s.create(),s}function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,s=void 0===o?0:o,u=t.distance,c=void 0===u?ts.distance:u,l=t.ignoreLocation,f=void 0===l?ts.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(s-a);return c?h+d/c:d?1:h}function ss(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ts.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var s=e[a];s&&-1===r?r=a:s||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var us=32;function cs(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var ls=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?ts.location:i,o=r.threshold,s=void 0===o?ts.threshold:o,u=r.distance,c=void 0===u?ts.distance:u,l=r.includeMatches,f=void 0===l?ts.includeMatches:l,h=r.findAllMatches,d=void 0===h?ts.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?ts.minMatchCharLength:p,m=r.isCaseSensitive,g=void 0===m?ts.isCaseSensitive:m,y=r.ignoreLocation,k=void 0===y?ts.ignoreLocation:y;if(Mo(this,e),this.options={location:a,threshold:s,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:g,ignoreLocation:k},this.pattern=g?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:cs(e),startIndex:t})},b=this.pattern.length;if(b>us){for(var x=0,_=b%us,I=b-_;x<I;)w(this.pattern.substr(x,us),x),x+=us;if(_){var S=b-us;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return Fo(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,s=a.distance,u=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?ts.location:i,o=r.distance,s=void 0===o?ts.distance:o,u=r.threshold,c=void 0===u?ts.threshold:u,l=r.findAllMatches,f=void 0===l?ts.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?ts.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?ts.includeMatches:p,m=r.ignoreLocation,g=void 0===m?ts.ignoreLocation:m;if(t.length>us)throw new Error(Qo(us));for(var y,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,I=d>1||v,S=I?Array(w):[];(y=e.indexOf(t,_))>-1;){var E=os(t,{currentLocation:y,expectedLocation:b,distance:s,ignoreLocation:g});if(x=Math.min(E,x),_=y+k,I)for(var T=0;T<k;)S[y+T]=1,T+=1}_=-1;for(var C=[],A=1,N=k+w,R=1<<k-1,P=0;P<k;P+=1){for(var O=0,D=N;O<D;){os(t,{errors:P,currentLocation:b+D,expectedLocation:b,distance:s,ignoreLocation:g})<=x?O=D:N=D,D=Math.floor((N-O)/2+O)}N=D;var L=Math.max(1,b-D+1),M=f?w:Math.min(b+D,w)+k,j=Array(M+2);j[M+1]=(1<<P)-1;for(var F=M;F>=L;F-=1){var U=F-1,V=n[e.charAt(U)];if(I&&(S[U]=+!!V),j[F]=(j[F+1]<<1|1)&V,P&&(j[F]|=(C[F+1]|C[F])<<1|1|C[F+1]),j[F]&R&&(A=os(t,{errors:P,currentLocation:U,expectedLocation:b,distance:s,ignoreLocation:g}))<=x){if(x=A,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(os(t,{errors:P+1,currentLocation:b,expectedLocation:b,distance:s,ignoreLocation:g})>x)break;C=j}var z={isMatch:_>=0,score:Math.max(.001,A)};if(I){var B=ss(S,d);B.length?v&&(z.indices=B):z.isMatch=!1}return z}(e,n,i,{location:o+a,distance:s,threshold:u,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,g=v.score,y=v.indices;m&&(p=!0),d+=g,m&&y&&(h=[].concat(Lo(h),Lo(y)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),fs=function(){function e(t){Mo(this,e),this.pattern=t}return Fo(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return hs(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return hs(e,this.singleRegex)}}]),e}();function hs(e,t){var n=e.match(t);return n?n[1]:null}var ds=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(fs),ps=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(fs),vs=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(fs),ms=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(fs),gs=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(fs),ys=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(fs),ks=function(e){To(n,e);var t=Oo(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?ts.location:a,s=i.threshold,u=void 0===s?ts.threshold:s,c=i.distance,l=void 0===c?ts.distance:c,f=i.includeMatches,h=void 0===f?ts.includeMatches:f,d=i.findAllMatches,p=void 0===d?ts.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?ts.minMatchCharLength:v,g=i.isCaseSensitive,y=void 0===g?ts.isCaseSensitive:g,k=i.ignoreLocation,w=void 0===k?ts.ignoreLocation:k;return Mo(this,n),(r=t.call(this,e))._bitapSearch=new ls(e,{location:o,threshold:u,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:y,ignoreLocation:w}),r}return Fo(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(fs),ws=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),t.call(this,e)}return Fo(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(fs),bs=[ds,ws,vs,ms,ys,gs,ps,ks],xs=bs.length,_s=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function Is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(_s).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],s=!1,u=-1;!s&&++u<xs;){var c=bs[u],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),s=!0)}if(!s)for(u=-1;++u<xs;){var f=bs[u],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var Ss=new Set([ks.type,ws.type]),Es=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?ts.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?ts.includeMatches:a,s=n.minMatchCharLength,u=void 0===s?ts.minMatchCharLength:s,c=n.ignoreLocation,l=void 0===c?ts.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?ts.findAllMatches:f,d=n.location,p=void 0===d?ts.location:d,v=n.threshold,m=void 0===v?ts.threshold:v,g=n.distance,y=void 0===g?ts.distance:g;Mo(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:u,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:y},this.pattern=i?t:t.toLowerCase(),this.query=Is(this.pattern,this.options)}return Fo(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,s=0,u=t.length;s<u;s+=1){var c=t[s];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var g=h.constructor.type;Ss.has(g)?a=[].concat(Lo(a),Lo(v)):a.push(v)}}if(i){var y={isMatch:!0,score:o/i};return r&&(y.indices=a),y}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Ts=[];function Cs(e,t){for(var n=0,r=Ts.length;n<r;n+=1){var i=Ts[n];if(i.condition(e,t))return new i(e,t)}return new ls(e,t)}var As="$and",Ns="$or",Rs="$path",Ps="$val",Os=function(e){return!(!e[As]&&!e[Ns])},Ds=function(e){return!!e[Rs]},Ls=function(e){return!Uo(e)&&qo(e)&&!Os(e)},Ms=function(e){return ie({},As,Object.keys(e).map((function(t){return ie({},t,e[t])})))};function js(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=Ds(n);if(!a&&r.length>1&&!Os(n))return e(Ms(n));if(Ls(n)){var o=a?n[Rs]:r[0],s=a?n[Ps]:n[o];if(!Vo(s))throw new Error(Go(o));var u={keyId:Zo(o),pattern:s};return i&&(u.searcher=Cs(s,t)),u}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];Uo(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return Os(e)||(e=Ms(e)),a(e)}function Fs(e,t){var n=t.ignoreFieldNorm,r=void 0===n?ts.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function Us(e,t){var n=e.matches;t.matches=[],Wo(n)&&n.forEach((function(e){if(Wo(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function Vs(e,t){t.score=e.score}function zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?ts.includeMatches:r,a=n.includeScore,o=void 0===a?ts.includeScore:a,s=[];return i&&s.push(Us),o&&s.push(Vs),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,r)})),r}))}var Bs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Mo(this,e),this.options=oe(oe({},ts),n),this.options.useExtendedSearch,this._keyStore=new Yo(this.options.keys),this.setCollection(t,r)}return Fo(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof is))throw new Error("Incorrect 'index' type");this._myIndex=t||as(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){Wo(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,s=i.shouldSort,u=i.sortFn,c=i.ignoreFieldNorm,l=Vo(e)?Vo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Fs(l,{ignoreFieldNorm:c}),s&&l.sort(u),zo(r)&&r>-1&&(l=l.slice(0,r)),zs(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=Cs(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(Wo(n)){var o=t.searchIn(n),s=o.isMatch,u=o.score,c=o.indices;s&&r.push({item:n,idx:i,matches:[{score:u,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=js(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,s=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return s&&s.length?[{idx:i,item:r,matches:s}]:[]}for(var u=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)u.push.apply(u,Lo(f));else if(n.operator===As)return[]}return u},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(Wo(t)){var s=r(n,t,i);s.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),s.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,Lo(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=Cs(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(Wo(r)){var s=[];i.forEach((function(e,i){s.push.apply(s,Lo(t._findMatches({key:e,value:r[i],searcher:n})))})),s.length&&o.push({idx:a,item:r,matches:s})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!Wo(n))return[];var i=[];if(Uo(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(Wo(n)){var s=r.searchIn(n),u=s.isMatch,c=s.score,l=s.indices;u&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,s=r.searchIn(a),u=s.isMatch,c=s.score,l=s.indices;u&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();function qs(e){var t=e.user,n=e.setProfile;return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(oi,{bg:!1,children:(0,un.jsx)(oi.Frame,{children:(0,un.jsx)(oi.Logo,{to:ee,src:yo,alt:"Netflix"})})}),(0,un.jsxs)(la,{children:[(0,un.jsx)(la.Title,{children:"Who's watching?"}),(0,un.jsx)(la.List,{children:(0,un.jsxs)(la.User,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},children:[(0,un.jsx)(la.Picture,{src:t.photoURL}),(0,un.jsx)(la.Name,{children:t.displayName})]})})]})]})}Bs.version="6.5.3",Bs.createIndex=as,Bs.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?ts.getFn:n,i=t.fieldNormWeight,a=void 0===i?ts.fieldNormWeight:i,o=e.keys,s=e.records,u=new is({getFn:r,fieldNormWeight:a});return u.setKeys(o),u.setIndexRecords(s),u},Bs.config=ts,Bs.parseQuery=js,function(){Ts.push.apply(Ts,arguments)}(Es);var Ws=(0,i.createContext)(null);function Hs(e){var t=e.slides,n=l((0,i.useState)("series"),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)({displayName:"test"}),2),f=c[0],h=c[1],d=l((0,i.useState)(!0),2),p=d[0],v=d[1],m=l((0,i.useState)([]),2),g=m[0],y=m[1],k=(0,i.useContext)(Ws).firebase,w=k.auth().currentUser||{displayName:"test"};return(0,i.useEffect)((function(){setTimeout((function(){v(!1)}),3e3)}),[f.displayName]),(0,i.useEffect)((function(){y(t[r])}),[t,r]),(0,i.useEffect)((function(){var e=new Bs(g,{keys:["data.description","data.title","data.genre"]}).search(s).map((function(e){return e.item}));g.length>0&&s.length>3&&e.length>0?y(e):y(t[r])}),[s]),f.displayName?(0,un.jsxs)(un.Fragment,{children:[p?(0,un.jsx)(Ra,{src:w.photoURL}):(0,un.jsx)(Ra.ReleaseBody,{}),(0,un.jsxs)(oi,{src:"joker1",dontShowOnSmallViewPort:!0,children:[(0,un.jsxs)(oi.Frame,{children:[(0,un.jsxs)(oi.Group,{children:[(0,un.jsx)(oi.Logo,{to:ee,alt:"Netflix",src:yo}),(0,un.jsx)(oi.TextLink,{active:"series"===r?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,un.jsx)(oi.TextLink,{active:"films"===r?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,un.jsxs)(oi.Group,{children:[(0,un.jsx)(oi.Search,{searchTerm:s,setSearchTerm:u}),(0,un.jsxs)(oi.Profile,{children:[(0,un.jsx)(oi.Picture,{src:w.photoURL}),(0,un.jsxs)(oi.Dropdown,{children:[(0,un.jsxs)(oi.Group,{children:[(0,un.jsx)(oi.Picture,{src:w.photoURL}),(0,un.jsx)(oi.TextLink,{children:w.displayName})]}),(0,un.jsx)(oi.Group,{children:(0,un.jsx)(oi.TextLink,{onClick:function(){return k.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,un.jsxs)(oi.Feature,{children:[(0,un.jsx)(oi.FeatureCallOut,{children:"Watch Joker Now"}),(0,un.jsx)(oi.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,un.jsx)(oi.PlayButton,{children:"Play"})]})]}),(0,un.jsx)(uo.Group,{children:g.map((function(e){return(0,un.jsxs)(uo,{children:[(0,un.jsx)(uo.Title,{children:e.title}),(0,un.jsx)(uo.Entities,{children:e.data.map((function(e){return(0,un.jsxs)(uo.Item,{item:e,children:[(0,un.jsx)(uo.Image,{src:"/images/".concat(r,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,un.jsxs)(uo.Meta,{children:[(0,un.jsx)(uo.SubTitle,{children:e.title}),(0,un.jsx)(uo.Text,{children:e.description})]})]},e.docId)}))}),(0,un.jsx)(uo.Feature,{category:r,children:(0,un.jsxs)(go,{children:[(0,un.jsx)(go.Button,{}),(0,un.jsx)(go.Video,{src:"/videos/bunny.mp4"})]})})]},"".concat(r,"-").concat(e.title.toLowerCase()))}))}),(0,un.jsx)(xo,{})]}):(0,un.jsx)(qs,{user:w,setProfile:h})}var Ks,Gs={films:[{docId:1,genre:"children",slug:"frozen",title:"frozen",description:"frozen"},{docId:2,genre:"children",slug:"despicable-me",title:"despicable-me",description:"despicable-me"},{docId:3,genre:"children",slug:"hotel-transylvania",title:"hotel-transylvania",description:"hotel-transylvania"},{docId:4,genre:"children",slug:"spirited-away",title:"spirited-away",description:"spirited-away"},{docId:5,genre:"children",slug:"up",title:"up",description:"up"},{docId:6,genre:"drama",slug:"fight-club",title:"fight-club",description:"fight-club"},{docId:7,genre:"drama",slug:"kings-speech",title:"kings-speech",description:"kings-speech"},{docId:8,genre:"drama",slug:"the-prestige",title:"the-prestige",description:"the-prestige"},{docId:9,genre:"drama",slug:"the-revenant",title:"the-revenant",description:"the-revenant"},{docId:10,genre:"drama",slug:"the-social-network",title:"the-social-network",description:"the-social-network"},{docId:11,genre:"romance",slug:"a-star-is-born",title:"a-star-is-born",description:"a-star-is-born"},{docId:12,genre:"romance",slug:"blue-valentine",title:"blue-valentine",description:"blue-valentine"},{docId:13,genre:"romance",slug:"la-la-land",title:"la-la-land",description:"la-la-land"},{docId:14,genre:"romance",slug:"the-notebook",title:"the-notebook",description:"the-notebook"},{docId:15,genre:"romance",slug:"titanic",title:"titanic",description:"titanic"},{docId:16,genre:"suspence",slug:"gone-girl",title:"gone-girl",description:"gone-girl"},{docId:17,genre:"suspence",slug:"prisoners",title:"prisoners",description:"prisoners"},{docId:18,genre:"suspence",slug:"seven",title:"seven",description:"seven"},{docId:19,genre:"suspence",slug:"shutter-island",title:"shutter-island",description:"shutter-island"},{docId:20,genre:"suspence",slug:"zodiac",title:"zodiac",description:"zodiac"},{docId:21,genre:"thriller",slug:"a-quiet-place",title:"a-quiet-place",description:"a-quiet-place"},{docId:22,genre:"thriller",slug:"black-swan",title:"black-swan",description:"black-swan"},{docId:23,genre:"thriller",slug:"joker",title:"joker",description:"joker"},{docId:24,genre:"thriller",slug:"nightcrawler",title:"nightcrawler",description:"nightcrawler"},{docId:25,genre:"thriller",slug:"the-silence-of-the-lambs",title:"the-silence-of-the-lambs",description:"the-silence-of-the-lambs"}],series:[{docId:1,genre:"children",slug:"dora-the-explorer",title:"dora-the-explorer",description:"dora-the-explorer"},{docId:2,genre:"children",slug:"peppa-pig",title:"peppa-pig",description:"peppa-pig"},{docId:3,genre:"children",slug:"spongebob",title:"spongebob",description:"spongebob"},{docId:4,genre:"children",slug:"arthur",title:"arthur",description:"arthur"},{docId:5,genre:"children",slug:"paw-patrol",title:"paw-patrol",description:"paw-patrol"},{docId:6,genre:"comedies",slug:"arrested-development",title:"arrested-development",description:"arrested-development"},{docId:7,genre:"comedies",slug:"curb-your-enthusiasm",title:"curb-your-enthusiasm",description:"curb-your-enthusiasm"},{docId:8,genre:"comedies",slug:"family-guy",title:"family-guy",description:"family-guy"},{docId:9,genre:"comedies",slug:"the-office",title:"the-office",description:"the-office"},{docId:10,genre:"comedies",slug:"south-park",title:"south-park",description:"south-park"},{docId:11,genre:"crime",slug:"long-shot",title:"long-shot",description:"long-shot"},{docId:12,genre:"crime",slug:"making-a-murderer",title:"making-a-murderer",description:"making-a-murderer"},{docId:13,genre:"crime",slug:"the-confession-killer",title:"the-confession-killer",description:"the-confession-killer"},{docId:14,genre:"crime",slug:"the-innocent-man",title:"the-innocent-man",description:"the-innocent-man"},{docId:15,genre:"crime",slug:"the-staircase",title:"the-staircase",description:"the-staircase"},{docId:16,genre:"documentaries",slug:"amanda-knox",title:"amanda-knox",description:"amanda-knox"},{docId:17,genre:"documentaries",slug:"citizenfour",title:"citizenfour",description:"citizenfour"},{docId:18,genre:"documentaries",slug:"man-on-wire",title:"man-on-wire",description:"man-on-wire"},{docId:19,genre:"documentaries",slug:"super-size-me",title:"super-size-me",description:"super-size-me"},{docId:20,genre:"documentaries",slug:"tiger-king",title:"tiger-king",description:"tiger-king"},{docId:21,genre:"feel-good",slug:"forrest-gump",title:"forrest-gump",description:"forrest-gump"},{docId:22,genre:"feel-good",slug:"good-will-hunting",title:"good-will-hunting",description:"good-will-hunting"},{docId:23,genre:"feel-good",slug:"juno",title:"juno",description:"juno"},{docId:24,genre:"feel-good",slug:"midnight-in-paris",title:"midnight-in-paris",description:"midnight-in-paris"},{docId:25,genre:"feel-good",slug:"school-of-rock",title:"school-of-rock",description:"school-of-rock"}]};function Qs(e){var t=l((0,i.useState)([]),2),n=t[0],r=t[1];return(0,i.useEffect)((function(){r(Gs[e])}),[]),ie({},e,n)}function $s(){var e=function(e){var t=e.series,n=e.films;return{series:[{title:"Documentaries",data:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:n.filter((function(e){return"romance"===e.genre}))}]}}({series:Qs("series").series,films:Qs("films").films});return(0,un.jsx)(Hs,{slides:e})}function Ys(){var e=P(),t=(0,i.useContext)(Ws).firebase,n=l((0,i.useState)(""),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)(""),2),f=c[0],h=c[1],d=""===s||""===r;return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(ko,{children:(0,un.jsxs)(Gi,{children:[(0,un.jsx)(Gi.Title,{children:"Sign In"}),f&&(0,un.jsx)(Gi.Error,{children:f}),(0,un.jsxs)(Gi.Base,{onSubmit:function(n){n.preventDefault(),t.auth().signInWithEmailAndPassword(r,s).then((function(){e(te)})).catch((function(e){a(""),u(""),h(e.message)}))},children:[(0,un.jsx)(Gi.Input,{placeholder:"Email address",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,un.jsx)(Gi.Input,{type:"password",placeholder:"Password",autoComplete:"off",value:s,onChange:function(e){var t=e.target;return u(t.value)}}),(0,un.jsx)(Gi.Submit,{disabled:d,type:"submit",children:"Sign In"})]}),(0,un.jsxs)(Gi.Text,{children:["New to Neflix? ",(0,un.jsx)(Gi.Link,{to:"/signup",children:"Sign up now."})]}),(0,un.jsx)(Gi.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot."})]})}),(0,un.jsx)(xo,{})]})}function Js(){var e=P(),t=(0,i.useContext)(Ws).firebase,n=l((0,i.useState)(""),2),r=n[0],a=n[1],o=l((0,i.useState)(""),2),s=o[0],u=o[1],c=l((0,i.useState)(""),2),f=c[0],h=c[1],d=l((0,i.useState)(""),2),p=d[0],v=d[1],m=""===r||""===f||""===s;return(0,un.jsxs)(un.Fragment,{children:[(0,un.jsx)(ko,{children:(0,un.jsxs)(Gi,{children:[(0,un.jsx)(Gi.Title,{children:"Sign Up"}),p&&(0,un.jsx)(Gi.Error,{children:p}),(0,un.jsxs)(Gi.Base,{onSubmit:function(n){n.preventDefault(),t.auth().createUserWithEmailAndPassword(s,f).then((function(t){return t.user.updateProfile({displayName:r,photoURL:Math.floor(5*Math.random())+1}).then((function(){e(te)}))})).catch((function(e){a(""),u(""),h(""),v(e.message)}))},method:"POST",children:[(0,un.jsx)(Gi.Input,{placeholder:"First name",value:r,onChange:function(e){var t=e.target;return a(t.value)}}),(0,un.jsx)(Gi.Input,{placeholder:"Email address",value:s,onChange:function(e){var t=e.target;return u(t.value)}}),(0,un.jsx)(Gi.Input,{type:"password",placeholder:"Password",autoComplete:"off",value:f,onChange:function(e){var t=e.target;return h(t.value)}}),(0,un.jsx)(Gi.Submit,{disabled:m,type:"submit",children:"Sign Up"})]}),(0,un.jsxs)(Gi.Text,{children:["Already a user? ",(0,un.jsx)(Gi.Link,{to:"/signin",children:"Sign in now."})]}),(0,un.jsx)(Gi.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot."})]})}),(0,un.jsx)(xo,{})]})}function Xs(e){var t=e.user,n=e.loggedInPath,r=e.children;return t?t?(0,un.jsx)(I,{to:{pathname:n}}):null:r}function Zs(e){e.user;var t=e.children;R();return t}function eu(){var e=function(){var e=l((0,i.useState)(JSON.parse(localStorage.getItem("authUser"))),2),t=e[0],n=e[1],r=(0,i.useContext)(Ws).firebase;return(0,i.useEffect)((function(){var e=r.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return function(){return e()}}),[]),{user:t}}(),t=e.user;return(0,un.jsx)(X,{children:(0,un.jsxs)(C,{children:[(0,un.jsx)(E,{path:re,element:(0,un.jsx)(Xs,{user:t,loggedInPath:te,path:re,children:(0,un.jsx)(Ys,{})})}),(0,un.jsx)(E,{path:ne,element:(0,un.jsx)(Xs,{user:t,loggedInPath:te,path:ne,children:(0,un.jsx)(Js,{})})}),(0,un.jsx)(E,{path:te,element:(0,un.jsx)(Zs,{user:t,path:te,children:(0,un.jsx)($s,{})})}),(0,un.jsx)(E,{path:ee,element:(0,un.jsx)(Xs,{user:t,loggedInPath:te,path:ee,children:(0,un.jsx)(So,{})})})]})})}var tu=Vt(Ks||(Ks=ue(["\n  *, *:before, *:after {\n    box-sizing: border-box;\n  }\n  html, body {\n    height: 100%;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #000000;\n    color: #333333;\n    font-size: 16px;\n}"])));function nu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ru(e,t,n){return ru=Ao()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Eo(i,n.prototype),i},ru.apply(null,arguments)}function iu(e){var t="function"===typeof Map?new Map:void 0;return iu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ru(e,arguments,Co(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Eo(n,e)},iu(e)}var au=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ou={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(au(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},su=function(e){return function(e){var t=au(e);return ou.encodeByteArray(t,!0)}(e).replace(/\./g,"")},uu=function(e){try{return ou.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=cu(e[n],t[n]));return e}var lu=function(){function e(){var t=this;Mo(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Fo(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fu(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[su(JSON.stringify({alg:"none",type:"JWT"})),su(JSON.stringify(a)),""].join(".")}function hu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function du(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hu())}function pu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function vu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function gu(){var e=hu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yu(){return"object"===typeof indexedDB}var ku=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ro(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ro(a),wu.prototype.create),a}return Fo(n)}(iu(Error)),wu=function(){function e(t,n,r){Mo(this,e),this.service=t,this.serviceName=n,this.errors=r}return Fo(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ku(n,a,t);return o}}]),e}();function bu(e,t){return e.replace(xu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xu=/\{\$([^}]+)}/g;function _u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Iu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Su(s)&&Su(u)){if(!Iu(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Su(e){return null!==e&&"object"===typeof e}function Eu(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Tu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Cu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Au(e,t){var n=new Nu(e,t);return n.subscribe.bind(n)}var Nu=function(){function e(t,n){var r=this;Mo(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Fo(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=nu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ru),void 0===r.error&&(r.error=Ru),void 0===r.complete&&(r.complete=Ru);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ru(){}function Pu(e){return e&&e._delegate?e._delegate:e}function Ou(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Du(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ou(a,r,i,o,s,"next",e)}function s(e){Ou(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Lu=n(757),Mu=n.n(Lu),ju=function(){function e(t,n,r){Mo(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Fo(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Fu="[DEFAULT]",Uu=function(){function e(t,n){Mo(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Fo(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fu})}catch(u){}var t,n=nu(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Du(Lu.mark((function e(){var t;return Lu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Lo(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Lo(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=nu(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(r_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(r_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu;return this.component?this.component.multipleInstances?e:Fu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Vu,zu,Bu=function(){function e(t){Mo(this,e),this.name=t,this.providers=new Map}return Fo(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Uu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),qu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zu||(zu={}));var Wu,Hu,Ku={debug:zu.DEBUG,verbose:zu.VERBOSE,info:zu.INFO,warn:zu.WARN,error:zu.ERROR,silent:zu.SILENT},Gu=zu.INFO,Qu=(ie(Vu={},zu.DEBUG,"log"),ie(Vu,zu.VERBOSE,"log"),ie(Vu,zu.INFO,"info"),ie(Vu,zu.WARN,"warn"),ie(Vu,zu.ERROR,"error"),Vu),$u=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yu=function(){function e(t){Mo(this,e),this.name=t,this._logLevel=Gu,this._logHandler=$u,this._userLogHandler=null,qu.push(this)}return Fo(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ku[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zu.DEBUG].concat(t)),this._logHandler.apply(this,[this,zu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zu.INFO].concat(t)),this._logHandler.apply(this,[this,zu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zu.WARN].concat(t)),this._logHandler.apply(this,[this,zu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zu.ERROR].concat(t)),this._logHandler.apply(this,[this,zu.ERROR].concat(t))}}]),e}();var Ju=function(){function e(t){Mo(this,e),this.container=t}return Fo(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xu="@firebase/app",Zu="0.7.16",ec=new Yu("@firebase/app"),tc="[DEFAULT]",nc=(ie(Wu={},Xu,"fire-core"),ie(Wu,"@firebase/app-compat","fire-core-compat"),ie(Wu,"@firebase/analytics","fire-analytics"),ie(Wu,"@firebase/analytics-compat","fire-analytics-compat"),ie(Wu,"@firebase/app-check","fire-app-check"),ie(Wu,"@firebase/app-check-compat","fire-app-check-compat"),ie(Wu,"@firebase/auth","fire-auth"),ie(Wu,"@firebase/auth-compat","fire-auth-compat"),ie(Wu,"@firebase/database","fire-rtdb"),ie(Wu,"@firebase/database-compat","fire-rtdb-compat"),ie(Wu,"@firebase/functions","fire-fn"),ie(Wu,"@firebase/functions-compat","fire-fn-compat"),ie(Wu,"@firebase/installations","fire-iid"),ie(Wu,"@firebase/installations-compat","fire-iid-compat"),ie(Wu,"@firebase/messaging","fire-fcm"),ie(Wu,"@firebase/messaging-compat","fire-fcm-compat"),ie(Wu,"@firebase/performance","fire-perf"),ie(Wu,"@firebase/performance-compat","fire-perf-compat"),ie(Wu,"@firebase/remote-config","fire-rc"),ie(Wu,"@firebase/remote-config-compat","fire-rc-compat"),ie(Wu,"@firebase/storage","fire-gcs"),ie(Wu,"@firebase/storage-compat","fire-gcs-compat"),ie(Wu,"@firebase/firestore","fire-fst"),ie(Wu,"@firebase/firestore-compat","fire-fst-compat"),ie(Wu,"fire-js","fire-js"),ie(Wu,"firebase","fire-js-all"),Wu),rc=new Map,ic=new Map;function ac(e,t){try{e.container.addComponent(t)}catch(n){ec.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function oc(e,t){e.container.addOrOverwriteComponent(t)}function sc(e){var t=e.name;if(ic.has(t))return ec.debug("There were multiple attempts to register component ".concat(t,".")),!1;ic.set(t,e);var n,r=nu(rc.values());try{for(r.s();!(n=r.n()).done;){ac(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function uc(e,t){return e.container.getProvider(t)}function cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tc;uc(e,t).clearInstance(n)}function lc(){ic.clear()}var fc,hc,dc=(ie(Hu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(Hu,"bad-app-name","Illegal App name: '{$appName}"),ie(Hu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ie(Hu,"app-deleted","Firebase App named '{$appName}' already deleted"),ie(Hu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ie(Hu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Hu),pc=new wu("app","Firebase",dc),vc=function(){function e(t,n,r){var i=this;Mo(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ju("app",(function(){return i}),"PUBLIC"))}return Fo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pc.create("app-deleted",{appName:this._name})}}]),e}(),mc="9.6.6";function gc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:tc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pc.create("bad-app-name",{appName:String(i)});var a=rc.get(i);if(a){if(Iu(e,a.options)&&Iu(r,a.config))return a;throw pc.create("duplicate-app",{appName:i})}var o,s=new Bu(i),u=nu(ic.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new vc(e,r,s);return rc.set(i,l),l}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=rc.get(e);if(!t)throw pc.create("no-app",{appName:e});return t}function kc(){return Array.from(rc.values())}function wc(e){return bc.apply(this,arguments)}function bc(){return(bc=Du(Lu.mark((function e(t){var n;return Lu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!rc.has(n)){e.next=6;break}return rc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){var r,i=null!==(r=nc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ec.warn(s.join(" "))}sc(new ju("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _c(e,t){if(null!==e&&"function"!==typeof e)throw pc.create("invalid-log-argument");!function(e,t){var n,r=nu(qu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ku[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zu[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ic(e){var t;t=e,qu.forEach((function(e){e.setLogLevel(t)}))}fc="",sc(new ju("platform-logger",(function(e){return new Ju(e)}),"PRIVATE")),xc(Xu,Zu,fc),xc(Xu,Zu,"esm2017"),xc("fire-js","");var Sc=function(){function e(t,n){var r=this;Mo(this,e),this._delegate=t,this.firebase=n,ac(t,new ju("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Fo(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),wc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ac(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){oc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ec=(ie(hc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ie(hc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),hc),Tc=new wu("app-compat","Firebase",Ec);var Cc=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=gc(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_u(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:xc,setLogLevel:Ic,onLog:_c,apps:null,SDK_VERSION:mc,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(sc(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Tc.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&cu(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!_u(t,e=e||tc))throw Tc.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(Sc);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){cu(t,e)},createSubscribe:Au,ErrorFactory:wu,deepExtend:cu}),t}(),Ac=new Yu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ac.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Nc=self.firebase.SDK_VERSION;Nc&&Nc.indexOf("LITE")>=0&&Ac.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Rc=Cc;!function(e){xc("@firebase/app-compat","0.1.17",e)}();function Pc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Co(e)););return e}function Oc(){return Oc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Oc.apply(this,arguments)}Rc.registerVersion("firebase","9.6.6","app-compat");var Dc,Lc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Mc={},jc=jc||{},Fc=Lc||self;function Uc(){}function Vc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bc="closure_uid_"+(1e9*Math.random()>>>0),qc=0;function Wc(e,t,n){return e.call.apply(e.bind,arguments)}function Hc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kc(e,t,n){return(Kc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wc:Hc).apply(null,arguments)}function Gc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $c(){this.s=this.s,this.o=this.o}var Yc={};$c.prototype.s=!1,$c.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Bc)&&e[Bc]||(e[Bc]=++qc)}(this);delete Yc[e]}},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Jc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Xc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Zc(e){return Array.prototype.concat.apply([],arguments)}function el(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function tl(e){return/^[\s\xa0]*$/.test(e)}var nl,rl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function il(e,t){return-1!=e.indexOf(t)}function al(e,t){return e<t?-1:e>t?1:0}e:{var ol=Fc.navigator;if(ol){var sl=ol.userAgent;if(sl){nl=sl;break e}}nl=""}function ul(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cl(e){var t={};for(var n in e)t[n]=e[n];return t}var ll="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ll.length;a++)n=ll[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hl(e){return hl[" "](e),e}hl[" "]=Uc;var dl,pl=il(nl,"Opera"),vl=il(nl,"Trident")||il(nl,"MSIE"),ml=il(nl,"Edge"),gl=ml||vl,yl=il(nl,"Gecko")&&!(il(nl.toLowerCase(),"webkit")&&!il(nl,"Edge"))&&!(il(nl,"Trident")||il(nl,"MSIE"))&&!il(nl,"Edge"),kl=il(nl.toLowerCase(),"webkit")&&!il(nl,"Edge");function wl(){var e=Fc.document;return e?e.documentMode:void 0}e:{var bl="",xl=function(){var e=nl;return yl?/rv:([^\);]+)(\)|;)/.exec(e):ml?/Edge\/([\d\.]+)/.exec(e):vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):kl?/WebKit\/(\S+)/.exec(e):pl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xl&&(bl=xl?xl[1]:""),vl){var _l=wl();if(null!=_l&&_l>parseFloat(bl)){dl=String(_l);break e}}dl=bl}var Il,Sl={};function El(){return function(e){var t=Sl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=rl(String(dl)).split("."),n=rl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=al(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||al(0==a[2].length,0==o[2].length)||al(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Fc.document&&vl){var Tl=wl();Il=Tl||(parseInt(dl,10)||void 0)}else Il=void 0;var Cl=Il,Al=function(){if(!Fc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fc.addEventListener("test",Uc,t),Fc.removeEventListener("test",Uc,t)}catch(n){}return e}();function Nl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Rl(e,t){if(Nl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yl){e:{try{hl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Pl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rl.Z.h.call(this)}}Nl.prototype.h=function(){this.defaultPrevented=!0},Qc(Rl,Nl);var Pl={2:"touch",3:"pen",4:"mouse"};Rl.prototype.h=function(){Rl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ol="closure_listenable_"+(1e6*Math.random()|0),Dl=0;function Ll(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Dl,this.ca=this.fa=!1}function Ml(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function jl(e){this.src=e,this.g={},this.h=0}function Fl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Jc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ml(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ul(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}jl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ul(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ll(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Vl="closure_lm_"+(1e6*Math.random()|0),zl={};function Bl(e,t,n,r,i){if(r&&r.once)return Wl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bl(e,t[a],n,r,i);return null}return n=Jl(n),e&&e[Ol]?e.N(t,n,zc(r)?!!r.capture:!!r,i):ql(e,t,n,!1,r,i)}function ql(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,s=$l(e);if(s||(e[Vl]=s=new jl(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ql;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Al||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Gl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wl(e,t[a],n,r,i);return null}return n=Jl(n),e&&e[Ol]?e.O(t,n,zc(r)?!!r.capture:!!r,i):ql(e,t,n,!0,r,i)}function Hl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Hl(e,t[a],n,r,i);else r=zc(r)?!!r.capture:!!r,n=Jl(n),e&&e[Ol]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ul(a=e.g[t],n,r,i))&&(Ml(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$l(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ul(t,n,r,i)),(n=-1<e?t[e]:null)&&Kl(n))}function Kl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ol])Fl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Gl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$l(t))?(Fl(n,e),0==n.h&&(n.src=null,t[Vl]=null)):Ml(e)}}}function Gl(e){return e in zl?zl[e]:zl[e]="on"+e}function Ql(e,t){if(e.ca)e=!0;else{t=new Rl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Kl(e),e=n.call(r,t)}return e}function $l(e){return(e=e[Vl])instanceof jl?e:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(e){return"function"===typeof e?e:(e[Yl]||(e[Yl]=function(t){return e.handleEvent(t)}),e[Yl])}function Xl(){$c.call(this),this.i=new jl(this),this.P=this,this.I=null}function Zl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Nl(t,e);else if(t instanceof Nl)t.target=t.target||e;else{var i=t;fl(t=new Nl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ef(o,r,!0,t)&&i}if(i=ef(o=t.g=e,r,!0,t)&&i,i=ef(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ef(o=t.g=n[a],r,!1,t)&&i}function ef(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Fl(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Qc(Xl,$c),Xl.prototype[Ol]=!0,Xl.prototype.removeEventListener=function(e,t,n,r){Hl(this,e,t,n,r)},Xl.prototype.M=function(){if(Xl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ml(n[r]);delete t.g[e],t.h--}}this.I=null},Xl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var tf=Fc.JSON.stringify;function nf(){var e=ff,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var rf,af=function(){function e(){Mo(this,e),this.h=this.g=null}return Fo(e,[{key:"add",value:function(e,t){var n=of.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),of=new(function(){function e(t,n){Mo(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Fo(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new sf}),(function(e){return e.reset()})),sf=function(){function e(){Mo(this,e),this.next=this.g=this.h=null}return Fo(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function uf(e){Fc.setTimeout((function(){throw e}),0)}function cf(e,t){rf||function(){var e=Fc.Promise.resolve(void 0);rf=function(){e.then(hf)}}(),lf||(rf(),lf=!0),ff.add(e,t)}var lf=!1,ff=new af;function hf(){for(var e;e=nf();){try{e.h.call(e.g)}catch(n){uf(n)}var t=of;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lf=!1}function df(e,t){Xl.call(this),this.h=e||1,this.g=t||Fc,this.j=Kc(this.kb,this),this.l=Date.now()}function pf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function vf(e,t,n){if("function"===typeof e)n&&(e=Kc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fc.setTimeout(e,t||0)}function mf(e){e.g=vf((function(){e.g=null,e.i&&(e.i=!1,mf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qc(df,Xl),(Dc=df.prototype).da=!1,Dc.S=null,Dc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zl(this,"tick"),this.da&&(pf(this),this.start()))}},Dc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dc.M=function(){df.Z.M.call(this),pf(this),delete this.g};var gf=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Fo(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:mf(this)}},{key:"M",value:function(){Oc(Co(n.prototype),"M",this).call(this),this.g&&(Fc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($c);function yf(e){$c.call(this),this.h=e,this.g={}}Qc(yf,$c);var kf=[];function wf(e,t,n,r){Array.isArray(n)||(n&&(kf[0]=n.toString()),n=kf);for(var i=0;i<n.length;i++){var a=Bl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function bf(e){ul(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Kl(e)}),e),e.g={}}function xf(){this.g=!0}function _f(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return tf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}yf.prototype.M=function(){yf.Z.M.call(this),bf(this)},yf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xf.prototype.Aa=function(){this.g=!1},xf.prototype.info=function(){};var If={},Sf=null;function Ef(){return Sf=Sf||new Xl}function Tf(e){Nl.call(this,If.Ma,e)}function Cf(e){var t=Ef();Zl(t,new Tf(t,e))}function Af(e,t){Nl.call(this,If.STAT_EVENT,e),this.stat=t}function Nf(e){var t=Ef();Zl(t,new Af(t,e))}function Rf(e,t){Nl.call(this,If.Na,e),this.size=t}function Pf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Fc.setTimeout((function(){e()}),t)}If.Ma="serverreachability",Qc(Tf,Nl),If.STAT_EVENT="statevent",Qc(Af,Nl),If.Na="timingevent",Qc(Rf,Nl);var Of={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Df={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lf(){}function Mf(e){return e.h||(e.h=e.i())}function jf(){}Lf.prototype.h=null;var Ff,Uf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vf(){Nl.call(this,"d")}function zf(){Nl.call(this,"c")}function Bf(){}function qf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new yf(this),this.P=Hf,e=gl?125:void 0,this.W=new df(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}Qc(Vf,Nl),Qc(zf,Nl),Qc(Bf,Lf),Bf.prototype.g=function(){return new XMLHttpRequest},Bf.prototype.i=function(){return{}},Ff=new Bf;var Hf=45e3,Kf={},Gf={};function Qf(e,t,n){e.K=1,e.v=gh(fh(t)),e.s=n,e.U=!0,$f(e,null)}function $f(e,t){e.F=Date.now(),Zf(e),e.A=fh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Nh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Wf,e.g=Pd(e.l,n?t:null,!e.s),0<e.O&&(e.L=new gf(Kc(e.Ia,e,e.g),e.O)),wf(e.V,e.g,"readystatechange",e.gb),t=e.H?cl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Cf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Yf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Jf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Xf(e,n))==Gf){4==t&&(e.o=4,Nf(14),i=!1),_f(e.j,e.m,null,"[Incomplete Response]");break}if(r==Kf){e.o=4,Nf(15),_f(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}_f(e.j,e.m,r,null),ih(e,r)}Yf(e)&&r!=Gf&&r!=Kf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Id(t),t.L=!0,Nf(11))):(_f(e.j,e.m,n,"[Invalid Chunked Response]"),rh(e),nh(e))}function Xf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gf:(n=Number(t.substring(n,r)),isNaN(n)?Kf:(r+=1)+n>t.length?Gf:(t=t.substr(r,n),e.C=r+n,t))}function Zf(e){e.Y=Date.now()+e.P,eh(e,e.P)}function eh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Pf(Kc(e.eb,e),t)}function th(e){e.B&&(Fc.clearTimeout(e.B),e.B=null)}function nh(e){0==e.l.G||e.I||Td(e.l,e)}function rh(e){th(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,pf(e.W),bf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ih(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Fh(n.i,e)))if(n.I=e.N,!e.J&&Fh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ed(n),vd(n)}_d(n),Nf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Pf(Kc(n.ab,n),6e3));if(1>=jh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ad(n,11)}else if((e.J||n.g==e)&&Ed(n),!tl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(il(l,"spdy")||il(l,"quic")||il(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Uh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,mh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Rd(r,r.H?r.la:null,r.W),d.J){Vh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(th(p),Zf(p)),r.g=d}else xd(r);0<n.l.length&&yd(n)}else"stop"!=a[0]&&"close"!=a[0]||Ad(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ad(n,7):pd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Cf(4)}catch(a){}}function ah(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vc(e)||"string"===typeof e)Xc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Vc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Vc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function oh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof oh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function sh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];uh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)uh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function uh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Dc=qf.prototype).setTimeout=function(e){this.P=e},Dc.gb=function(e){e=e.target;var t=this.L;t&&3==cd(e)?t.l():this.Ia(e)},Dc.Ia=function(e){try{if(e==this.g)e:{var t=cd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||gl||this.g&&(this.h.h||this.g.ga()||ld(this.g)))){this.I||4!=t||7==n||Cf(8==n||0>=r?3:2),th(this);var i=this.g.ba();this.N=i;t:if(Yf(this)){var a=ld(this.g);e="";var o=a.length,s=4==cd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rh(this),nh(this);var u="";break t}this.h.i=new Fc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Nf(12),rh(this),nh(this);break e}_f(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ih(this,i)}this.U?(Jf(this,t,u),gl&&this.i&&3==t&&(wf(this.V,this.W,"tick",this.fb),this.W.start())):(_f(this.j,this.m,u,null),ih(this,u)),4==t&&rh(this),this.i&&!this.I&&(4==t?Td(this.l,this):(this.i=!1,Zf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Nf(12)):(this.o=0,Nf(13)),rh(this),nh(this)}}}catch(t){}},Dc.fb=function(){if(this.g){var e=cd(this.g),t=this.g.ga();this.C<t.length&&(th(this),Jf(this,e,t),this.i&&4!=e&&Zf(this))}},Dc.cancel=function(){this.I=!0,rh(this)},Dc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Cf(3),Nf(17)),rh(this),this.o=2,nh(this)):eh(this,this.Y-e)},(Dc=oh.prototype).R=function(){sh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Dc.T=function(){return sh(this),this.g.concat()},Dc.get=function(e,t){return uh(this.h,e)?this.h[e]:t},Dc.set=function(e,t){uh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Dc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ch=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof lh){this.g=void 0!==t?t:e.g,hh(this,e.j),this.s=e.s,dh(this,e.i),ph(this,e.m),this.l=e.l,t=e.h;var n=new Eh;n.i=t.i,t.g&&(n.g=new oh(t.g),n.h=t.h),vh(this,n),this.o=e.o}else e&&(n=String(e).match(ch))?(this.g=!!t,hh(this,n[1]||"",!0),this.s=yh(n[2]||""),dh(this,n[3]||"",!0),ph(this,n[4]),this.l=yh(n[5]||"",!0),vh(this,n[6]||"",!0),this.o=yh(n[7]||"")):(this.g=!!t,this.h=new Eh(null,this.g))}function fh(e){return new lh(e)}function hh(e,t,n){e.j=n?yh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function dh(e,t,n){e.i=n?yh(t,!0):t}function ph(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vh(e,t,n){t instanceof Eh?(e.h=t,function(e,t){t&&!e.j&&(Th(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ch(this,t),Nh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=kh(t,Ih)),e.h=new Eh(t,e.g))}function mh(e,t,n){e.h.set(t,n)}function gh(e){return mh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}lh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kh(t,bh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(kh(t,bh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(kh(n,"/"==n.charAt(0)?_h:xh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",kh(n,Sh)),e.join("")};var bh=/[#\/\?@]/g,xh=/[#\?:]/g,_h=/[#\?]/g,Ih=/[#\?@]/g,Sh=/#/g;function Eh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Th(e){e.g||(e.g=new oh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ch(e,t){Th(e),t=Rh(e,t),uh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,uh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&sh(e)))}function Ah(e,t){return Th(e),t=Rh(e,t),uh(e.g.h,t)}function Nh(e,t,n){Ch(e,t),0<n.length&&(e.i=null,e.g.set(Rh(e,t),el(n)),e.h+=n.length)}function Rh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Dc=Eh.prototype).add=function(e,t){Th(this),this.i=null,e=Rh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Dc.forEach=function(e,t){Th(this),this.g.forEach((function(n,r){Xc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Dc.T=function(){Th(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Dc.R=function(e){Th(this);var t=[];if("string"===typeof e)Ah(this,e)&&(t=Zc(t,this.g.get(Rh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Zc(t,e[n])}return t},Dc.set=function(e,t){return Th(this),this.i=null,Ah(this,e=Rh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Dc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Dc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ph=Fo((function e(t,n){Mo(this,e),this.h=t,this.g=n}));function Oh(e){this.l=e||Lh,Fc.PerformanceNavigationTiming?e=0<(e=Fc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fc.g&&Fc.g.Ea&&Fc.g.Ea()&&Fc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dh,Lh=10;function Mh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function jh(e){return e.h?1:e.g?e.g.size:0}function Fh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Uh(e,t){e.g?e.g.add(t):e.h=t}function Vh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=nu(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return el(e.i)}function Bh(){}function qh(){this.g=new Bh}function Wh(e,t,n){var r=n||"";try{ah(e,(function(e,n){var i=e;zc(e)&&(i=tf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Kh(e){this.l=e.$b||null,this.j=e.ib||!1}function Gh(e,t){Xl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oh.prototype.cancel=function(){if(this.i=zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=nu(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Bh.prototype.stringify=function(e){return Fc.JSON.stringify(e,void 0)},Bh.prototype.parse=function(e){return Fc.JSON.parse(e,void 0)},Qc(Kh,Lf),Kh.prototype.g=function(){return new Gh(this.l,this.j)},Kh.prototype.i=(Dh={},function(){return Dh}),Qc(Gh,Xl);var Qh=0;function $h(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Yh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Jh(e)}function Jh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Dc=Gh.prototype).open=function(e,t){if(this.readyState!=Qh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Jh(this)},Dc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Dc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yh(this)),this.readyState=Qh},Dc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Jh(this)),this.g&&(this.readyState=3,Jh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Fc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$h(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Dc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yh(this):Jh(this),3==this.readyState&&$h(this)}},Dc.Ua=function(e){this.g&&(this.response=this.responseText=e,Yh(this))},Dc.Ta=function(e){this.g&&(this.response=e,Yh(this))},Dc.ha=function(){this.g&&Yh(this)},Dc.setRequestHeader=function(e,t){this.v.append(e,t)},Dc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Dc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xh=Fc.JSON.parse;function Zh(e){Xl.call(this),this.headers=new oh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ed,this.K=this.L=!1}Qc(Zh,Xl);var ed="",td=/^https?$/i,nd=["POST","PUT"];function rd(e){return"content-type"==e.toLowerCase()}function id(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ad(e),sd(e)}function ad(e){e.D||(e.D=!0,Zl(e,"complete"),Zl(e,"error"))}function od(e){if(e.h&&"undefined"!=typeof jc&&(!e.C[1]||4!=cd(e)||2!=e.ba()))if(e.v&&4==cd(e))vf(e.Fa,0,e);else if(Zl(e,"readystatechange"),4==cd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ch)[1]||null;if(!a&&Fc.self&&Fc.self.location){var o=Fc.self.location.protocol;a=o.substr(0,o.length-1)}i=!td.test(a?a.toLowerCase():"")}t=i}if(t)Zl(e,"complete"),Zl(e,"success");else{e.m=6;try{var s=2<cd(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",ad(e)}}finally{sd(e)}}}function sd(e,t){if(e.g){ud(e);var n=e.g,r=e.C[0]?Uc:null;e.g=null,e.C=null,t||Zl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ud(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fc.clearTimeout(e.A),e.A=null)}function cd(e){return e.g?e.g.readyState:0}function ld(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ed:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ie){return null}}function fd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ul(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):mh(e,t,n))}function hd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dd(e){this.za=0,this.l=[],this.h=new xf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hd("baseRetryDelayMs",5e3,e),this.$a=hd("retryDelaySeedMs",1e4,e),this.Ya=hd("forwardChannelMaxRetries",2,e),this.ra=hd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Oh(e&&e.concurrentRequestLimit),this.Ca=new qh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function pd(e){if(md(e),3==e.G){var t=e.V++,n=fh(e.F);mh(n,"SID",e.J),mh(n,"RID",t),mh(n,"TYPE","terminate"),wd(e,n),(t=new qf(e,e.h,t,void 0)).K=2,t.v=gh(fh(n)),n=!1,Fc.navigator&&Fc.navigator.sendBeacon&&(n=Fc.navigator.sendBeacon(t.v.toString(),"")),!n&&Fc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Pd(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Zf(t)}Nd(e)}function vd(e){e.g&&(Id(e),e.g.cancel(),e.g=null)}function md(e){vd(e),e.u&&(Fc.clearTimeout(e.u),e.u=null),Ed(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Fc.clearTimeout(e.m),e.m=null)}function gd(e,t){e.l.push(new Ph(e.Za++,t)),3==e.G&&yd(e)}function yd(e){Mh(e.i)||e.m||(e.m=!0,cf(e.Ha,e),e.C=0)}function kd(e,t){var n;n=t?t.m:e.V++;var r=fh(e.F);mh(r,"SID",e.J),mh(r,"RID",n),mh(r,"AID",e.U),wd(e,r),e.o&&e.s&&fd(r,e.o,e.s),n=new qf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=bd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Uh(e.i,n),Qf(n,r,t)}function wd(e,t){e.j&&ah({},(function(e,n){mh(t,n,e)}))}function bd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Kc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Wh(l,o,"req"+c+"_")}catch(Ue){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function xd(e){e.g||e.u||(e.Y=1,cf(e.Ga,e),e.A=0)}function _d(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Pf(Kc(e.Ga,e),Cd(e,e.A)),e.A++,!0)}function Id(e){null!=e.B&&(Fc.clearTimeout(e.B),e.B=null)}function Sd(e){e.g=new qf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=fh(e.oa);mh(t,"RID","rpc"),mh(t,"SID",e.J),mh(t,"CI",e.N?"0":"1"),mh(t,"AID",e.U),wd(e,t),mh(t,"TYPE","xmlhttp"),e.o&&e.s&&fd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gh(fh(t)),n.s=null,n.U=!0,$f(n,e)}function Ed(e){null!=e.v&&(Fc.clearTimeout(e.v),e.v=null)}function Td(e,t){var n=null;if(e.g==t){Ed(e),Id(e),e.g=null;var r=2}else{if(!Fh(e.i,t))return;n=t.D,Vh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Zl(r=Ef(),new Rf(r,n,t,i)),yd(e)}else xd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(jh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Pf(Kc(e.Ha,e,t),Cd(e,e.C)),e.C++,!0))}(e,t)||2==r&&_d(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ad(e,5);break;case 4:Ad(e,10);break;case 3:Ad(e,6);break;default:Ad(e,2)}}function Cd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ad(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Kc(e.jb,e);n||(n=new lh("//www.google.com/images/cleardot.gif"),Fc.location&&"http"==Fc.location.protocol||hh(n,"https"),gh(n)),function(e,t){var n=new xf;if(Fc.Image){var r=new Image;r.onload=Gc(Hh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gc(Hh,n,r,"TestLoadImage: error",!1,t),r.onabort=Gc(Hh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gc(Hh,n,r,"TestLoadImage: timeout",!1,t),Fc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nf(2);e.G=0,e.j&&e.j.va(t),Nd(e),md(e)}function Nd(e){e.G=0,e.I=-1,e.j&&(0==zh(e.i).length&&0==e.l.length||(e.i.i.length=0,el(e.l),e.l.length=0),e.j.ua())}function Rd(e,t,n){var r=function(e){return e instanceof lh?fh(e):new lh(e,void 0)}(n);if(""!=r.i)t&&dh(r,t+"."+r.i),ph(r,r.m);else{var i=Fc.location;r=function(e,t,n,r){var i=new lh(null,void 0);return e&&hh(i,e),t&&dh(i,t),n&&ph(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ul(e.aa,(function(e,t){mh(r,t,e)})),t=e.D,n=e.sa,t&&n&&mh(r,t,n),mh(r,"VER",e.ma),wd(e,r),r}function Pd(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Zh(new Kh({ib:!0})):new Zh(e.qa)).L=e.H,t}function Od(){}function Dd(){if(vl&&!(10<=Number(Cl)))throw Error("Environmental error: no available transport.")}function Ld(e,t){Xl.call(this),this.g=new dd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!tl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!tl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fd(this)}function Md(e){Vf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function jd(){zf.call(this),this.status=1}function Fd(e){this.g=e}(Dc=Zh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ff.g(),this.C=this.u?Mf(this.u):Mf(Ff),this.g.onreadystatechange=Kc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void id(this,a)}e=n||"";var i=new oh(this.headers);r&&ah(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=rd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Fc.FormData&&e instanceof Fc.FormData,!(0<=Jc(nd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ud(this),0<this.B&&((this.K=function(e){return vl&&El()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kc(this.pa,this)):this.A=vf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){id(this,a)}},Dc.pa=function(){"undefined"!=typeof jc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zl(this,"timeout"),this.abort(8))},Dc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zl(this,"complete"),Zl(this,"abort"),sd(this))},Dc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),Zh.Z.M.call(this)},Dc.Fa=function(){this.s||(this.F||this.v||this.l?od(this):this.cb())},Dc.cb=function(){od(this)},Dc.ba=function(){try{return 2<cd(this)?this.g.status:-1}catch(Dh){return-1}},Dc.ga=function(){try{return this.g?this.g.responseText:""}catch(Dh){return""}},Dc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xh(t)}},Dc.Da=function(){return this.m},Dc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Dc=dd.prototype).ma=8,Dc.G=1,Dc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Ie){}},Dc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new qf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?fl(n=cl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=bd(this,t,r),mh(i=fh(this.F),"RID",e),mh(i,"CVER",22),this.D&&mh(i,"X-HTTP-Session-Id",this.D),wd(this,i),this.o&&n&&fd(i,this.o,n),Uh(this.i,t),this.Ra&&mh(i,"TYPE","init"),this.ja?(mh(i,"$req",r),mh(i,"SID","null"),t.$=!0,Qf(t,i,null)):Qf(t,i,r),this.G=2}}else 3==this.G&&(e?kd(this,e):0==this.l.length||Mh(this.i)||kd(this))},Dc.Ga=function(){if(this.u=null,Sd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Pf(Kc(this.bb,this),e)}},Dc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nf(10),vd(this),Sd(this))},Dc.ab=function(){null!=this.v&&(this.v=null,vd(this),_d(this),Nf(19))},Dc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nf(2)):(this.h.info("Failed to ping google.com"),Nf(1))},(Dc=Od.prototype).xa=function(){},Dc.wa=function(){},Dc.va=function(){},Dc.ua=function(){},Dc.Oa=function(){},Dd.prototype.g=function(e,t){return new Ld(e,t)},Qc(Ld,Xl),Ld.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),cf(Kc(e.hb,e,t))),Nf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Rd(e,null,e.W),yd(e)},Ld.prototype.close=function(){pd(this.g)},Ld.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,gd(this.g,t)}else this.v?((t={}).__data__=tf(e),gd(this.g,t)):gd(this.g,e)},Ld.prototype.M=function(){this.g.j=null,delete this.j,pd(this.g),delete this.g,Ld.Z.M.call(this)},Qc(Md,Vf),Qc(jd,zf),Qc(Fd,Od),Fd.prototype.xa=function(){Zl(this.g,"a")},Fd.prototype.wa=function(e){Zl(this.g,new Md(e))},Fd.prototype.va=function(e){Zl(this.g,new jd(e))},Fd.prototype.ua=function(){Zl(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,Ld.prototype.send=Ld.prototype.u,Ld.prototype.open=Ld.prototype.m,Ld.prototype.close=Ld.prototype.close,Of.NO_ERROR=0,Of.TIMEOUT=8,Of.HTTP_ERROR=6,Df.COMPLETE="complete",jf.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",Xl.prototype.listen=Xl.prototype.N,Zh.prototype.listenOnce=Zh.prototype.O,Zh.prototype.getLastError=Zh.prototype.La,Zh.prototype.getLastErrorCode=Zh.prototype.Da,Zh.prototype.getStatus=Zh.prototype.ba,Zh.prototype.getResponseJson=Zh.prototype.Qa,Zh.prototype.getResponseText=Zh.prototype.ga,Zh.prototype.send=Zh.prototype.ea;var Ud=Mc.createWebChannelTransport=function(){return new Dd},Vd=Mc.getStatEventTarget=function(){return Ef()},zd=Mc.ErrorCode=Of,Bd=Mc.EventType=Df,qd=Mc.Event=If,Wd=Mc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hd=Mc.FetchXmlHttpFactory=Kh,Kd=Mc.WebChannel=jf,Gd=Mc.XhrIo=Zh,Qd="@firebase/firestore",$d=function(){function e(t){Mo(this,e),this.uid=t}return Fo(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$d.UNAUTHENTICATED=new $d(null),$d.GOOGLE_CREDENTIALS=new $d("google-credentials-uid"),$d.FIRST_PARTY=new $d("first-party-uid"),$d.MOCK_USER=new $d("mock-user");var Yd="9.6.5",Jd=new Yu("@firebase/firestore");function Xd(){return Jd.logLevel}function Zd(e){if(Jd.logLevel<=zu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(np);Jd.debug.apply(Jd,["Firestore (".concat(Yd,"): ").concat(e)].concat(Lo(i)))}}function ep(e){if(Jd.logLevel<=zu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(np);Jd.error.apply(Jd,["Firestore (".concat(Yd,"): ").concat(e)].concat(Lo(i)))}}function tp(e){if(Jd.logLevel<=zu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(np);Jd.warn.apply(Jd,["Firestore (".concat(Yd,"): ").concat(e)].concat(Lo(i)))}}function np(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Yd,") INTERNAL ASSERTION FAILED: ")+e;throw ep(t),new Error(t)}function ip(e,t){e||rp()}function ap(e,t){return e}var op={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sp=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Fo(n)}(ku),up=Fo((function e(){var t=this;Mo(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cp=Fo((function e(t,n){Mo(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),lp=function(){function e(){Mo(this,e)}return Fo(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($d.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fp=function(){function e(t){Mo(this,e),this.token=t,this.changeListener=null}return Fo(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),hp=function(){function e(t){Mo(this,e),this.t=t,this.currentUser=$d.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Fo(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new up;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new up,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Zd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Zd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new up)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ip("string"==typeof n.accessToken),new cp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ip(null===e||"string"==typeof e),new $d(e)}}]),e}(),dp=Fo((function e(t,n,r){Mo(this,e),this.type="FirstParty",this.user=$d.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),pp=function(){function e(t,n,r){Mo(this,e),this.h=t,this.l=n,this.m=r}return Fo(e,[{key:"getToken",value:function(){return Promise.resolve(new dp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($d.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vp=Fo((function e(t){Mo(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),mp=function(){function e(t){Mo(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Fo(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Zd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Zd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Zd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(ip("string"==typeof e.token),new vp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),gp=function(){function e(t,n){var r=this;Mo(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Fo(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function yp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}gp.I=-1;var kp=function(){function e(){Mo(this,e)}return Fo(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=yp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function wp(e,t){return e<t?-1:e>t?1:0}function bp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xp(e){return e+"\0"}var _p=function(){function e(t,n){if(Mo(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new sp(op.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sp(op.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new sp(op.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sp(op.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Fo(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?wp(this.nanoseconds,e.nanoseconds):wp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ip=function(){function e(t){Mo(this,e),this.timestamp=t}return Fo(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new _p(0,0))}}]),e}();function Sp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ep(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Cp=function(){function e(t,n,r){Mo(this,e),void 0===n?n=0:n>t.length&&rp(),void 0===r?r=t.length-n:r>t.length-n&&rp(),this.segments=t,this.offset=n,this.len=r}return Fo(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ap=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new sp(op.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Lo(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cp),Np=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rp=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Np.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new sp(op.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new sp(op.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sp(op.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new sp(op.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cp),Pp=function(){function e(t){Mo(this,e),this.fields=t,t.sort(Rp.comparator)}return Fo(e,[{key:"covers",value:function(e){var t,n=nu(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Op=function(e){function t(e){Mo(this,t),this.binaryString=e}return Fo(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return wp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Op.EMPTY_BYTE_STRING=new Op("");var Dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lp(e){if(ip(!!e),"string"==typeof e){var t=0,n=Dp.exec(e);if(ip(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mp(e.seconds),nanos:Mp(e.nanos)}}function Mp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jp(e){return"string"==typeof e?Op.fromBase64String(e):Op.fromUint8Array(e)}function Fp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Up(e){var t=e.mapValue.fields.__previous_value__;return Fp(t)?Up(t):t}function Vp(e){var t=Lp(e.mapValue.fields.__local_write_time__.timestampValue);return new _p(t.seconds,t.nanos)}function zp(e){return null==e}function Bp(e){return 0===e&&1/e==-1/0}function qp(e){return"number"==typeof e&&Number.isInteger(e)&&!Bp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Wp=function(){function e(t){Mo(this,e),this.path=t}return Fo(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Ap.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ap.fromString(t))}},{key:"fromName",value:function(t){return new e(Ap.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Ap.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ap(t.slice()))}}]),e}();function Hp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fp(e)?4:10:rp()}function Kp(e,t){if(e===t)return!0;var n=Hp(e);if(n!==Hp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vp(e).isEqual(Vp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Lp(e.timestampValue),r=Lp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jp(e.bytesValue).isEqual(jp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mp(e.geoPointValue.latitude)===Mp(t.geoPointValue.latitude)&&Mp(e.geoPointValue.longitude)===Mp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mp(e.integerValue)===Mp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Mp(e.doubleValue),r=Mp(t.doubleValue);return n===r?Bp(n)===Bp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bp(e.arrayValue.values||[],t.arrayValue.values||[],Kp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Sp(n)!==Sp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kp(n[i],r[i])))return!1;return!0}(e,t);default:return rp()}}function Gp(e,t){return void 0!==(e.values||[]).find((function(e){return Kp(e,t)}))}function Qp(e,t){if(e===t)return 0;var n=Hp(e),r=Hp(t);if(n!==r)return wp(n,r);switch(n){case 0:return 0;case 1:return wp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Mp(e.integerValue||e.doubleValue),r=Mp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $p(e.timestampValue,t.timestampValue);case 4:return $p(Vp(e),Vp(t));case 5:return wp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jp(e),r=jp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=wp(n[i],r[i]);if(0!==a)return a}return wp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=wp(Mp(e.latitude),Mp(t.latitude));return 0!==n?n:wp(Mp(e.longitude),Mp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Qp(n[i],r[i]);if(a)return a}return wp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=wp(r[o],a[o]);if(0!==s)return s;var u=Qp(n[r[o]],i[a[o]]);if(0!==u)return u}return wp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rp()}}function $p(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wp(e,t);var n=Lp(e),r=Lp(t),i=wp(n.seconds,r.seconds);return 0!==i?i:wp(n.nanos,r.nanos)}function Yp(e){return Jp(e)}function Jp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Lp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=nu(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=nu(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rp();var t,n}function Xp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zp(e){return!!e&&"integerValue"in e}function ev(e){return!!e&&"arrayValue"in e}function tv(e){return!!e&&"nullValue"in e}function nv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rv(e){return!!e&&"mapValue"in e}function iv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ep(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=iv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=iv(e.arrayValue.values[r]);return n}return Object.assign({},e)}var av=function(){function e(t){Mo(this,e),this.value=t}return Fo(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iv(t)}},{key:"setAll",value:function(e){var t=this,n=Rp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=iv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Kp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ep(t,(function(t,n){return e[t]=n}));var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(iv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ov(e){var t=[];return Ep(e.fields,(function(e,n){var r=new Rp([e]);if(rv(n)){var i=ov(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=nu(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Pp(t)}var sv=function(){function e(t,n,r,i,a){Mo(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Fo(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=av.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=av.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ip.min(),av.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,av.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,av.empty(),2)}}]),e}(),uv=Fo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Mo(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function cv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new uv(e,t,n,r,i,a,o)}function lv(e){var t=ap(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Yp(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),zp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=_v(t.startAt)),t.endAt&&(n+="|ub:",n+=_v(t.endAt)),t.R=n}return t.R}function fv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Kp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tv(e.startAt,t.startAt)&&Tv(e.endAt,t.endAt)}function hv(e){return Wp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var dv=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Fo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Qp(t,this.value)):null!==t&&Hp(this.value)===Hp(t)&&this.v(Qp(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rp()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new pv(e,t,r):"array-contains"===t?new yv(e,r):"in"===t?new kv(e,r):"not-in"===t?new wv(e,r):"array-contains-any"===t?new bv(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new vv(e,n):new mv(e,n)}}]),n}(function(){return Fo((function e(){Mo(this,e)}))}());var pv=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this,e,r,i)).key=Wp.fromName(i.referenceValue),a}return Fo(n,[{key:"matches",value:function(e){var t=Wp.comparator(e.key,this.key);return this.v(t)}}]),n}(dv),vv=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,"in",r)).keys=gv("in",r),i}return Fo(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dv),mv=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,"not-in",r)).keys=gv("not-in",r),i}return Fo(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dv);function gv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wp.fromName(e.referenceValue)}))}var yv=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"array-contains",r)}return Fo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ev(t)&&Gp(t.arrayValue,this.value)}}]),n}(dv),kv=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"in",r)}return Fo(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Gp(this.value.arrayValue,t)}}]),n}(dv),wv=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"not-in",r)}return Fo(n,[{key:"matches",value:function(e){if(Gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Gp(this.value.arrayValue,t)}}]),n}(dv),bv=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"array-contains-any",r)}return Fo(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Gp(t.value.arrayValue,e)}))}}]),n}(dv),xv=Fo((function e(t,n){Mo(this,e),this.position=t,this.before=n}));function _v(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Yp(e)})).join(","))}var Iv=Fo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Mo(this,e),this.field=t,this.dir=n}));function Sv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ev(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wp.comparator(Wp.fromName(o.referenceValue),n.key):Qp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Tv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kp(e.position[n],t.position[n]))return!1;return!0}var Cv=Fo((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Mo(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Av(e,t,n,r,i,a,o,s){return new Cv(e,t,n,r,i,a,o,s)}function Nv(e){return new Cv(e)}function Rv(e){return!zp(e.limit)&&"F"===e.limitType}function Pv(e){return!zp(e.limit)&&"L"===e.limitType}function Ov(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dv(e){var t,n=nu(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Lv(e){return null!==e.collectionGroup}function Mv(e){var t=ap(e);if(null===t.S){t.S=[];var n=Dv(t),r=Ov(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Iv(n)),t.S.push(new Iv(Rp.keyField(),"asc"));else{var i,a=!1,o=nu(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Iv(Rp.keyField(),u))}}}return t.S}function jv(e){var t=ap(e);if(!t.D)if("F"===t.limitType)t.D=cv(t.path,t.collectionGroup,Mv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=nu(Mv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Iv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new xv(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xv(t.startAt.position,!t.startAt.before):null;t.D=cv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Fv(e,t,n){return new Cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uv(e,t){return fv(jv(e),jv(t))&&e.limitType===t.limitType}function Vv(e){return"".concat(lv(jv(e)),"|lt:").concat(e.limitType)}function zv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Yp(t.value));var t})).join(", "),"]")),zp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+_v(e.startAt)),e.endAt&&(t+=", endAt: "+_v(e.endAt)),"Target(".concat(t,")")}(jv(e)),"; limitType=").concat(e.limitType,")")}function Bv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=nu(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=nu(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ev(e.startAt,Mv(e),t))&&(!e.endAt||!Ev(e.endAt,Mv(e),t))}(e,t)}function qv(e){return function(t,n){var r,i=!1,a=nu(Mv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Wv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Wv(e,t,n){var r=e.field.isKeyField()?Wp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qp(r,i):rp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rp()}}function Hv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(t)?"-0":t}}function Kv(e){return{integerValue:""+e}}function Gv(e,t){return qp(t)?Kv(t):Hv(e,t)}var Qv=Fo((function e(){Mo(this,e),this._=void 0}));function $v(e,t,n){return e instanceof Xv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zv?em(e,t):e instanceof tm?nm(e,t):function(e,t){var n=Jv(e,t),r=im(n)+im(e.N);return Zp(n)&&Zp(e.N)?Kv(r):Hv(e.k,r)}(e,t)}function Yv(e,t,n){return e instanceof Zv?em(e,t):e instanceof tm?nm(e,t):n}function Jv(e,t){return e instanceof rm?Zp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xv=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n)}(Qv),Zv=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).elements=e,r}return Fo(n)}(Qv);function em(e,t){var n,r=am(t),i=nu(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Kp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tm=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).elements=e,r}return Fo(n)}(Qv);function nm(e,t){var n,r=am(t),i=nu(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Kp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rm=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).k=e,i.N=r,i}return Fo(n)}(Qv);function im(e){return Mp(e.integerValue||e.doubleValue)}function am(e){return ev(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var om=Fo((function e(t,n){Mo(this,e),this.field=t,this.transform=n}));var sm=Fo((function e(t,n){Mo(this,e),this.version=t,this.transformResults=n})),um=function(){function e(t,n){Mo(this,e),this.updateTime=t,this.exists=n}return Fo(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lm=Fo((function e(){Mo(this,e)}));function fm(e,t,n){e instanceof mm?function(e,t,n){var r=e.value.clone(),i=km(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gm?function(e,t,n){if(cm(e.precondition,t)){var r=km(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ym(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hm(e,t,n){e instanceof mm?function(e,t,n){if(cm(e.precondition,t)){var r=e.value.clone(),i=wm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gm?function(e,t,n){if(cm(e.precondition,t)){var r=wm(e.fieldTransforms,n,t),i=t.data;i.setAll(ym(e)),i.setAll(r),t.convertToFoundDocument(vm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){cm(e.precondition,t)&&t.convertToNoDocument(Ip.min())}(e,t)}function dm(e,t){var n,r=null,i=nu(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Jv(a.transform,o||null);null!=s&&(null==r&&(r=av.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function pm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zv&&t instanceof Zv||e instanceof tm&&t instanceof tm?bp(e.elements,t.elements,Kp):e instanceof rm&&t instanceof rm?Kp(e.N,t.N):e instanceof Xv&&t instanceof Xv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vm(e){return e.isFoundDocument()?e.version:Ip.min()}var mm=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Mo(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Fo(n)}(lm),gm=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Mo(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Fo(n)}(lm);function ym(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function km(e,t,n){var r=new Map;ip(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Yv(o,s,n[i]))}return r}function wm(e,t,n){var r,i=new Map,a=nu(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,$v(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bm,xm,_m=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Fo(n)}(lm),Im=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Fo(n)}(lm),Sm=Fo((function e(t){Mo(this,e),this.count=t}));function Em(e){switch(e){default:return rp();case op.CANCELLED:case op.UNKNOWN:case op.DEADLINE_EXCEEDED:case op.RESOURCE_EXHAUSTED:case op.INTERNAL:case op.UNAVAILABLE:case op.UNAUTHENTICATED:return!1;case op.INVALID_ARGUMENT:case op.NOT_FOUND:case op.ALREADY_EXISTS:case op.PERMISSION_DENIED:case op.FAILED_PRECONDITION:case op.ABORTED:case op.OUT_OF_RANGE:case op.UNIMPLEMENTED:case op.DATA_LOSS:return!0}}function Tm(e){if(void 0===e)return ep("GRPC error has no .code"),op.UNKNOWN;switch(e){case bm.OK:return op.OK;case bm.CANCELLED:return op.CANCELLED;case bm.UNKNOWN:return op.UNKNOWN;case bm.DEADLINE_EXCEEDED:return op.DEADLINE_EXCEEDED;case bm.RESOURCE_EXHAUSTED:return op.RESOURCE_EXHAUSTED;case bm.INTERNAL:return op.INTERNAL;case bm.UNAVAILABLE:return op.UNAVAILABLE;case bm.UNAUTHENTICATED:return op.UNAUTHENTICATED;case bm.INVALID_ARGUMENT:return op.INVALID_ARGUMENT;case bm.NOT_FOUND:return op.NOT_FOUND;case bm.ALREADY_EXISTS:return op.ALREADY_EXISTS;case bm.PERMISSION_DENIED:return op.PERMISSION_DENIED;case bm.FAILED_PRECONDITION:return op.FAILED_PRECONDITION;case bm.ABORTED:return op.ABORTED;case bm.OUT_OF_RANGE:return op.OUT_OF_RANGE;case bm.UNIMPLEMENTED:return op.UNIMPLEMENTED;case bm.DATA_LOSS:return op.DATA_LOSS;default:return rp()}}(xm=bm||(bm={}))[xm.OK=0]="OK",xm[xm.CANCELLED=1]="CANCELLED",xm[xm.UNKNOWN=2]="UNKNOWN",xm[xm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xm[xm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xm[xm.NOT_FOUND=5]="NOT_FOUND",xm[xm.ALREADY_EXISTS=6]="ALREADY_EXISTS",xm[xm.PERMISSION_DENIED=7]="PERMISSION_DENIED",xm[xm.UNAUTHENTICATED=16]="UNAUTHENTICATED",xm[xm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xm[xm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xm[xm.ABORTED=10]="ABORTED",xm[xm.OUT_OF_RANGE=11]="OUT_OF_RANGE",xm[xm.UNIMPLEMENTED=12]="UNIMPLEMENTED",xm[xm.INTERNAL=13]="INTERNAL",xm[xm.UNAVAILABLE=14]="UNAVAILABLE",xm[xm.DATA_LOSS=15]="DATA_LOSS";var Cm=function(){function e(t,n){Mo(this,e),this.comparator=t,this.root=n||Nm.EMPTY}return Fo(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Am(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Am(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Am(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Am(this.root,e,this.comparator,!0)}}]),e}(),Am=function(){function e(t,n,r,i){Mo(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Fo(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Nm=function(){function e(t,n,r,i,a){Mo(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Fo(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rp();if(this.right.isRed())throw rp();var e=this.left.check();if(e!==this.right.check())throw rp();return e+(this.isRed()?0:1)}}]),e}();Nm.EMPTY=null,Nm.RED=!0,Nm.BLACK=!1,Nm.EMPTY=new(function(){function e(){Mo(this,e),this.size=0}return Fo(e,[{key:"key",get:function(){throw rp()}},{key:"value",get:function(){throw rp()}},{key:"color",get:function(){throw rp()}},{key:"left",get:function(){throw rp()}},{key:"right",get:function(){throw rp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Nm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rm=function(){function e(t){Mo(this,e),this.comparator=t,this.data=new Cm(this.comparator)}return Fo(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Pm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Pm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Pm=function(){function e(t){Mo(this,e),this.iter=t}return Fo(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Om=new Cm(Wp.comparator);function Dm(){return Om}var Lm=new Cm(Wp.comparator);function Mm(){return Lm}var jm=new Cm(Wp.comparator);function Fm(){return jm}var Um=new Rm(Wp.comparator);function Vm(){for(var e=Um,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zm=new Rm(wp);function Bm(){return zm}var qm=function(){function e(t,n,r,i,a){Mo(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Fo(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Wm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ip.min(),r,Bm(),Dm(),Vm())}}]),e}(),Wm=function(){function e(t,n,r,i,a){Mo(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Fo(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Op.EMPTY_BYTE_STRING,n,Vm(),Vm(),Vm())}}]),e}(),Hm=Fo((function e(t,n,r,i){Mo(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Km=Fo((function e(t,n){Mo(this,e),this.targetId=t,this.M=n})),Gm=Fo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Op.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Mo(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Qm=function(){function e(){Mo(this,e),this.F=0,this.L=Jm(),this.B=Op.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Fo(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Vm(),t=Vm(),n=Vm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rp()}})),new Wm(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Jm()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),$m=function(){function e(t){Mo(this,e),this.et=t,this.nt=new Map,this.st=Dm(),this.it=Ym(),this.rt=new Rm(wp)}return Fo(e,[{key:"ot",value:function(e){var t,n=nu(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=nu(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:rp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(hv(i))if(0===n){var a=new Wp(i.path);this.at(t,a,sv.newNoDocument(a,Ip.min()))}else ip(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&hv(a.target)){var o=new Wp(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,sv.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Vm();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new qm(e,n,this.rt,this.st,r);return this.st=Dm(),this.it=Ym(),this.rt=new Rm(wp),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Qm,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Rm(wp),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Zd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Qm),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ym(){return new Cm(Wp.comparator)}function Jm(){return new Cm(Wp.comparator)}var Xm={asc:"ASCENDING",desc:"DESCENDING"},Zm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eg=Fo((function e(t,n){Mo(this,e),this.databaseId=t,this.C=n}));function tg(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ng(e,t){return e.C?t.toBase64():t.toUint8Array()}function rg(e,t){return tg(e,t.toTimestamp())}function ig(e){return ip(!!e),Ip.fromTimestamp(function(e){var t=Lp(e);return new _p(t.seconds,t.nanos)}(e))}function ag(e,t){return function(e){return new Ap(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function og(e){var t=Ap.fromString(e);return ip(Rg(t)),t}function sg(e,t){return ag(e.databaseId,t.path)}function ug(e,t){var n=og(t);if(n.get(1)!==e.databaseId.projectId)throw new sp(op.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sp(op.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wp(hg(n))}function cg(e,t){return ag(e.databaseId,t)}function lg(e){var t=og(e);return 4===t.length?Ap.emptyPath():hg(t)}function fg(e){return new Ap(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hg(e){return ip(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dg(e,t,n){return{name:sg(e,t),fields:n.value.mapValue.fields}}function pg(e,t,n){var r=ug(e,t.name),i=ig(t.updateTime),a=new av({mapValue:{fields:t.fields}}),o=sv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function vg(e,t){return"found"in t?function(e,t){ip(!!t.found),t.found.name,t.found.updateTime;var n=ug(e,t.found.name),r=ig(t.found.updateTime),i=new av({mapValue:{fields:t.found.fields}});return sv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ip(!!t.missing),ip(!!t.readTime);var n=ug(e,t.missing),r=ig(t.readTime);return sv.newNoDocument(n,r)}(e,t):rp()}function mg(e,t){var n;if(t instanceof mm)n={update:dg(e,t.key,t.value)};else if(t instanceof _m)n={delete:sg(e,t.key)};else if(t instanceof gm)n={update:dg(e,t.key,t.data),updateMask:Ng(t.fieldMask)};else{if(!(t instanceof Im))return rp();n={verify:sg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rm)return{fieldPath:t.field.canonicalString(),increment:n.N};throw rp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rp()}(e,t.precondition)),n}function gg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?um.updateTime(ig(e.updateTime)):void 0!==e.exists?um.exists(e.exists):um.none()}(t.currentDocument):um.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ip("REQUEST_TIME"===t.setToServerValue),n=new Xv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tm(i)}else"increment"in t?n=new rm(e,t.increment):rp();var a=Rp.fromServerFormat(t.fieldPath);return new om(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ug(e,t.update.name),a=new av({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Pp(t.map((function(e){return Rp.fromServerFormat(e)})))}(t.updateMask);return new gm(i,a,o,n,r)}return new mm(i,a,n,r)}if(t.delete){var s=ug(e,t.delete);return new _m(s,n)}if(t.verify){var u=ug(e,t.verify);return new Im(u,n)}return rp()}function yg(e,t){return{documents:[cg(e,t.path)]}}function kg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(nv(e.value))return{unaryFilter:{field:Eg(e.field),op:"IS_NAN"}};if(tv(e.value))return{unaryFilter:{field:Eg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nv(e.value))return{unaryFilter:{field:Eg(e.field),op:"IS_NOT_NAN"}};if(tv(e.value))return{unaryFilter:{field:Eg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eg(e.field),op:Sg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Eg(e.field),direction:Ig(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||zp(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=xg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=xg(t.endAt)),n}function wg(e){var t=lg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ip(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=bg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Iv(Tg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return zp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=_g(n.startAt));var l=null;return n.endAt&&(l=_g(n.endAt)),Av(t,i,s,o,u,"F",c,l)}function bg(e){return e?void 0!==e.unaryFilter?[Ag(e)]:void 0!==e.fieldFilter?[Cg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return bg(e)})).reduce((function(e,t){return e.concat(t)})):rp():[]}function xg(e){return{before:e.before,values:e.position}}function _g(e){var t=!!e.before,n=e.values||[];return new xv(n,t)}function Ig(e){return Xm[e]}function Sg(e){return Zm[e]}function Eg(e){return{fieldPath:e.canonicalString()}}function Tg(e){return Rp.fromServerFormat(e.fieldPath)}function Cg(e){return dv.create(Tg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rp()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ag(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tg(e.unaryFilter.field);return dv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tg(e.unaryFilter.field);return dv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tg(e.unaryFilter.field);return dv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tg(e.unaryFilter.field);return dv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rp()}}function Ng(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Pg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dg(t)),t=Og(e.get(n),t);return Dg(t)}function Og(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dg(e){return e+"\x01\x01"}function Lg(e){var t=e.length;if(ip(t>=2),2===t)return ip("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ap.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rp(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rp()}a=o+2}return new Ap(r)}var Mg=Fo((function e(t,n){Mo(this,e),this.seconds=t,this.nanoseconds=n})),jg=Fo((function e(t,n,r){Mo(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));jg.store="owner",jg.key="owner";var Fg=Fo((function e(t,n,r){Mo(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Fg.store="mutationQueues",Fg.keyPath="userId";var Ug=Fo((function e(t,n,r,i,a){Mo(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Ug.store="mutations",Ug.keyPath="batchId",Ug.userMutationsIndex="userMutationsIndex",Ug.userMutationsKeyPath=["userId","batchId"];var Vg=function(){function e(){Mo(this,e)}return Fo(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Pg(t)]}},{key:"key",value:function(e,t,n){return[e,Pg(t),n]}}]),e}();Vg.store="documentMutations",Vg.PLACEHOLDER=new Vg;var zg=Fo((function e(t,n){Mo(this,e),this.path=t,this.readTime=n})),Bg=Fo((function e(t,n){Mo(this,e),this.path=t,this.version=n})),qg=Fo((function e(t,n,r,i,a,o){Mo(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));qg.store="remoteDocuments",qg.readTimeIndex="readTimeIndex",qg.readTimeIndexPath="readTime",qg.collectionReadTimeIndex="collectionReadTimeIndex",qg.collectionReadTimeIndexPath=["parentPath","readTime"];var Wg=Fo((function e(t){Mo(this,e),this.byteSize=t}));Wg.store="remoteDocumentGlobal",Wg.key="remoteDocumentGlobalKey";var Hg=Fo((function e(t,n,r,i,a,o,s){Mo(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Hg.store="targets",Hg.keyPath="targetId",Hg.queryTargetsIndexName="queryTargetsIndex",Hg.queryTargetsKeyPath=["canonicalId","targetId"];var Kg=Fo((function e(t,n,r){Mo(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Kg.store="targetDocuments",Kg.keyPath=["targetId","path"],Kg.documentTargetsIndex="documentTargetsIndex",Kg.documentTargetsKeyPath=["path","targetId"];var Gg=Fo((function e(t,n,r,i){Mo(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Gg.key="targetGlobalKey",Gg.store="targetGlobal";var Qg=Fo((function e(t,n){Mo(this,e),this.collectionId=t,this.parent=n}));Qg.store="collectionParents",Qg.keyPath=["collectionId","parent"];var $g=Fo((function e(t,n,r,i){Mo(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));$g.store="clientMetadata",$g.keyPath="clientId";var Yg=Fo((function e(t,n,r){Mo(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Yg.store="bundles",Yg.keyPath="bundleId";var Jg=Fo((function e(t,n,r){Mo(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Jg.store="namedQueries",Jg.keyPath="name";var Xg=[Fg.store,Ug.store,Vg.store,qg.store,Hg.store,jg.store,Gg.store,Kg.store].concat([$g.store]).concat([Wg.store]).concat([Qg.store]).concat([Yg.store,Jg.store]),Zg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ey=function(){function e(){Mo(this,e),this.onCommittedListeners=[]}return Fo(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ty=function(){function e(t){var n=this;Mo(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Fo(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=nu(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ny=function(){function e(t,n){var r=this;Mo(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new up,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new ay(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=ly(e.target.error);r.It.reject(new ay(t,n))}}return Fo(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Zd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new sy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ay(n,t)}}}]),e}(),ry=function(){function e(t,n,r){Mo(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(hu())&&ep("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Fo(e,[{key:"Ct",value:function(){var e=Du(Mu().mark((function e(t){var n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ay(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new sp(op.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new sp(op.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ay(t,n))},i.onupgradeneeded=function(e){Zd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Zd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Mu().mark((function e(){var n,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=ny.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),ty.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Zd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zd("SimpleDb","Removing database:",e),uy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!yu())return!1;if(e.vt())return!0;var t=hu(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/simple-netflix-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),iy=function(){function e(t){Mo(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Fo(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return uy(this.$t.delete())}}]),e}(),ay=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,op.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Fo(n)}(sp);function oy(e){return"IndexedDbTransactionError"===e.name}var sy=function(){function e(t){Mo(this,e),this.store=t}return Fo(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uy(n)}},{key:"add",value:function(e){return Zd("SimpleDb","ADD",this.store.name,e,e),uy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return uy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zd("SimpleDb","DELETE",this.store.name,e),uy(this.store.delete(e))}},{key:"count",value:function(){return Zd("SimpleDb","COUNT",this.store.name),uy(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Zd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new ty((function(n,r){t.onerror=function(e){var t=ly(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new ty((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new iy(i),o=t(i.primaryKey,i.value,a);if(o instanceof ty){var s=o.catch((function(e){return a.done(),ty.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return ty.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function uy(e){return new ty((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ly(e.target.error);n(t)}}))}var cy=!1;function ly(e){var t=ry.bt(hu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new sp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return cy||(cy=!0,setTimeout((function(){throw r}),0)),r}}return e}var fy=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Fo(n)}(ey);function hy(e,t){var n=ap(e);return ry.Dt(n.Wt,t)}var dy=function(){function e(t,n,r,i){Mo(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Fo(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=nu(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hm(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=nu(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hm(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ip.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bp(this.mutations,e.mutations,(function(e,t){return pm(e,t)}))&&bp(this.baseMutations,e.baseMutations,(function(e,t){return pm(e,t)}))}}]),e}(),py=function(){function e(t,n,r,i){Mo(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Fo(e,null,[{key:"from",value:function(t,n,r){ip(t.mutations.length===r.length);for(var i=Fm(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),vy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ip.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ip.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Op.EMPTY_BYTE_STRING;Mo(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Fo(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),my=Fo((function e(t){Mo(this,e),this.Gt=t}));function gy(e,t){if(t.document)return pg(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Wp.fromSegments(t.noDocument.path),r=xy(t.noDocument.readTime),i=sv.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Wp.fromSegments(t.unknownDocument.path),o=xy(t.unknownDocument.version);return sv.newUnknownDocument(a,o)}return rp()}function yy(e,t,n){var r=ky(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:sg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:tg(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new qg(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=by(t.version),c=t.hasCommittedMutations;return new qg(null,new zg(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=by(t.version);return new qg(new Bg(l,f),null,null,!0,r,i)}return rp()}function ky(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wy(e){var t=new _p(e[0],e[1]);return Ip.fromTimestamp(t)}function by(e){var t=e.toTimestamp();return new Mg(t.seconds,t.nanoseconds)}function xy(e){var t=new _p(e.seconds,e.nanoseconds);return Ip.fromTimestamp(t)}function _y(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gg(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gg(e.Gt,t)})),s=_p.fromMillis(t.localWriteTimeMs);return new dy(t.batchId,s,n,o)}function Iy(e){var t,n,r=xy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?xy(e.lastLimboFreeSnapshotVersion):Ip.min();return void 0!==e.query.documents?(ip(1===(n=e.query).documents.length),t=jv(Nv(lg(n.documents[0])))):t=function(e){return jv(wg(e))}(e.query),new vy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Op.fromBase64String(e.resumeToken))}function Sy(e,t){var n,r=by(t.snapshotVersion),i=by(t.lastLimboFreeSnapshotVersion);n=hv(t.target)?yg(e.Gt,t.target):kg(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Hg(t.targetId,lv(t.target),r,a,t.sequenceNumber,i,n)}function Ey(e){var t=wg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fv(t,t.limit,"L"):t}var Ty=function(){function e(){Mo(this,e)}return Fo(e,[{key:"getBundleMetadata",value:function(e,t){return Cy(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:xy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Cy(e).put({bundleId:(n=t).id,createTime:by(ig(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ay(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ey(t.bundledQuery),readTime:xy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ay(e).put(function(e){return{name:e.name,readTime:by(ig(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Cy(e){return hy(e,Yg.store)}function Ay(e){return hy(e,Jg.store)}var Ny=function(){function e(){Mo(this,e),this.zt=new Ry}return Fo(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),ty.resolve()}},{key:"getCollectionParents",value:function(e,t){return ty.resolve(this.zt.getEntries(t))}}]),e}(),Ry=function(){function e(){Mo(this,e),this.index={}}return Fo(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rm(Ap.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rm(Ap.comparator)).toArray()}}]),e}(),Py=function(){function e(){Mo(this,e),this.Ht=new Ry}return Fo(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Pg(i)};return Oy(e).put(a)}return ty.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xp(t),""],!1,!0);return Oy(e).Bt(r).next((function(e){var r,i=nu(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Lg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Oy(e){return hy(e,Qg.store)}var Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ly=function(){function e(t,n,r){Mo(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Fo(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function My(e,t,n){var r=e.store(Ug.store),i=e.store(Vg.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){ip(1===s)})));var c,l=[],f=nu(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Vg.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ty.waitFor(a).next((function(){return l}))}function jy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rp();t=e.noDocument}return JSON.stringify(t).length}Ly.DEFAULT_COLLECTION_PERCENTILE=10,Ly.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ly.DEFAULT=new Ly(41943040,Ly.DEFAULT_COLLECTION_PERCENTILE,Ly.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ly.DISABLED=new Ly(-1,0,0);var Fy=function(){function e(t,n,r,i){Mo(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Fo(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vy(e).jt({index:Ug.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=zy(e),o=Vy(e);return o.add({}).next((function(s){ip("number"==typeof s);var u,c=new dy(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mg(e.Gt,t)})),i=n.mutations.map((function(t){return mg(e.Gt,t)}));return new Ug(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Rm((function(e,t){return wp(e.canonicalString(),t.canonicalString())})),d=nu(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Vg.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Vg.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),ty.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vy(e).get(t).next((function(e){return e?(ip(e.userId===n.userId),_y(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?ty.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Vy(e).jt({index:Ug.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ip(t.batchId>=r),a=_y(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vy(e).jt({index:Ug.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vy(e).Bt(Ug.userMutationsIndex,n).next((function(e){return e.map((function(e){return _y(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Vg.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return zy(e).jt({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Lg(c);if(u===n.userId&&t.path.isEqual(h))return Vy(e).get(f).next((function(e){if(!e)throw rp();ip(e.userId===n.userId),a.push(_y(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rm(wp),i=[];return t.forEach((function(t){var a=Vg.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=zy(e).jt({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Lg(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),ty.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Vg.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Rm(wp);return zy(e).jt({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=Lg(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vy(e).get(t).next((function(e){if(null===e)throw rp();ip(e.userId===n.userId),r.push(_y(n.k,e))})))})),ty.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return My(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),ty.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ty.resolve();var r=IDBKeyRange.lowerBound(Vg.prefixForUser(t.userId)),i=[];return zy(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Lg(e[1]);i.push(a)}else r.done()})).next((function(){ip(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Uy(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return By(e).get(this.userId).next((function(e){return e||new Fg(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return ip(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Uy(e,t,n){var r=Vg.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return zy(e).jt({range:a,Kt:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Vy(e){return hy(e,Ug.store)}function zy(e){return hy(e,Vg.store)}function By(e){return hy(e,Fg.store)}var qy=function(){function e(t){Mo(this,e),this.se=t}return Fo(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Wy=function(){function e(t,n){Mo(this,e),this.referenceDelegate=t,this.k=n}return Fo(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new qy(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Ip.fromTimestamp(new _p(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hy(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return ip(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hy(e).jt((function(o,s){var u=Iy(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return ty.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hy(e).jt((function(e,n){var r=Iy(n);t(r)}))}},{key:"oe",value:function(e){return Ky(e).get(Gg.key).next((function(e){return ip(null!==e),e}))}},{key:"ce",value:function(e,t){return Ky(e).put(Gg.key,t)}},{key:"ae",value:function(e,t){return Hy(e).put(Sy(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=lv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hy(e).jt({range:r,index:Hg.queryTargetsIndexName},(function(e,n,r){var a=Iy(n);fv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Gy(e);return t.forEach((function(t){var o=Pg(t.path);i.push(a.put(new Kg(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),ty.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Gy(e);return ty.forEach(t,(function(t){var a=Pg(t.path);return ty.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Gy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gy(e),i=Vm();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Lg(e[1]),a=new Wp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Pg(t.path),r=IDBKeyRange.bound([n],[xp(n)],!1,!0),i=0;return Gy(e).jt({index:Kg.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Hy(e).get(t).next((function(e){return e?Iy(e):null}))}}]),e}();function Hy(e){return hy(e,Hg.store)}function Ky(e){return hy(e,Gg.store)}function Gy(e){return hy(e,Kg.store)}function Qy(e){return $y.apply(this,arguments)}function $y(){return $y=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===op.FAILED_PRECONDITION&&t.message===Zg){e.next=2;break}throw t;case 2:Zd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Yy(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=wp(r,o);return 0===u?wp(i,s):u}var Jy=function(){function e(t){Mo(this,e),this.he=t,this.buffer=new Rm(Yy),this.le=0}return Fo(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Yy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Xy=function(){function e(t,n){Mo(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Fo(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Zd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!oy(n.t0)){n.next=12;break}Zd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Qy(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Zy=function(){function e(t,n){Mo(this,e),this.ge=t,this.params=n}return Fo(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ty.resolve(gp.I);var r=new Jy(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; disabled"),ty.resolve(Dy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Dy):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Xd()<=zu.DEBUG&&Zd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),ty.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ek=function(){function e(t,n){Mo(this,e),this.db=t,this.garbageCollector=function(e,t){return new Zy(e,t)}(this,n)}return Fo(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return tk(e,n)}},{key:"removeReference",value:function(e,t,n){return tk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return tk(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return By(e).Qt((function(r){return Uy(e,r,t).next((function(e){return e&&(n=!0),ty.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Gy(e).delete([0,Pg(o.path)])}))}));i.push(u)}})).next((function(){return ty.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return tk(e,t)}},{key:"Ie",value:function(e,t){var n,r=Gy(e),i=gp.I;return r.jt({index:Kg.documentTargetsIndex},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==gp.I&&t(new Wp(Lg(n)),i),i=u,n=s):i=gp.I})).next((function(){i!==gp.I&&t(new Wp(Lg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function tk(e,t){return Gy(e).put(function(e,t){return new Kg(0,Pg(e.path),t)}(t,e.currentSequenceNumber))}var nk=function(){function e(t,n){Mo(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Fo(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ep(this.inner,(function(t,n){var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Tp(this.inner)}}]),e}(),rk=function(){function e(){Mo(this,e),this.changes=new nk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Fo(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Ip.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:sv.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ty.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ik=function(){function e(t,n){Mo(this,e),this.k=t,this.Jt=n}return Fo(e,[{key:"addEntry",value:function(e,t,n){return sk(e).put(uk(t),n)}},{key:"removeEntry",value:function(e,t){var n=sk(e),r=uk(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return sk(e).get(uk(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return sk(e).get(uk(t)).next((function(e){return{document:n.be(t,e),size:jy(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Dm();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Dm(),i=new Cm(Wp.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,jy(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return ty.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return sk(e).jt({range:r},(function(e,t,r){for(var o=Wp.fromSegments(e);a&&Wp.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Dm(),a=t.path.length+1,o={};if(n.isEqual(Ip.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=ky(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=qg.collectionReadTimeIndex}return sk(e).jt(o,(function(e,n,o){if(e.length===a){var s=gy(r.k,n);t.path.isPrefixOf(s.key.path)?Bv(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new ak(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ok(e).get(Wg.key).next((function(e){return ip(!!e),e}))}},{key:"Re",value:function(e,t){return ok(e).put(Wg.key,t)}},{key:"be",value:function(e,t){if(t){var n=gy(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Ip.min()))return n}return sv.newInvalidDocument(e)}}]),e}(),ak=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new nk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Fo(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rm((function(e,t){return wp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=yy(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=jy(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=yy(t.De.k,sv.newNoDocument(a,Ip.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(rk);function ok(e){return hy(e,Wg.store)}function sk(e){return hy(e,qg.store)}function uk(e){return e.path.toArray()}var ck=function(){function e(t){Mo(this,e),this.k=t}return Fo(e,[{key:"Nt",value:function(e,t,n,r){var i=this;ip(n<r&&n>=0&&r<=11);var a=new ny("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(jg.store)}(e),function(e){e.createObjectStore(Fg.store,{keyPath:Fg.keyPath}),e.createObjectStore(Ug.store,{keyPath:Ug.keyPath,autoIncrement:!0}).createIndex(Ug.userMutationsIndex,Ug.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Vg.store)}(e),lk(e),function(e){e.createObjectStore(qg.store)}(e));var o=ty.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Kg.store),e.deleteObjectStore(Hg.store),e.deleteObjectStore(Gg.store)}(e),lk(e)),o=o.next((function(){return function(e){var t=e.store(Gg.store),n=new Gg(0,0,Ip.min().toTimestamp(),0);return t.put(Gg.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Ug.store).Bt().next((function(n){e.deleteObjectStore(Ug.store),e.createObjectStore(Ug.store,{keyPath:Ug.keyPath,autoIncrement:!0}).createIndex(Ug.userMutationsIndex,Ug.userMutationsKeyPath,{unique:!0});var r=t.store(Ug.store),i=n.map((function(e){return r.put(e)}));return ty.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore($g.store,{keyPath:$g.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Wg.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(qg.store);t.createIndex(qg.readTimeIndex,qg.readTimeIndexPath,{unique:!1}),t.createIndex(qg.collectionReadTimeIndex,qg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Yg.store,{keyPath:Yg.keyPath})}(e),function(e){e.createObjectStore(Jg.store,{keyPath:Jg.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(qg.store).jt((function(e,n){t+=jy(n)})).next((function(){var n=new Wg(t);return e.store(Wg.store).put(Wg.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Fg.store),r=e.store(Ug.store);return n.Bt().next((function(n){return ty.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Ug.userMutationsIndex,i).next((function(r){return ty.forEach(r,(function(r){ip(r.userId===n.userId);var i=_y(t.k,r);return My(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Kg.store),n=e.store(qg.store);return e.store(Gg.store).get(Gg.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Ap(n),o=function(e){return[0,Pg(e)]}(a);r.push(t.get(o).next((function(n){return n?ty.resolve():function(n){return t.put(new Kg(0,Pg(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return ty.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Qg.store,{keyPath:Qg.keyPath});var n=t.store(Qg.store),r=new Ry,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Pg(i)})}};return t.store(qg.store).jt({Kt:!0},(function(e,t){var n=new Ap(e);return i(n.popLast())})).next((function(){return t.store(Vg.store).jt({Kt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Lg(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Hg.store);return n.jt((function(e,r){var i=Iy(r),a=Sy(t.k,i);return n.put(a)}))}}]),e}();function lk(e){e.createObjectStore(Kg.store,{keyPath:Kg.keyPath}).createIndex(Kg.documentTargetsIndex,Kg.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hg.store,{keyPath:Hg.keyPath}).createIndex(Hg.queryTargetsIndexName,Hg.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Gg.store)}var fk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hk=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Mo(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new sp(op.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ek(this,i),this.Ge=n+"main",this.k=new my(u),this.ze=new ry(this.Ge,11,new ck(this.k)),this.He=new Wy(this.referenceDelegate,this.k),this.Jt=new Py,this.Je=function(e,t){return new ik(e,t)}(this.k,this.Jt),this.Ye=new Ty,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&ep("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Fo(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new sp(op.FAILED_PRECONDITION,fk);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new gp(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Du(Mu().mark((function n(r){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Du(Mu().mark((function t(n){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return pk(t).put(new $g(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(oy(t))return Zd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return dk(e).get(jg.key).next((function(e){return ty.resolve(t.un(e))}))}},{key:"hn",value:function(e){return pk(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i,a=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=hy(e,$g.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ty.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=nu(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?ty.resolve(!0):dk(e).get(jg.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new sp(op.FAILED_PRECONDITION,fk);return!1}}return!(!t.networkEnabled||!t.inForeground)||pk(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Du(Mu().mark((function e(){var t=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[jg.store,$g.store],(function(e){var n=new fy(e,gp.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return pk(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Fy.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Zd("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Xg,(function(a){return i=new fy(a,r.Be?r.Be.next():gp.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw ep("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new sp(op.FAILED_PRECONDITION,Zg);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return dk(e).get(jg.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new sp(op.FAILED_PRECONDITION,fk)}))}},{key:"an",value:function(e){var t=new jg(this.clientId,this.allowTabSynchronization,Date.now());return dk(e).put(jg.key,t)}},{key:"cn",value:function(e){var t=this,n=dk(e);return n.get(jg.key).next((function(e){return t.un(e)?(Zd("IndexedDbPersistence","Releasing primary lease."),n.delete(jg.key)):ty.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ep("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!pu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Zd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ep("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Qc){ep("Failed to set zombie client id.",Qc)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Qc){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return ry.Pt()}}]),e}();function dk(e){return hy(e,jg.store)}function pk(e){return hy(e,$g.store)}function vk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var mk=Fo((function e(t,n){Mo(this,e),this.progress=t,this.In=n})),gk=function(){function e(t,n,r){Mo(this,e),this.Je=t,this.An=n,this.Jt=r}return Fo(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=nu(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=nu(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Lv(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Wp(t)).next((function(e){var t=Mm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Mm();return this.Jt.getCollectionParents(e,i).next((function(o){return ty.forEach(o,(function(o){var s=function(e,t){return new Cv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=nu(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=nu(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=sv.newInvalidDocument(c),r=r.insert(c,l)),hm(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Bv(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Vm(),a=nu(t);try{for(a.s();!(r=a.n()).done;){var o,s=nu(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof gm&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),yk=function(){function e(t,n,r,i){Mo(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Fo(e,null,[{key:"$n",value:function(t,n){var r,i=Vm(),a=Vm(),o=nu(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),kk=function(){function e(){Mo(this,e)}return Fo(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ip.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Rv(t)||Pv(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Xd()<=zu.DEBUG&&Zd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zv(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Rm(qv(e));return t.forEach((function(t,r){Bv(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Xd()<=zu.DEBUG&&Zd("QueryEngine","Using full collection scan to execute query:",zv(t)),this.Mn.getDocumentsMatchingQuery(e,t,Ip.min())}}]),e}(),wk=function(){function e(t,n,r,i){Mo(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Cm(wp),this.Kn=new nk((function(e){return lv(e)}),fv),this.jn=Ip.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new gk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Fo(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function bk(e,t,n,r){return new wk(e,t,n,r)}function xk(e,t){return _k.apply(this,arguments)}function _k(){return _k=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new gk(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Vm(),u=nu(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=nu(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=nu(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=nu(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function Ik(e,t){var n=ap(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ty.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ip(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Sk(e){var t=ap(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Ek(e,t){var n=ap(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Op.EMPTY_BYTE_STRING,Ip.min()).withLastLimboFreeSnapshotVersion(Ip.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Dm();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Tk(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ip.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return ty.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Tk(e,t,n,r,i){var a=Vm();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Dm();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Ip.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Zd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Ck(e,t){var n=ap(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Ak(e,t){var n=ap(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,ty.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new vy(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Nk(e,t,n){return Rk.apply(this,arguments)}function Rk(){return Rk=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ap(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),oy(e.t1)){e.next=12;break}throw e.t1;case 12:Zd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Rk.apply(this,arguments)}function Pk(e,t,n){var r=ap(e),i=Ip.min(),a=Vm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ap(e),i=r.Kn.get(n);return void 0!==i?ty.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,jv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Ip.min(),n?a:Vm())})).next((function(e){return{documents:e,zn:a}}))}))}function Ok(e,t){var n=ap(e),r=ap(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Dk(e){var t=ap(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ap(e),i=Dm(),a=ky(n),o=sk(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:qg.readTimeIndex,range:s},(function(e,t){var n=gy(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:wy(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=sk(e),n=Ip.min();return t.jt({index:qg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wy(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function jk(e,t,n,r){return Fk.apply(this,arguments)}function Fk(){return Fk=Du(Mu().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ap(t),o=Vm(),s=Dm(),u=Fm(),c=nu(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Ak(a,function(e){return jv(Nv(Ap.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Tk(e,d,s,Ip.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Fk.apply(this,arguments)}function Uk(e,t){return Vk.apply(this,arguments)}function Vk(){return Vk=Du(Mu().mark((function e(t,n){var r,i,a,o=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vm(),e.next=3,Ak(t,jv(Ey(n.bundledQuery)));case 3:return i=e.sent,a=ap(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ig(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Op.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}var zk=function(){function e(t){Mo(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Fo(e,[{key:"getBundleMetadata",value:function(e,t){return ty.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:ig(n.createTime)}),ty.resolve()}},{key:"getNamedQuery",value:function(e,t){return ty.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ey(e.bundledQuery),readTime:ig(e.readTime)}}(t)),ty.resolve()}}]),e}(),Bk=function(){function e(){Mo(this,e),this.ts=new Rm(qk.es),this.ns=new Rm(qk.ss)}return Fo(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new qk(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new qk(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Wp(new Ap([])),r=new qk(n,e),i=new qk(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Wp(new Ap([])),n=new qk(t,e),r=new qk(t,e+1),i=Vm();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new qk(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),qk=function(){function e(t,n){Mo(this,e),this.key=t,this.fs=n}return Fo(e,null,[{key:"es",value:function(e,t){return Wp.comparator(e.key,t.key)||wp(e.fs,t.fs)}},{key:"ss",value:function(e,t){return wp(e.fs,t.fs)||Wp.comparator(e.key,t.key)}}]),e}(),Wk=function(){function e(t,n){Mo(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Rm(qk.es)}return Fo(e,[{key:"checkEmpty",value:function(e){return ty.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new dy(i,t,n,r);this.An.push(a);var o,s=nu(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new qk(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return ty.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ty.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return ty.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ty.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return ty.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new qk(t,0),i=new qk(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),ty.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rm(wp);return t.forEach((function(e){var t=new qk(e,0),i=new qk(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),ty.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wp.isDocumentKey(i)||(i=i.child(""));var a=new qk(new Wp(i),0),o=new Rm(wp);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),ty.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ip(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return ty.forEach(t.mutations,(function(i){var a=new qk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new qk(t,0),r=this.ws.firstAfterOrEqual(n);return ty.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,ty.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Hk=function(){function e(t,n){Mo(this,e),this.Jt=t,this.Ts=n,this.docs=new Cm(Wp.comparator),this.size=0}return Fo(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ty.resolve(n?n.document.mutableCopy():sv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Dm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():sv.newInvalidDocument(e))})),ty.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Dm(),i=new Wp(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Bv(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return ty.resolve(r)}},{key:"Es",value:function(e,t){return ty.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Kk(this)}},{key:"getSize",value:function(e){return ty.resolve(this.size)}}]),e}(),Kk=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).De=e,r}return Fo(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(rk),Gk=function(){function e(t){Mo(this,e),this.persistence=t,this.Is=new nk((function(e){return lv(e)}),fv),this.lastRemoteSnapshotVersion=Ip.min(),this.highestTargetId=0,this.As=0,this.Rs=new Bk,this.targetCount=0,this.bs=qy.ie()}return Fo(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),ty.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ty.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ty.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),ty.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),ty.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new qy(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,ty.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),ty.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ty.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ty.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ty.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return ty.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),ty.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ty.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),ty.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return ty.resolve(n)}},{key:"containsKey",value:function(e,t){return ty.resolve(this.Rs.containsKey(t))}}]),e}(),Qk=function(){function e(t,n){var r=this;Mo(this,e),this.Ps={},this.Be=new gp(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Gk(this),this.Jt=new Ny,this.Je=function(e,t){return new Hk(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new my(n),this.Ye=new zk(this.k)}return Fo(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Wk(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Zd("MemoryPersistence","Starting transaction:",e);var i=new $k(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return ty.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$k=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Fo(n)}(ey),Yk=function(){function e(t){Mo(this,e),this.persistence=t,this.Cs=new Bk,this.Ns=null}return Fo(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw rp()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),ty.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),ty.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),ty.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ty.forEach(this.xs,(function(r){var i=Wp.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return ty.or([function(){return ty.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Jk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ew=function(){function e(t,n,r,i){Mo(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Fo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new sp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ep("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),tw=function(){function e(t,n,r){Mo(this,e),this.targetId=t,this.state=n,this.error=r}return Fo(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sp(i.error.code,i.error.message))),a?new e(t,i.state,r):(ep("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),nw=function(){function e(t,n){Mo(this,e),this.clientId=t,this.activeTargetIds=n}return Fo(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bm(),o=0;i&&o<r.activeTargetIds.length;++o)i=qp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ep("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),rw=function(){function e(t,n){Mo(this,e),this.clientId=t,this.onlineState=n}return Fo(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ep("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),iw=function(){function e(){Mo(this,e),this.activeTargetIds=Bm()}return Fo(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),aw=function(){function e(t,n,r,i,a){Mo(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Cm(wp),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Jk(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new iw),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Fo(e,[{key:"start",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=nu(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Jk(this.persistenceKey,i)))&&(o=nw.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=nu(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zk(this.persistenceKey,e));if(n){var r=tw.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ep("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(Du(Mu().mark((function e(){var r,i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=gp.I;if(null!=e)try{var n=JSON.parse(e);ip("number"==typeof n),t=n}catch(e){ep("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==gp.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new ew(this.currentUser,e,t,n),i=Xk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Xk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Zk(this.persistenceKey,e),i=new tw(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return nw.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ew.Os(new $d(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return tw.Os(r,t)}},{key:"Zs",value:function(e){return rw.Os(e)}},{key:"fi",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Zd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Bm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ow=function(){function e(){Mo(this,e),this.pi=new iw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Fo(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new iw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),sw=function(){function e(){Mo(this,e)}return Fo(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),uw=function(){function e(){var t=this;Mo(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Fo(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Zd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=nu(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Zd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=nu(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lw=function(){function e(t){Mo(this,e),this.Vi=t.Vi,this.Si=t.Si}return Fo(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),fw=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Fo(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Gd;o.listenOnce(Bd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case zd.NO_ERROR:var t=o.getResponseJson();Zd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case zd.TIMEOUT:Zd("Connection",'RPC "'+e+'" timed out'),a(new sp(op.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:var n=o.getStatus();if(Zd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(op).indexOf(t)>=0?t:op.UNKNOWN}(r.status);a(new sp(s,r.message))}else a(new sp(op.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new sp(op.UNAVAILABLE,"Connection failed."));break;default:rp()}}finally{Zd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ud(),a=Vd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Hd({})),this.qi(o.initMessageHeaders,t,n),du()||mu()||hu().indexOf("Electron/")>=0||gu()||hu().indexOf("MSAppHost/")>=0||vu()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Zd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new lw({Vi:function(e){l?Zd("Connection","Not sending because WebChannel is closed:",e):(c||(Zd("Connection","Opening WebChannel transport."),u.open(),c=!0),Zd("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Kd.EventType.OPEN,(function(){l||Zd("Connection","WebChannel transport opened.")})),h(u,Kd.EventType.CLOSE,(function(){l||(l=!0,Zd("Connection","WebChannel transport closed"),f.Oi())})),h(u,Kd.EventType.ERROR,(function(e){l||(l=!0,tp("Connection","WebChannel transport errored:",e),f.Oi(new sp(op.UNAVAILABLE,"The operation could not be completed")))})),h(u,Kd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ip(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bm[e];if(void 0!==t)return Tm(t)}(a),s=i.message;void 0===o&&(o=op.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new sp(o,s)),u.close()}else Zd("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,qd.STAT_EVENT,(function(e){e.stat===Wd.PROXY?Zd("Connection","Detected buffering proxy"):e.stat===Wd.NOPROXY&&Zd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Mo(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Fo(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Zd("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Zd("RestConnection","Received: ",e),e}),(function(t){throw tp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=cw[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function hw(){return"undefined"!=typeof window?window:null}function dw(){return"undefined"!=typeof document?document:null}function pw(e){return new eg(e,!0)}var vw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Mo(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Fo(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Zd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),mw=function(){function e(t,n,r,i,a,o,s,u){Mo(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new vw(t,n)}return Fo(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===op.RESOURCE_EXHAUSTED?(ep(n.toString()),ep("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===op.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new sp(op.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Zd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Zd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),gw=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a,o,s){var u;return Mo(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Fo(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(ip(void 0===t||"string"==typeof t),Op.fromBase64String(t||"")):(ip(void 0===t||t instanceof Uint8Array),Op.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?op.UNKNOWN:Tm(e.code);return new sp(t,e.message||"")}(o);n=new Gm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ug(e,u.document.name),l=ig(u.document.updateTime),f=new av({mapValue:{fields:u.document.fields}}),h=sv.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Hm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ug(e,v.document),g=v.readTime?ig(v.readTime):Ip.min(),y=sv.newNoDocument(m,g),k=v.removedTargetIds||[];n=new Hm([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=ug(e,w.document),x=w.removedTargetIds||[];n=new Hm([],x,b,null)}else{if(!("filter"in t))return rp();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Sm(I),E=_.targetId;n=new Km(E,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Ip.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ip.min():t.readTime?ig(t.readTime):Ip.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=fg(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=hv(r)?{documents:yg(e,r)}:{query:kg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ng(e,t.resumeToken):t.snapshotVersion.compareTo(Ip.min())>0&&(n.readTime=tg(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=fg(this.k),t.removeTarget=e,this.gr(t)}}]),n}(mw),yw=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a,o,s){var u;return Mo(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Fo(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Oc(Co(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(ip(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(ip(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ig(e.updateTime):ig(t);return n.isEqual(Ip.min())&&(n=ig(t)),new sm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ig(e.commitTime);return this.listener.Cr(n,t)}return ip(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=fg(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mg(t.k,e)}))};this.gr(n)}}]),n}(mw),kw=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a){var o;return Mo(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Fo(n,[{key:"Or",value:function(){if(this.$r)throw new sp(op.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===op.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new sp(op.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===op.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new sp(op.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Fo((function e(){Mo(this,e)}))}()),ww=function(){function e(t,n){Mo(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Fo(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(ep(t),this.Lr=!1):Zd("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),bw=Fo((function e(t,n,r,i,a){var o=this;Mo(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Pw(o),!e.t0){e.next=5;break}return Zd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ap(t)).Gr.add(4),e.next=4,Iw(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,xw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new ww(r,i)}));function xw(e){return _w.apply(this,arguments)}function _w(){return _w=Du(Mu().mark((function e(t){var n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pw(t)){e.next=18;break}n=nu(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),_w.apply(this,arguments)}function Iw(e){return Sw.apply(this,arguments)}function Sw(){return Sw=Du(Mu().mark((function e(t){var n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nu(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Sw.apply(this,arguments)}function Ew(e,t){var n=ap(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Rw(n)?Nw(n):sb(n).lr()&&Cw(n,t))}function Tw(e,t){var n=ap(e),r=sb(n);n.Wr.delete(t),r.lr()&&Aw(n,t),0===n.Wr.size&&(r.lr()?r._r():Pw(n)&&n.Jr.set("Unknown"))}function Cw(e,t){e.Yr.X(t.targetId),sb(e).Pr(t)}function Aw(e,t){e.Yr.X(t),sb(e).vr(t)}function Nw(e){e.Yr=new $m({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),sb(e).start(),e.Jr.Br()}function Rw(e){return Pw(e)&&!sb(e).hr()&&e.Wr.size>0}function Pw(e){return 0===ap(e).Gr.size}function Ow(e){e.Yr=void 0}function Dw(e){return Lw.apply(this,arguments)}function Lw(){return Lw=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Cw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t){return jw.apply(this,arguments)}function jw(){return jw=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ow(t),Rw(t)?(t.Jr.Kr(n),Nw(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Fw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=Du(Mu().mark((function e(t,n,r){var i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Gm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=nu(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Hm?t.Yr.ot(n):n instanceof Km?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Ip.min())){e.next=29;break}return e.prev=14,e.next=17,Sk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Op.EMPTY_BYTE_STRING,n.snapshotVersion)),Aw(e,t);var r=new vy(n.target,t,1,n.sequenceNumber);Cw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Uw.apply(this,arguments)}function Vw(e,t,n){return zw.apply(this,arguments)}function zw(){return zw=Du(Mu().mark((function e(t,n,r){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oy(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Iw(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Sk(t.localStore)}),t.asyncQueue.enqueueRetryable(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,xw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Bw(e,t){return t().catch((function(n){return Vw(e,n,t)}))}function qw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=Du(Mu().mark((function e(t){var n,r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ap(t),r=ub(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Hw(n)){e.next=19;break}return e.prev=3,e.next=6,Ck(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Kw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vw(n,e.t0);case 17:e.next=2;break;case 19:Gw(n)&&Qw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ww.apply(this,arguments)}function Hw(e){return Pw(e)&&e.Qr.length<10}function Kw(e,t){e.Qr.push(t);var n=ub(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Gw(e){return Pw(e)&&!ub(e).hr()&&e.Qr.length>0}function Qw(e){ub(e).start()}function $w(e){return Yw.apply(this,arguments)}function Yw(){return Yw=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ub(t).kr();case 1:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e){return Xw.apply(this,arguments)}function Xw(){return Xw=Du(Mu().mark((function e(t){var n,r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ub(t),r=nu(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Zw(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=py.from(i,n,r),e.next=3,Bw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,qw(t);case 5:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ub(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Em(i=n.code)||i===op.ABORTED){e.next=7;break}return r=t.Qr.shift(),ub(t).wr(),e.next=5,Bw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,qw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gw(t)&&Qw(t);case 5:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ap(t)).asyncQueue.verifyOperationInProgress(),Zd("RemoteStore","RemoteStore received new credentials"),i=Pw(r),r.Gr.add(3),e.next=6,Iw(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,xw(r);case 12:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ap(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,xw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Iw(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function sb(e){return e.Xr||(e.Xr=function(e,t,n){var r=ap(e);return r.Or(),new gw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Dw.bind(null,e),Ni:Mw.bind(null,e),br:Fw.bind(null,e)}),e.zr.push(function(){var t=Du(Mu().mark((function t(n){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Rw(e)?Nw(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Ow(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function ub(e){return e.Zr||(e.Zr=function(e,t,n){var r=ap(e);return r.Or(),new yw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:$w.bind(null,e),Ni:tb.bind(null,e),Nr:Jw.bind(null,e),Cr:Zw.bind(null,e)}),e.zr.push(function(){var t=Du(Mu().mark((function t(n){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,qw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Zd("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var cb=function(){function e(t,n,r,i,a){Mo(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new up,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Fo(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sp(op.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lb(e,t){if(ep("AsyncQueue","".concat(t,": ").concat(e)),oy(e))return new sp(op.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fb=function(){function e(t){Mo(this,e),this.comparator=t?function(e,n){return t(e,n)||Wp.comparator(e.key,n.key)}:function(e,t){return Wp.comparator(e.key,t.key)},this.keyedMap=Mm(),this.sortedSet=new Cm(this.comparator)}return Fo(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),hb=function(){function e(){Mo(this,e),this.eo=new Cm(Wp.comparator)}return Fo(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):rp():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),db=function(){function e(t,n,r,i,a,o,s,u){Mo(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Fo(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,fb.emptySet(n),a,r,i,!0,!1)}}]),e}(),pb=Fo((function e(){Mo(this,e),this.so=void 0,this.listeners=[]})),vb=Fo((function e(){Mo(this,e),this.queries=new nk((function(e){return Vv(e)}),Uv),this.onlineState="Unknown",this.io=new Set}));function mb(e,t){return gb.apply(this,arguments)}function gb(){return gb=Du(Mu().mark((function e(t,n){var r,i,a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ap(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new pb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=lb(e.t0,"Initialization of query '".concat(zv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&xb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),gb.apply(this,arguments)}function yb(e,t){return kb.apply(this,arguments)}function kb(){return kb=Du(Mu().mark((function e(t,n){var r,i,a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ap(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function wb(e,t){var n,r=ap(e),i=!1,a=nu(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=nu(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&xb(r)}function bb(e,t,n){var r=ap(e),i=r.queries.get(t);if(i){var a,o=nu(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function xb(e){e.io.forEach((function(e){e.next()}))}var _b=function(){function e(t,n,r){Mo(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Fo(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=nu(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new db(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=db.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),Ib=function(){function e(t,n){Mo(this,e),this.payload=t,this.byteLength=n}return Fo(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Sb=function(){function e(t){Mo(this,e),this.k=t}return Fo(e,[{key:"Hn",value:function(e){return ug(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?pg(this.k,e.document,!1):sv.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return ig(e)}}]),e}(),Eb=function(){function e(t,n,r){Mo(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Tb(t)}return Fo(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Sb(this.k),i=nu(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=nu(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Vm()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jk(this.localStore,new Sb(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=nu(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Uk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new mk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Cb=Fo((function e(t){Mo(this,e),this.key=t})),Ab=Fo((function e(t){Mo(this,e),this.key=t})),Nb=function(){function e(t,n){Mo(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Vm(),this.mutatedKeys=Vm(),this.Ao=qv(t),this.Ro=new fb(this.Ao)}return Fo(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new hb,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Rv(this.query)&&i.size===this.query.limit?i.last():null,c=Pv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Rv(this.query)||Pv(this.query))for(;o.size>this.query.limit;){var l=Rv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rp()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new db(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new hb,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Vm(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Ab(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Cb(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Vm();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return db.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Rb=Fo((function e(t,n,r){Mo(this,e),this.query=t,this.targetId=n,this.view=r})),Pb=Fo((function e(t){Mo(this,e),this.key=t,this.$o=!1})),Ob=function(){function e(t,n,r,i,a,o){Mo(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new nk((function(e){return Vv(e)}),Uv),this.Fo=new Map,this.Lo=new Set,this.Bo=new Cm(Wp.comparator),this.Uo=new Map,this.qo=new Bk,this.Ko={},this.jo=new Map,this.Qo=qy.re(),this.onlineState="Unknown",this.Wo=void 0}return Fo(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Db(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tx(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Ak(r.localStore,jv(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Mb(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Ew(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t,n,r){return jb.apply(this,arguments)}function jb(){return jb=Du(Mu().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Du(Mu().mark((function e(t,n,r,i){var a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Pk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(rx(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Pk(t.localStore,n,!0);case 3:return a=e.sent,o=new Nb(n,a.zn),s=o.Po(a.documents),u=Wm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),rx(t,r,c.Co),l=new Rb(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Fb(e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ap(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Uv(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Tw(r.remoteStore,i.targetId),tx(r,i.targetId)})).catch(Qy);case 9:e.next=14;break;case 11:return tx(r,i.targetId),e.next=14,Nk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function Vb(e,t,n){return zb.apply(this,arguments)}function zb(){return zb=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cx(t),e.prev=1,e.next=4,function(e,t){var n,r=ap(e),i=_p.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Vm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=nu(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=dm(c,n.get(c.key));null!=l&&s.push(new gm(c.key,l,ov(l.value.mapValue),um.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Cm(wp)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ox(i,a.changes);case 9:return e.next=11,qw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=lb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),zb.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),e.prev=1,e.next=4,Ek(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(ip(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?ip(n.$o):e.removedDocuments.size>0&&(ip(n.$o),n.$o=!1))})),e.next=8,ox(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Qy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),qb.apply(this,arguments)}function Wb(e,t,n){var r=ap(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ap(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=nu(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xb(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Hb(e,t,n){return Kb.apply(this,arguments)}function Kb(){return Kb=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u,c;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ap(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Cm(Wp.comparator)).insert(o,sv.newNoDocument(o,Ip.min())),u=Vm().add(o),c=new qm(Ip.min(),new Map,new Rm(wp),s,u),e.next=9,Bb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),ax(i),e.next=16;break;case 14:return e.next=16,Nk(i.localStore,n,!1).then((function(){return tx(i,n,r)})).catch(Qy);case 16:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Gb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),i=n.batch.batchId,e.prev=1,e.next=4,Ik(r.localStore,n);case 4:return a=e.sent,ex(r,i,null),Zb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ox(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qb.apply(this,arguments)}function $b(e,t,n){return Yb.apply(this,arguments)}function Yb(){return Yb=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ap(t),e.prev=1,e.next=4,function(e,t){var n=ap(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return ip(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ex(i,n,r),Zb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ox(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yb.apply(this,arguments)}function Jb(e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pw((r=ap(t)).remoteStore)||Zd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ap(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=lb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Xb.apply(this,arguments)}function Zb(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function ex(e,t,n){var r=ap(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=nu(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||nx(e,t)}))}function nx(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Tw(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),ax(e))}function rx(e,t,n){var r,i=nu(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Cb?(e.qo.addReference(a.key,t),ix(e,a)):a instanceof Ab?(Zd("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||nx(e,a.key)):rp()}}catch(o){i.e(o)}finally{i.f()}}function ix(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Zd("SyncEngine","New document in limbo: "+n),e.Lo.add(r),ax(e))}function ax(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Wp(Ap.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Pb(n)),e.Bo=e.Bo.insert(n,r),Ew(e.remoteStore,new vy(jv(Nv(n.path)),r,2,gp.I))}}function ox(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=Du(Mu().mark((function e(t,n,r){var i,a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ap(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=yk.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ty.forEach(n,(function(t){return ty.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ty.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),oy(e.t0)){e.next=10;break}throw e.t0;case 10:Zd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=nu(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function ux(e,t){return cx.apply(this,arguments)}function cx(){return cx=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ap(t)).currentUser.isEqual(n)){e.next=11;break}return Zd("SyncEngine","User change. New user:",n.toKey()),e.next=5,xk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new sp(op.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ox(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(e,t){var n=ap(e),r=n.Uo.get(t);if(r&&r.$o)return Vm().add(r.key);var i=Vm(),a=n.Fo.get(t);if(!a)return i;var o,s=nu(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function fx(e,t){return hx.apply(this,arguments)}function hx(){return hx=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),e.next=3,Pk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&rx(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e){return px.apply(this,arguments)}function px(){return px=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap(t),e.abrupt("return",Dk(n.localStore).then((function(e){return ox(n,e)})));case 2:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t,n,r){return mx.apply(this,arguments)}function mx(){return mx=Du(Mu().mark((function e(t,n,r,i){var a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ap(t),e.next=3,function(e,t){var n=ap(e),r=ap(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):ty.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,qw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ex(a,n,i||null),Zb(a,n),function(e,t){ap(ap(e).An).ee(t)}(a.localStore,n)):rp();case 11:return e.next=13,ox(a,o);case 13:e.next=16;break;case 15:Zd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e,t){return yx.apply(this,arguments)}function yx(){return yx=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tx(r=ap(t)),Cx(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,kx(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,ab(r.remoteStore,!0);case 9:o=nu(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Ew(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return tx(r,t),Nk(r.localStore,t,!0)})),Tw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,kx(r,c);case 21:return function(e){var t=ap(e);t.Uo.forEach((function(e,n){Tw(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Cm(Wp.comparator)}(r),r.Wo=!1,e.next=25,ab(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function kx(e,t,n){return wx.apply(this,arguments)}function wx(){return wx=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ap(t),a=[],o=[],s=nu(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,Ak(i.localStore,jv(f[0]));case 11:l=e.sent,h=nu(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,fx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ok(i.localStore,c);case 36:return g=e.sent,e.next=39,Ak(i.localStore,g);case 39:return l=e.sent,e.next=42,Mb(i,bx(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),wx.apply(this,arguments)}function bx(e){return Av(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xx(e){var t=ap(e);return ap(ap(t.localStore).persistence).Tn()}function _x(e,t,n,r){return Ix.apply(this,arguments)}function Ix(){return Ix=Du(Mu().mark((function e(t,n,r,i){var a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ap(t)).Wo){e.next=5;break}Zd("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Dk(a.localStore);case 11:return o=e.sent,s=qm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,ox(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Nk(a.localStore,n,!0);case 18:return tx(a,n,i),e.abrupt("break",21);case 20:rp();case 21:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Sx(e,t,n){return Ex.apply(this,arguments)}function Ex(){return Ex=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Tx(t)).Wo){e.next=45;break}a=nu(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Zd("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ok(i.localStore,s);case 12:return u=e.sent,e.next=15,Ak(i.localStore,u);case 15:return c=e.sent,e.next=18,Mb(i,bx(u),c.targetId,!1);case 18:Ew(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=nu(r),e.prev=30,h=Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Nk(i.localStore,t,!1).then((function(){Tw(i.remoteStore,t),tx(i,t)})).catch(Qy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ex.apply(this,arguments)}function Tx(e){var t=ap(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hb.bind(null,t),t.Oo.br=wb.bind(null,t.eventManager),t.Oo.zo=bb.bind(null,t.eventManager),t}function Cx(e){var t=ap(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$b.bind(null,t),t}function Ax(e,t,n){var r=ap(e);(function(){var e=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ap(e),r=ig(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Tb(i)),a=new Eb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,ox(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=ap(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),tp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Nx=function(){function e(){Mo(this,e),this.synchronizeTabs=!1}return Fo(e,[{key:"initialize",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=pw(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return bk(this.persistence,new kk,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Qk(Yk.ks,this.k)}},{key:"Jo",value:function(e){return new ow}},{key:"terminate",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Rx=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Fo(n,[{key:"initialize",value:function(){var e=Du(Mu().mark((function e(t){var r=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(Co(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Lk(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,Cx(this.tc.syncEngine);case 8:return e.next=10,qw(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return bk(this.persistence,new kk,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Xy(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=vk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ly.withCacheSize(this.cacheSizeBytes):Ly.DEFAULT;return new hk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hw(),dw(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new ow}}]),n}(Nx),Px=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Fo(n,[{key:"initialize",value:function(){var e=Du(Mu().mark((function e(t){var r,i=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(Co(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof aw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:vx.bind(null,r),gi:_x.bind(null,r),yi:Sx.bind(null,r),Tn:xx.bind(null,r),_i:dx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gx(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=hw();if(!aw.Pt(t))throw new sp(op.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Rx),Ox=function(){function e(){Mo(this,e)}return Fo(e,[{key:"initialize",value:function(){var e=Du(Mu().mark((function e(t,n){var r=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Wb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ux.bind(null,this.syncEngine),e.next=12,ab(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vb}},{key:"createDatastore",value:function(e){var t,n=pw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new fw(t));return function(e,t,n,r){return new kw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Wb(o.syncEngine,e,0)},a=uw.Pt()?new uw:new sw,new bw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ob(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap(t),Zd("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Iw(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Dx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Du(Mu().mark((function r(){var i;return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Lx=function(){function e(t){Mo(this,e),this.observer=t,this.muted=!1}return Fo(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mx=function(){function e(t,n){var r=this;Mo(this,e),this.sc=t,this.k=n,this.metadata=new up,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Fo(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new Ib(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=Du(Mu().mark((function e(){var t,n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=Du(Mu().mark((function e(){var t,n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jx=function(){function e(t){Mo(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Fo(e,[{key:"lookup",value:function(){var e=Du(Mu().mark((function e(t){var n,r=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new sp(op.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),i=fg(r.k)+"/documents",a={documents:n.map((function(e){return sg(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=vg(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());ip(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _m(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Du(Mu().mark((function e(){var t,n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wp.fromPath(t);n.mutations.push(new Im(r,n.precondition(r)))})),e.next=7,function(){var e=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ap(t),i=fg(r.k)+"/documents",a={writes:n.map((function(e){return mg(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rp();t=Ip.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sp(op.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?um.updateTime(t):um.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ip.min()))throw new sp(op.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return um.updateTime(t)}return um.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Fx=function(){function e(t,n,r,i){Mo(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new vw(this.asyncQueue,"transaction_retry")}return Fo(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(Du(Mu().mark((function t(){var n,r;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new jx(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!zp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Em(t)}return!1}}]),e}(),Ux=function(){function e(t,n,r,i){var a=this;Mo(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$d.UNAUTHENTICATED,this.clientId=kp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Fo(e,[{key:"getConfiguration",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new sp(op.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new up;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Du(Mu().mark((function n(){var r;return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Vx(e,t){return zx.apply(this,arguments)}function zx(){return zx=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,xk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Wx(t);case 3:return r=e.sent,Zd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return rb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Wx(e){return Hx.apply(this,arguments)}function Hx(){return Hx=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Zd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Vx(t,new Nx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Zd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Bx(t,new Ox);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e){return Wx(e).then((function(e){return e.persistence}))}function $x(e){return Wx(e).then((function(e){return e.localStore}))}function Yx(e){return Kx(e).then((function(e){return e.remoteStore}))}function Jx(e){return Kx(e).then((function(e){return e.syncEngine}))}function Xx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Db.bind(null,n.syncEngine),r.onUnlisten=Fb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function i(){return Mu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lx({next:function(a){t.enqueueAndForget((function(){return yb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new sp(op.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new sp(op.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new _b(Nv(n.path),a,{includeMetadataChanges:!0,wo:!0});return mb(e,o)},i.next=3,Xx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function t_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function i(){return Mu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lx({next:function(n){t.enqueueAndForget((function(){return yb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new sp(op.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _b(n,a,{includeMetadataChanges:!0,wo:!0});return mb(e,o)},i.next=3,Xx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var n_=Fo((function e(t,n,r,i,a,o,s,u){Mo(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),r_=function(){function e(t,n){Mo(this,e),this.projectId=t,this.database=n||"(default)"}return Fo(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),i_=new Map;function a_(e,t,n){if(!n)throw new sp(op.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function o_(e,t,n,r){if(!0===t&&!0===r)throw new sp(op.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function s_(e){if(!Wp.isDocumentKey(e))throw new sp(op.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function u_(e){if(Wp.isDocumentKey(e))throw new sp(op.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function c_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rp()}function l_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sp(op.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=c_(e);throw new sp(op.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function f_(e,t){if(t<=0)throw new sp(op.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var h_=function(){function e(t){var n;if(Mo(this,e),void 0===t.host){if(void 0!==t.ssl)throw new sp(op.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sp(op.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,o_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Fo(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),d_=function(){function e(t,n,r){Mo(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,t instanceof r_?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sp(op.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r_(e.options.projectId)}(t))}return Fo(e,[{key:"app",get:function(){if(!this._app)throw new sp(op.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new sp(op.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lp;switch(e.type){case"gapi":var t=e.client;return ip(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new pp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new sp(op.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=i_.get(e);t&&(Zd("ComponentProvider","Removing Datastore"),i_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function p_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=l_(e,d_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&tp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=$d.MOCK_USER;else{o=fu(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new sp(op.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new $d(u)}e._authCredentials=new fp(new cp(o,s))}}var v_=function(){function e(t,n,r){Mo(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Fo(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new g_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),m_=function(){function e(t,n,r){Mo(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Fo(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),g_=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this,e,r,Nv(i)))._path=i,a.type="collection",a}return Fo(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new v_(this.firestore,null,new Wp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(m_);function y_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pu(e),a_("collection","path",t),e instanceof d_){var a=Ap.fromString.apply(Ap,[t].concat(r));return u_(a),new g_(e,null,a)}if(!(e instanceof v_||e instanceof g_))throw new sp(op.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ap.fromString.apply(Ap,[t].concat(r)));return u_(o),new g_(e.firestore,null,o)}function k_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pu(e),1===arguments.length&&(t=kp.A()),a_("doc","path",t),e instanceof d_){var a=Ap.fromString.apply(Ap,[t].concat(r));return s_(a),new v_(e,null,new Wp(a))}if(!(e instanceof v_||e instanceof g_))throw new sp(op.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ap.fromString.apply(Ap,[t].concat(r)));return s_(o),new v_(e.firestore,e instanceof g_?e.converter:null,new Wp(o))}function w_(e,t){return e=Pu(e),t=Pu(t),(e instanceof v_||e instanceof g_)&&(t instanceof v_||t instanceof g_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function b_(e,t){return e=Pu(e),t=Pu(t),e instanceof m_&&t instanceof m_&&e.firestore===t.firestore&&Uv(e._query,t._query)&&e.converter===t.converter}var x_=function(){function e(){var t=this;Mo(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new vw(this,"async_queue_retry"),this.bc=function(){var e=dw();e&&Zd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=dw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Fo(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=dw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new up;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Du(Mu().mark((function e(){var t=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),oy(e.t0)){e.next=12;break}throw e.t0;case 12:Zd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ep("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=cb.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&rp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=nu(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=nu(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function __(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=nu(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var I_=function(){function e(){Mo(this,e),this._progressObserver={},this._taskCompletionResolver=new up,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Fo(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),S_=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new x_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Fo(n,[{key:"_terminate",value:function(){return this._firestoreClient||T_(this),this._firestoreClient.terminate()}}]),n}(d_);function E_(e){return e._firestoreClient||T_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function T_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new n_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ux(e._authCredentials,e._appCheckCredentials,e._queue,r)}function C_(e,t,n){var r=new up;return e.asyncQueue.enqueue(Du(Mu().mark((function i(){return Mu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Vx(e,n);case 3:return i.next=5,Bx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===op.FAILED_PRECONDITION||e.code===op.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function A_(e){return function(e){return e.asyncQueue.enqueue(Du(Mu().mark((function t(){var n,r;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qx(e);case 2:return n=t.sent,t.next=5,Yx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ap(e);return t.Gr.delete(0),xw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(E_(e=l_(e,S_)))}function N_(e){return function(e){return e.asyncQueue.enqueue(Du(Mu().mark((function t(){var n,r;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qx(e);case 2:return n=t.sent,t.next=5,Yx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ap(t)).Gr.add(0),e.next=4,Iw(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(E_(e=l_(e,S_)))}function R_(e,t){var n=E_(e=l_(e,S_)),r=new I_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Mx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Dx(e,t);if(e instanceof ArrayBuffer)return Dx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,pw(t));e.asyncQueue.enqueueAndForget(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ax,t.next=3,Jx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function P_(e,t){return function(e,t){return e.asyncQueue.enqueue(Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ap(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,$x(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(E_(e=l_(e,S_)),t).then((function(t){return t?new m_(e,null,t.query):null}))}function O_(e){if(e._initialized||e._terminated)throw new sp(op.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var D_=function(){function e(){Mo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new sp(op.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rp(n)}return Fo(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var L_=function(){function e(t){Mo(this,e),this._byteString=t}return Fo(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Op.fromBase64String(t))}catch(t){throw new sp(op.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Op.fromUint8Array(t))}}]),e}(),M_=Fo((function e(t){Mo(this,e),this._methodName=t})),j_=function(){function e(t,n){if(Mo(this,e),!isFinite(t)||t<-90||t>90)throw new sp(op.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new sp(op.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Fo(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return wp(this._lat,e._lat)||wp(this._long,e._long)}}]),e}(),F_=/^__.*__$/,U_=function(){function e(t,n,r){Mo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fo(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gm(e,this.data,this.fieldMask,t,this.fieldTransforms):new mm(e,this.data,t,this.fieldTransforms)}}]),e}(),V_=function(){function e(t,n,r){Mo(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fo(e,[{key:"toMutation",value:function(e,t){return new gm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function z_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rp()}}var B_=function(){function e(t,n,r,i,a,o){Mo(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Fo(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return uI(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(z_(this.$c)&&F_.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),q_=function(){function e(t,n,r){Mo(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||pw(t)}return Fo(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new B_({$c:e,methodName:t,jc:n,path:Rp.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function W_(e){var t=e._freezeSettings(),n=pw(e._databaseId);return new q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function H_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);iI("Data must be an object, but it was:",o,r);var s,u,c=nI(r,o);if(a.merge)s=new Pp(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=nu(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=aI(t,d,n);if(!o.contains(p))throw new sp(op.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));cI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Pp(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new U_(new av(c),s,u)}var K_=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(M_);function G_(e,t,n){return new B_({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Q_=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"_toFieldTransform",value:function(e){return new om(e.path,new Xv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(M_),$_=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e)).Wc=r,i}return Fo(n,[{key:"_toFieldTransform",value:function(e){var t=G_(this,e,!0),n=this.Wc.map((function(e){return tI(e,t)})),r=new Zv(n);return new om(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_),Y_=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e)).Wc=r,i}return Fo(n,[{key:"_toFieldTransform",value:function(e){var t=G_(this,e,!0),n=this.Wc.map((function(e){return tI(e,t)})),r=new tm(n);return new om(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_),J_=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e)).Gc=r,i}return Fo(n,[{key:"_toFieldTransform",value:function(e){var t=new rm(e.k,Gv(e.k,this.Gc));return new om(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_);function X_(e,t,n,r){var i=e.Qc(1,t,n);iI("Data must be an object, but it was:",i,r);var a=[],o=av.empty();Ep(r,(function(e,r){var s=sI(t,e,n);r=Pu(r);var u=i.Bc(s);if(r instanceof K_)a.push(s);else{var c=tI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Pp(a);return new V_(o,s,i.fieldTransforms)}function Z_(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[aI(t,r,n)],u=[i];if(a.length%2!=0)throw new sp(op.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(aI(t,a[c])),u.push(a[c+1]);for(var l=[],f=av.empty(),h=s.length-1;h>=0;--h)if(!cI(l,s[h])){var d=s[h],p=u[h];p=Pu(p);var v=o.Bc(d);if(p instanceof K_)l.push(d);else{var m=tI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Pp(l);return new V_(f,g,o.fieldTransforms)}function eI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tI(n,e.Qc(r?4:3,t))}function tI(e,t){if(rI(e=Pu(e)))return iI("Unsupported field value:",t,e),nI(e,t);if(e instanceof M_)return function(e,t){if(!z_(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=nu(e);try{for(a.s();!(n=a.n()).done;){var o=tI(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Pu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gv(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_p.fromDate(e);return{timestampValue:tg(t.k,n)}}if(e instanceof _p){var r=new _p(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tg(t.k,r)}}if(e instanceof j_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof L_)return{bytesValue:ng(t.k,e._byteString)};if(e instanceof v_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ag(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(c_(e)))}(e,t)}function nI(e,t){var n={};return Tp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ep(e,(function(e,r){var i=tI(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _p||e instanceof j_||e instanceof L_||e instanceof v_||e instanceof M_)}function iI(e,t,n){if(!rI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=c_(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function aI(e,t,n){if((t=Pu(t))instanceof D_)return t._internalPath;if("string"==typeof t)return sI(e,t);throw uI("Field path arguments must be of type string or ",e,!1,void 0,n)}var oI=new RegExp("[~\\*/\\[\\]]");function sI(e,t,n){if(t.search(oI)>=0)throw uI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ru(D_,Lo(t.split(".")))._internalPath}catch(r){throw uI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new sp(op.INVALID_ARGUMENT,s+e+u)}function cI(e,t){return e.some((function(e){return e.isEqual(t)}))}var lI=function(){function e(t,n,r,i,a){Mo(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Fo(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new v_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fI=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"data",value:function(){return Oc(Co(n.prototype),"data",this).call(this)}}]),n}(lI);function hI(e,t){return"string"==typeof t?sI(e,t):t instanceof D_?t._internalPath:t._delegate._internalPath}var dI=function(){function e(t,n){Mo(this,e),this.hasPendingWrites=t,this.fromCache=n}return Fo(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pI=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a,o,s){var u;return Mo(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Fo(n,[{key:"exists",value:function(){return Oc(Co(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lI),vI=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oc(Co(n.prototype),"data",this).call(this,e)}}]),n}(pI),mI=function(){function e(t,n,r,i){Mo(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dI(i.hasPendingWrites,i.fromCache),this.query=r}return Fo(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vI(n._firestore,n._userDataWriter,r.key,r,new dI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sp(op.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function gI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rp()}}function yI(e,t){return e instanceof pI&&t instanceof pI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mI&&t instanceof mI&&e._firestore===t._firestore&&b_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function kI(e){if(Pv(e)&&0===e.explicitOrderBy.length)throw new sp(op.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wI=Fo((function e(){Mo(this,e)}));function bI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xI=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Fo(n,[{key:"_apply",value:function(e){var t=W_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new sp(op.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){OI(o,a);var u,c=[],l=nu(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(PI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=PI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||OI(o,a),s=eI(n,"where",o,"in"===a||"not-in"===a);var h=dv.create(i,a,s);return function(e,t){if(t.V()){var n=Dv(e);if(null!==n&&!n.isEqual(t.field))throw new sp(op.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ov(e);null!==r&&DI(e,t.field,r)}var i=function(e,t){var n,r=nu(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new sp(op.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sp(op.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new m_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(wI);var _I=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Fo(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new sp(op.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sp(op.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Iv(t,n);return function(e,t){if(null===Ov(e)){var n=Dv(e);null!==n&&DI(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new m_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(wI);var II=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Fo(n,[{key:"_apply",value:function(e){return new m_(e.firestore,e.converter,Fv(e._query,this.Xc,this.Zc))}}]),n}(wI);var SI=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Fo(n,[{key:"_apply",value:function(e){var t=RI(e,this.type,this.ta,this.ea);return new m_(e.firestore,e.converter,function(e,t){return new Cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(wI);function EI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SI("startAt",t,!0)}function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new SI("startAfter",t,!1)}var CI=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a;return Mo(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Fo(n,[{key:"_apply",value:function(e){var t=RI(e,this.type,this.ta,this.ea);return new m_(e.firestore,e.converter,function(e,t){return new Cv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(wI);function AI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CI("endBefore",t,!0)}function NI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CI("endAt",t,!1)}function RI(e,t,n,r){if(n[0]=Pu(n[0]),n[0]instanceof lI)return function(e,t,n,r,i){if(!r)throw new sp(op.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=nu(Mv(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Xp(t,r.key));else{var c=r.data.field(u.field);if(Fp(c))throw new sp(op.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sp(op.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new xv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=W_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new sp(op.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new sp(op.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Lv(e)&&-1!==c.indexOf("/"))throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ap.fromString(c));if(!Wp.isDocumentKey(l))throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wp(l);s.push(Xp(t,f))}else{var h=eI(n,r,c);s.push(h)}}return new xv(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function PI(e,t,n){if("string"==typeof(n=Pu(n))){if(""===n)throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(t)&&-1!==n.indexOf("/"))throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ap.fromString(n));if(!Wp.isDocumentKey(r))throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xp(e,new Wp(r))}if(n instanceof v_)return Xp(e,n._key);throw new sp(op.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(c_(n),"."))}function OI(e,t){if(!Array.isArray(e)||0===e.length)throw new sp(op.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new sp(op.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function DI(e,t,n){if(!n.isEqual(t))throw new sp(op.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LI=function(){function e(){Mo(this,e)}return Fo(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ep(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new j_(Mp(e.latitude),Mp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Up(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Lp(e);return new _p(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ap.fromString(e);ip(Rg(n));var r=new r_(n.get(1),n.get(3)),i=new Wp(n.popFirst(5));return r.isEqual(t)||ep("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function MI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jI=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).firestore=e,r}return Fo(n,[{key:"convertBytes",value:function(e){return new L_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new v_(this.firestore,null,t)}}]),n}(LI),FI=function(){function e(t,n){Mo(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=W_(t)}return Fo(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=UI(e,this._firestore),i=MI(r.converter,t,n),a=H_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,um.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=UI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Pu(t))||t instanceof D_?Z_(this._dataReader,"WriteBatch.update",i._key,t,n,o):X_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,um.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=UI(e,this._firestore);return this._mutations=this._mutations.concat(new _m(t._key,um.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new sp(op.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function UI(e,t){if((e=Pu(e)).firestore!==t)throw new sp(op.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var VI=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).firestore=e,r}return Fo(n,[{key:"convertBytes",value:function(e){return new L_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new v_(this.firestore,null,t)}}]),n}(LI);function zI(e){e=l_(e,v_);var t=l_(e.firestore,S_),n=E_(t),r=new VI(t);return function(e,t){var n=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function r(){return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ap(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new sp(op.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=lb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pI(t,r,e._key,n,new dI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function BI(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=E_(t),r=new VI(t);return function(e,t){var n=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function r(){return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pk(t,n,!0);case 3:i=e.sent,a=new Nb(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=lb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mI(t,r,e,n)}))}function qI(e,t,n){e=l_(e,v_);var r=l_(e.firestore,S_),i=MI(e.converter,t,n);return GI(r,[H_(W_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,um.none())])}function WI(e,t,n){e=l_(e,v_);for(var r=l_(e.firestore,S_),i=W_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return GI(r,[("string"==typeof(t=Pu(t))||t instanceof D_?Z_(i,"updateDoc",e._key,t,n,o):X_(i,"updateDoc",e._key,t)).toMutation(e._key,um.exists(!0))])}function HI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Pu(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||__(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(__(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof v_)l=l_(e.firestore,S_),f=Nv(e._key.path),c={next:function(t){n[u]&&n[u](QI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=l_(e,m_);l=l_(p.firestore,S_),f=p._query;var v=new VI(l);c={next:function(e){n[u]&&n[u](new mI(l,v,p,e))},error:n[u+1],complete:n[u+2]},kI(e._query)}return function(e,t,n,r){var i=new Lx(r),a=new _b(t,i,n);return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mb,t.next=3,Xx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yb,t.next=3,Xx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(E_(l),f,h,c)}function KI(e,t){return function(e,t){var n=new Lx(t);return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ap(e).io.add(t),t.next()},t.next=3,Xx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ap(e).io.delete(t)},t.next=3,Xx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(E_(e=l_(e,S_)),__(t)?t:{next:t})}function GI(e,t){return function(e,t){var n=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function r(){return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Vb,r.next=3,Jx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(E_(e),t)}function QI(e,t,n){var r=n.docs.get(t._key),i=new VI(e);return new pI(e,i,t._key,r,new dI(n.hasPendingWrites,n.fromCache),t.converter)}var $I=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,r))._firestore=e,i}return Fo(n,[{key:"get",value:function(e){var t=this,r=UI(e,this._firestore),i=new VI(this._firestore);return Oc(Co(n.prototype),"get",this).call(this,e).then((function(e){return new pI(t._firestore,i,r._key,e._document,new dI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Mo(this,e),this._firestore=t,this._transaction=n,this._dataReader=W_(t)}return Fo(e,[{key:"get",value:function(e){var t=this,n=UI(e,this._firestore),r=new jI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rp();var i=e[0];if(i.isFoundDocument())return new lI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lI(t._firestore,r,n._key,null,n.converter);throw rp()}))}},{key:"set",value:function(e,t,n){var r=UI(e,this._firestore),i=MI(r.converter,t,n),a=H_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=UI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Pu(t))||t instanceof D_?Z_(this._dataReader,"Transaction.update",i._key,t,n,o):X_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=UI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function YI(e,t){return function(e,t){var n=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function r(){var i;return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Kx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Fx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(E_(e=l_(e,S_)),(function(n){return t(new $I(e,n))}))}function JI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $_("arrayUnion",t)}function XI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Y_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yd=e}(mc),sc(new ju("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new S_(i,new hp(e.getProvider("auth-internal")),new mp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),xc(Qd,"3.4.4",e),xc(Qd,"3.4.4","esm2017")}();function ZI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function eS(){if("undefined"===typeof Uint8Array)throw new sp("unimplemented","Uint8Arrays are not available in this environment.")}function tS(){if("undefined"==typeof atob)throw new sp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nS=function(){function e(t){Mo(this,e),this._delegate=t}return Fo(e,[{key:"toBase64",value:function(){return tS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tS(),new e(L_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eS(),new e(L_.fromUint8Array(t))}}]),e}();function rS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=nu(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var iS=function(){function e(){Mo(this,e)}return Fo(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){O_(e=l_(e,S_));var n=E_(e),r=e._freezeSettings(),i=new Ox;return C_(n,i,new Rx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){O_(e=l_(e,S_));var t=E_(e),n=e._freezeSettings(),r=new Ox;return C_(t,r,new Px(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new sp(op.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new up;return e._queue.enqueueAndForgetEvenWhileRestricted(Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ry.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ry.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(vk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),aS=function(){function e(t,n,r){var i=this;Mo(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof r_||(this._appCompat=t)}return Fo(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||tp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return A_(this._delegate)}},{key:"disableNetwork",value:function(){return N_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&o_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new up;return e.asyncQueue.enqueueAndForget(Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Jb,n.next=3,Jx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(E_(e=l_(e,S_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return KI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new sp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new kS(this,y_(this._delegate,e))}catch(t){throw fS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lS(this,k_(this._delegate,e))}catch(t){throw fS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mS(this,function(e,t){if(e=l_(e,d_),a_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sp(op.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new m_(e,null,function(e){return new Cv(Ap.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return YI(this._delegate,(function(n){return e(new sS(t,n))}))}},{key:"batch",value:function(){var e=this;return E_(this._delegate),new uS(new FI(this._delegate,(function(t){return GI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return R_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return P_(this._delegate,e).then((function(e){return e?new mS(t,e):null}))}}]),e}(),oS=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this)).firestore=e,r}return Fo(n,[{key:"convertBytes",value:function(e){return new nS(new L_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lS.forKey(t,this.firestore,null)}}]),n}(LI);var sS=function(){function e(t,n){Mo(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new oS(t)}return Fo(e,[{key:"get",value:function(e){var t=this,n=wS(e);return this._delegate.get(n).then((function(e){return new pS(t._firestore,new pI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=wS(e);return n?(ZI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=wS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wS(e);return this._delegate.delete(t),this}}]),e}(),uS=function(){function e(t){Mo(this,e),this._delegate=t}return Fo(e,[{key:"set",value:function(e,t,n){var r=wS(e);return n?(ZI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=wS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cS=function(){function e(t,n,r){Mo(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Fo(e,[{key:"fromFirestore",value:function(e,t){var n=new vI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new oS(t),n),i.set(n,a)),a}}]),e}();cS.INSTANCES=new WeakMap;var lS=function(){function e(t,n){Mo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oS(t)}return Fo(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new kS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new kS(this.firestore,y_(this._delegate,e))}catch(t){throw fS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Pu(e))instanceof v_&&w_(this._delegate,e)}},{key:"set",value:function(e,t){t=ZI("DocumentReference.set",t);try{return t?qI(this._delegate,e,t):qI(this._delegate,e)}catch(n){throw fS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?WI(this._delegate,e):WI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw fS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return GI(l_(e.firestore,S_),[new _m(e._key,um.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hS(n),a=dS(n,(function(t){return new pS(e.firestore,new pI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=l_(e,v_);var t=l_(e.firestore,S_);return e_(E_(t),e._key,{source:"server"}).then((function(n){return QI(t,e,n)}))}(this._delegate):function(e){e=l_(e,v_);var t=l_(e.firestore,S_);return e_(E_(t),e._key).then((function(n){return QI(t,e,n)}))}(this._delegate),t.then((function(e){return new pS(n.firestore,new pI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new sp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new v_(n._delegate,r,new Wp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new v_(n._delegate,r,t))}}]),e}();function fS(e,t,n){return e.message=e.message.replace(t,n),e}function hS(e){var t,n=nu(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function dS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rS(e[0])?e[0]:rS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pS=function(){function e(t,n){Mo(this,e),this._firestore=t,this._delegate=n}return Fo(e,[{key:"ref",get:function(){return new lS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yI(this._delegate,e._delegate)}}]),e}(),vS=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||rp()}(void 0!==t),t}}]),n}(pS),mS=function(){function e(t,n){Mo(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oS(t)}return Fo(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,bI(this._delegate,function(e,t,n){var r=t,i=hI("where",e);return new xI(i,r,n)}(t,n,r)))}catch(i){throw fS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,bI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hI("orderBy",e);return new _I(n,t)}(t,n)))}catch(r){throw fS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,bI(this._delegate,function(e){return f_("limit",e),new II("limit",e,"F")}(t)))}catch(n){throw fS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,bI(this._delegate,function(e){return f_("limitToLast",e),new II("limitToLast",e,"L")}(t)))}catch(n){throw fS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,bI(this._delegate,EI.apply(void 0,arguments)))}catch(t){throw fS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,bI(this._delegate,TI.apply(void 0,arguments)))}catch(t){throw fS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,bI(this._delegate,AI.apply(void 0,arguments)))}catch(t){throw fS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,bI(this._delegate,NI.apply(void 0,arguments)))}catch(t){throw fS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return b_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?BI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=E_(t),r=new VI(t);return t_(n,e._query,{source:"server"}).then((function(n){return new mI(t,r,e,n)}))}(this._delegate):function(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=E_(t),r=new VI(t);return kI(e._query),t_(n,e._query).then((function(n){return new mI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new yS(n.firestore,new mI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hS(n),a=dS(n,(function(t){return new yS(e.firestore,new mI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),gS=function(){function e(t,n){Mo(this,e),this._firestore=t,this._delegate=n}return Fo(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yS=function(){function e(t,n){Mo(this,e),this._firestore=t,this._delegate=n}return Fo(e,[{key:"query",get:function(){return new mS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new gS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yI(this._delegate,e._delegate)}}]),e}(),kS=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Fo(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lS(this.firestore,void 0===e?k_(this._delegate):k_(this._delegate,e))}catch(t){throw fS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=l_(e.firestore,S_),r=k_(e),i=MI(e.converter,t);return GI(n,[H_(W_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,um.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return w_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mS);function wS(e){return l_(e,v_)}var bS,xS=function(){function e(){Mo(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ru(D_,n)}return Fo(e,[{key:"isEqual",value:function(e){return(e=Pu(e))instanceof D_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Rp.keyField().canonicalString())}}]),e}(),_S=function(){function e(t){Mo(this,e),this._delegate=t}return Fo(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Q_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new K_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=JI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=XI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new J_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),IS={Firestore:aS,GeoPoint:j_,Timestamp:_p,Blob:nS,Transaction:sS,WriteBatch:uS,DocumentReference:lS,DocumentSnapshot:pS,Query:mS,QueryDocumentSnapshot:vS,QuerySnapshot:yS,CollectionReference:kS,FieldPath:xS,FieldValue:_S,setLogLevel:function(e){!function(e){Jd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ju("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},IS)))})(bS=Rc,(function(e,t){return new aS(e,t,new iS)})),bS.registerVersion("@firebase/firestore-compat","0.1.13");function SS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ES;Object.create;var TS="facebook.com",CS="github.com",AS="google.com",NS="password",RS="twitter.com",PS="EMAIL_SIGNIN",OS="PASSWORD_RESET",DS="RECOVER_EMAIL",LS="REVERT_SECOND_FACTOR_ADDITION",MS="VERIFY_AND_CHANGE_EMAIL",jS="VERIFY_EMAIL";function FS(){return ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var US=function(){var e;return ie(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ie(e,"argument-error",""),ie(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ie(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ie(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ie(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ie(e,"cordova-not-ready","Cordova framework is not ready."),ie(e,"cors-unsupported","This browser is not supported."),ie(e,"credential-already-in-use","This credential is already associated with a different user account."),ie(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ie(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ie(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ie(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ie(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ie(e,"email-already-in-use","The email address is already in use by another account."),ie(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ie(e,"expired-action-code","The action code has expired."),ie(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ie(e,"internal-error","An internal AuthError has occurred."),ie(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ie(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ie(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ie(e,"invalid-auth-event","An internal AuthError has occurred."),ie(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ie(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ie(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ie(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ie(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ie(e,"invalid-email","The email address is badly formatted."),ie(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ie(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ie(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ie(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ie(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ie(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ie(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ie(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ie(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ie(e,"wrong-password","The password is invalid or the user does not have a password."),ie(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ie(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ie(e,"invalid-provider-id","The specified provider ID is invalid."),ie(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ie(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ie(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ie(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ie(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ie(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ie(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ie(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ie(e,"missing-continue-uri","A continue URL must be provided in the request."),ie(e,"missing-iframe-start","An internal AuthError has occurred."),ie(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ie(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ie(e,"missing-multi-factor-info","No second factor identifier is provided."),ie(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ie(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ie(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ie(e,"app-deleted","This instance of FirebaseApp has been deleted."),ie(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ie(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ie(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ie(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ie(e,"no-auth-event","An internal AuthError has occurred."),ie(e,"no-such-provider","User was not linked to an account with the given provider."),ie(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ie(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ie(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ie(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ie(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ie(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ie(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ie(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ie(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ie(e,"rejected-credential","The request contains malformed or mismatching credentials."),ie(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ie(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ie(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ie(e,"timeout","The operation has timed out."),ie(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ie(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ie(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ie(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ie(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ie(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ie(e,"unverified-email","The operation requires a verified email."),ie(e,"user-cancelled","The user did not grant your application the permissions it requested."),ie(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ie(e,"user-disabled","The user account has been disabled by an administrator."),ie(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ie(e,"user-signed-out",""),ie(e,"weak-password","The password must be 6 characters long or more."),ie(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ie(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},VS=FS,zS=new wu("auth","Firebase",FS()),BS=new Yu("@firebase/auth");function qS(e){if(BS.logLevel<=zu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];BS.error.apply(BS,["Auth (".concat(mc,"): ").concat(e)].concat(n))}}function WS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw QS.apply(void 0,[e].concat(n))}function HS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return QS.apply(void 0,[e].concat(n))}function KS(e,t,n){var r=Object.assign(Object.assign({},VS()),ie({},t,n));return new wu("auth","Firebase",r).create(t,{appName:e.name})}function GS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&WS(e,"argument-error"),KS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function QS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Lo(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Lo(o)))}return zS.create.apply(zS,[e].concat(n))}function $S(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw QS.apply(void 0,[t].concat(r))}}function YS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw qS(t),new Error(t)}function JS(e,t){e||YS(t)}var XS=new Map;function ZS(e){JS(e instanceof Function,"Expected a class definition");var t=XS.get(e);return t?(JS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,XS.set(e,t),t)}function eE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tE(){return"http:"===nE()||"https:"===nE()}function nE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rE=function(){function e(t,n){Mo(this,e),this.shortDelay=t,this.longDelay=n,JS(n>t,"Short delay should be less than long delay!"),this.isMobile=du()||mu()}return Fo(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tE()||vu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function iE(e,t){JS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var aE=function(){function e(){Mo(this,e)}return Fo(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void YS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void YS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void YS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),oE=(ie(ES={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ie(ES,"MISSING_CUSTOM_TOKEN","internal-error"),ie(ES,"INVALID_IDENTIFIER","invalid-email"),ie(ES,"MISSING_CONTINUE_URI","internal-error"),ie(ES,"INVALID_PASSWORD","wrong-password"),ie(ES,"MISSING_PASSWORD","internal-error"),ie(ES,"EMAIL_EXISTS","email-already-in-use"),ie(ES,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ie(ES,"INVALID_IDP_RESPONSE","invalid-credential"),ie(ES,"INVALID_PENDING_TOKEN","invalid-credential"),ie(ES,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ie(ES,"MISSING_REQ_TYPE","internal-error"),ie(ES,"EMAIL_NOT_FOUND","user-not-found"),ie(ES,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ie(ES,"EXPIRED_OOB_CODE","expired-action-code"),ie(ES,"INVALID_OOB_CODE","invalid-action-code"),ie(ES,"MISSING_OOB_CODE","internal-error"),ie(ES,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ie(ES,"INVALID_ID_TOKEN","invalid-user-token"),ie(ES,"TOKEN_EXPIRED","user-token-expired"),ie(ES,"USER_NOT_FOUND","user-token-expired"),ie(ES,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ie(ES,"INVALID_CODE","invalid-verification-code"),ie(ES,"INVALID_SESSION_INFO","invalid-verification-id"),ie(ES,"INVALID_TEMPORARY_PROOF","invalid-credential"),ie(ES,"MISSING_SESSION_INFO","missing-verification-id"),ie(ES,"SESSION_EXPIRED","code-expired"),ie(ES,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ie(ES,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ie(ES,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ie(ES,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ie(ES,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ie(ES,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ie(ES,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ie(ES,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ie(ES,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ie(ES,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ie(ES,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ES),sE=new rE(3e4,6e4);function uE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function cE(e,t,n,r){return lE.apply(this,arguments)}function lE(){return lE=Du(Mu().mark((function e(t,n,r,i){var a,o=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",fE(t,a,Du(Mu().mark((function e(){var a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Eu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",aE.fetch()(vE(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t,n){return hE.apply(this,arguments)}function hE(){return(hE=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},oE),n),e.prev=2,a=new mE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw gE(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw gE(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw gE(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw KS(t,p,d);case 30:WS(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ku)){e.next=37;break}throw e.t0;case 37:WS(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function dE(e,t,n,r){return pE.apply(this,arguments)}function pE(){return pE=Du(Mu().mark((function e(t,n,r,i){var a,o,s=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,cE(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&WS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?iE(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var mE=function(){function e(t){var n=this;Mo(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(HS(n.auth,"network-request-failed"))}),sE.get())}))}return Fo(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function gE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=HS(e,t,r);return i.customData._tokenResponse=n,i}function yE(e,t){return kE.apply(this,arguments)}function kE(){return(kE=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wE(e,t){return bE.apply(this,arguments)}function bE(){return(bE=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xE(e,t){return _E.apply(this,arguments)}function _E(){return(_E=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IE(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function SE(){return SE=Du(Mu().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Pu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,$S((a=TE(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:IE(EE(a.auth_time)),issuedAtTime:IE(EE(a.iat)),expirationTime:IE(EE(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e){return 1e3*Number(e)}function TE(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return qS("JWT malformed, contained fewer than 3 sections"),null;try{var a=uu(r);return a?JSON.parse(a):(qS("Failed to decode base64 JWT payload"),null)}catch(o){return qS("Caught error parsing JWT payload as JSON",o),null}}function CE(e,t){return AE.apply(this,arguments)}function AE(){return AE=Du(Mu().mark((function e(t,n){var r=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ku&&NE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),AE.apply(this,arguments)}function NE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var RE=function(){function e(t){Mo(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Fo(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),PE=function(){function e(t,n){Mo(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Fo(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=IE(this.lastLoginAt),this.creationTime=IE(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function OE(e){return DE.apply(this,arguments)}function DE(){return DE=Du(Mu().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,CE(t,xE(r,{idToken:i}));case 6:$S(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?jE(o.providerUserInfo):[],u=ME(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new PE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(){return(LE=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pu(t),e.next=3,OE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ME(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Lo(n),Lo(t))}function jE(e){return e.map((function(e){var t=e.providerId,n=SS(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function FE(e,t){return UE.apply(this,arguments)}function UE(){return(UE=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fE(t,{},Du(Mu().mark((function e(){var r,i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=vE(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",aE.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VE=function(){function e(){Mo(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Fo(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){$S(e.idToken,"internal-error"),$S("undefined"!==typeof e.idToken,"internal-error"),$S("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=TE(e);return $S(t,"internal-error"),$S("undefined"!==typeof t.exp,"internal-error"),$S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Du(Mu().mark((function e(t){var n,r=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],$S(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return YS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&($S("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&($S("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&($S("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zE(e,t){$S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var BE=function(){function e(t){Mo(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=SS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Lo(a.providerData):[],this.metadata=new PE(a.createdAt||void 0,a.lastLoginAt||void 0)}return Fo(e,[{key:"getIdToken",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if($S(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return SE.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return LE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&($S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){$S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Du(Mu().mark((function e(t){var n,r,i=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,OE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,CE(this,yE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;$S(k&&_,t,"internal-error");var I=VE.fromJSON(this.name,_);$S("string"===typeof k,t,"internal-error"),zE(f,t.name),zE(h,t.name),$S("boolean"===typeof w,t,"internal-error"),$S("boolean"===typeof b,t,"internal-error"),zE(d,t.name),zE(p,t.name),zE(v,t.name),zE(m,t.name),zE(g,t.name),zE(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Du(Mu().mark((function t(n,r){var i,a,o,s=arguments;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new VE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,OE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qE=function(){function e(){Mo(this,e),this.type="NONE",this.storage={}}return Fo(e,[{key:"_isAvailable",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qE.type="NONE";var WE=qE;function HE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var KE=function(){function e(t,n,r){Mo(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=HE(this.userKey,a.apiKey,o),this.fullPersistenceKey=HE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Fo(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?BE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Du(Mu().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ZS(WE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ZS(WE),s=HE(i,n.config.apiKey,n.name),u=null,c=nu(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=BE._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function GE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZE(t))return"Blackberry";if(eT(t))return"Webos";if($E(t))return"Safari";if((t.includes("chrome/")||YE(t))&&!t.includes("edge/"))return"Chrome";if(XE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function QE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/firefox\//i.test(e)}function $E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/crios\//i.test(e)}function JE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/iemobile/i.test(e)}function XE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/android/i.test(e)}function ZE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/blackberry/i.test(e)}function eT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/webos/i.test(e)}function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/iphone|ipad|ipod/i.test(e)}function nT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return tT(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function rT(){return gu()&&10===document.documentMode}function iT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return tT(e)||XE(e)||eT(e)||ZE(e)||/windows phone/i.test(e)||JE(e)}function aT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=GE(hu());break;case"Worker":t="".concat(GE(hu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mc,"/").concat(r)}var oT=function(){function e(t,n){Mo(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Fo(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ZS(t)),this._initializationPromise=this.queue(Du(Mu().mark((function r(){var i,a;return Mu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,KE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Du(Mu().mark((function e(t){var n,r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return $S(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,OE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Pu(t):null)&&$S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Du(Mu().mark((function e(t){var n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&$S(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ZS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new wu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return $S(n=t&&ZS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,KE.create(this,[ZS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Du(Mu().mark((function e(t){var n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $S(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return $S(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sT(e){return Pu(e)}var uT=function(){function e(t){var n=this;Mo(this,e),this.auth=t,this.observer=null,this.addObserver=Au((function(e){return n.observer=e}))}return Fo(e,[{key:"next",get:function(){return $S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function cT(e,t,n){var r=sT(e);$S(r._canInitEmulator,r,"emulator-config-failed"),$S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=lT(t),o=function(e){var t=lT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:fT(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:fT(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fT(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var hT=function(){function e(t,n){Mo(this,e),this.providerId=t,this.signInMethod=n}return Fo(e,[{key:"toJSON",value:function(){return YS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return YS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return YS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return YS("not implemented")}}]),e}();function dT(e,t){return pT.apply(this,arguments)}function pT(){return(pT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:resetPassword",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return(mT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gT(e,t){return yT.apply(this,arguments)}function yT(){return(yT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:update",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e,t){return wT.apply(this,arguments)}function wT(){return(wT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithPassword",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(e,t){return xT.apply(this,arguments)}function xT(){return(xT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:sendOobCode",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return IT.apply(this,arguments)}function IT(){return(IT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ST(e,t){return ET.apply(this,arguments)}function ET(){return(ET=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TT(e,t){return CT.apply(this,arguments)}function CT(){return(CT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RT(e,t){return PT.apply(this,arguments)}function PT(){return(PT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithEmailLink",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OT(e,t){return DT.apply(this,arguments)}function DT(){return(DT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithEmailLink",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LT=function(e){To(n,e);var t=Oo(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Mo(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Fo(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",kT(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",RT(t,{email:this._email,oobCode:this._password}));case 5:WS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vT(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",OT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:WS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(hT);function MT(e,t){return jT.apply(this,arguments)}function jT(){return(jT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithIdp",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FT=function(e){To(n,e);var t=Oo(n);function n(){var e;return Mo(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Fo(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return MT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,MT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,MT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):WS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=SS(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(hT);function UT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:sendVerificationCode",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zT(){return(zT=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithPhoneNumber",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BT(){return(BT=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dE(t,"POST","/v1/accounts:signInWithPhoneNumber",uE(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw gE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qT=ie({},"USER_NOT_FOUND","user-not-found");function WT(){return(WT=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithPhoneNumber",uE(t,r),qT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HT=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Fo(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return zT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return BT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return WT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(hT);var KT=function(){function e(t){var n,r,i,a,o,s;Mo(this,e);var u=Tu(Cu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);$S(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Fo(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Tu(Cu(e)).link,n=t?Tu(Cu(t)).deep_link_id:null,r=Tu(Cu(e)).deep_link_id;return(r?Tu(Cu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r_){return null}}}]),e}();var GT=function(){function e(){Mo(this,e),this.providerId=e.PROVIDER_ID}return Fo(e,null,[{key:"credential",value:function(e,t){return LT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=KT.parseLink(t);return $S(n,"argument-error"),LT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();GT.PROVIDER_ID="password",GT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",GT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var QT=function(){function e(t){Mo(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Fo(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),$T=function(e){To(n,e);var t=Oo(n);function n(){var e;return Mo(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Fo(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Lo(this.scopes)}}]),n}(QT),YT=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.apply(this,arguments)}return Fo(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return $S(e.idToken||e.accessToken,"argument-error"),FT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return $S("providerId"in t&&"signInMethod"in t,"argument-error"),FT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}($T),JT=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.call(this,"facebook.com")}return Fo(n,null,[{key:"credential",value:function(e){return FT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r_){return null}}}]),n}($T);JT.FACEBOOK_SIGN_IN_METHOD="facebook.com",JT.PROVIDER_ID="facebook.com";var XT=function(e){To(n,e);var t=Oo(n);function n(){var e;return Mo(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Fo(n,null,[{key:"credential",value:function(e,t){return FT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(r_){return null}}}]),n}($T);XT.GOOGLE_SIGN_IN_METHOD="google.com",XT.PROVIDER_ID="google.com";var ZT=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.call(this,"github.com")}return Fo(n,null,[{key:"credential",value:function(e){return FT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r_){return null}}}]),n}($T);ZT.GITHUB_SIGN_IN_METHOD="github.com",ZT.PROVIDER_ID="github.com";var eC=function(e){To(n,e);var t=Oo(n);function n(e,r){var i;return Mo(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Fo(n,[{key:"_getIdTokenResponse",value:function(e){return MT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,MT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,MT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hT),tC=function(e){To(n,e);var t=Oo(n);function n(e){return Mo(this,n),$S(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Fo(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=eC.fromJSON(e);return $S(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return eC._create(r,n)}catch(i){return null}}}]),n}(QT),nC=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.call(this,"twitter.com")}return Fo(n,null,[{key:"credential",value:function(e,t){return FT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(r_){return null}}}]),n}($T);function rC(e,t){return iC.apply(this,arguments)}function iC(){return(iC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signUp",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}nC.TWITTER_SIGN_IN_METHOD="twitter.com",nC.PROVIDER_ID="twitter.com";var aC=function(){function e(t){Mo(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Fo(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Du(Mu().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,BE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=oC(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Du(Mu().mark((function t(n,r,i){var a;return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=oC(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function oC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function sC(){return sC=Du(Mu().mark((function e(t){var n,r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sT(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new aC({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,rC(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,aC._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}var uC=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a){var o,s;return Mo(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ro(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Fo(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ku);function cC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uC._fromErrorAndOperation(e,n,t,r);throw n}))}function lC(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.next=3,vC(!0,r,n);case 3:return e.t0=wE,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=lC(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Du(Mu().mark((function e(t,n){var r,i,a=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=CE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",aC._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t,n){return mC.apply(this,arguments)}function mC(){return(mC=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OE(n);case 2:i=lC(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",$S(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e,t){return yC.apply(this,arguments)}function yC(){return yC=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,CE(t,cC(i,a,n,t),r);case 6:return $S((o=e.sent).idToken,i,"internal-error"),$S(s=TE(o.idToken),i,"internal-error"),u=s.sub,$S(t.uid===u,i,"user-mismatch"),e.abrupt("return",aC._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&WS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),yC.apply(this,arguments)}function kC(e,t){return wC.apply(this,arguments)}function wC(){return wC=Du(Mu().mark((function e(t,n){var r,i,a,o,s=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,cC(t,i,n);case 4:return a=e.sent,e.next=7,aC._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function bC(e,t){return xC.apply(this,arguments)}function xC(){return(xC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kC(sT(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t){return IC.apply(this,arguments)}function IC(){return(IC=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.next=3,vC(!1,r,n.providerId);case 3:return e.abrupt("return",dC(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SC(e,t){return EC.apply(this,arguments)}function EC(){return(EC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gC(Pu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e,t){return CC.apply(this,arguments)}function CC(){return(CC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dE(t,"POST","/v1/accounts:signInWithCustomToken",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(){return(AC=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sT(t),e.next=3,TC(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,aC._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NC=function(){function e(t,n){Mo(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Fo(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?RC._fromServerResponse(e,t):WS(e,"internal-error")}}]),e}(),RC=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Fo(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(NC);function PC(e,t,n){var r;$S((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$S("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($S(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($S(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function OC(){return(OC=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),a={requestType:"PASSWORD_RESET",email:n},r&&PC(i,a,r),e.next=5,ST(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DC(){return(DC=Du(Mu().mark((function e(t,n,r){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dT(Pu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LC(){return(LC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gT(Pu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e,t){return jC.apply(this,arguments)}function jC(){return(jC=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.next=3,dT(r,{oobCode:n});case 3:i=e.sent,$S(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return $S(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:$S(i.mfaInfo,r,"internal-error");case 13:$S(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=NC._fromServerResponse(sT(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FC(){return FC=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MC(Pu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t,n){return VC.apply(this,arguments)}function VC(){return(VC=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sT(t),e.next=3,rC(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,aC._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zC(){return(zC=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),a={requestType:"EMAIL_SIGNIN",email:n},$S(r.handleCodeInApp,i,"argument-error"),r&&PC(i,a,r),e.next=6,TT(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BC(){return(BC=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),$S((a=GT.credentialWithLink(n,r||eE()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",bC(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(e,t){return WC.apply(this,arguments)}function WC(){return(WC=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:createAuthUri",uE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HC(){return(HC=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tE()?eE():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qC(Pu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(){return(KC=Du(Mu().mark((function e(t,n){var r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&PC(r.auth,a,n),e.next=8,_T(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GC(){return(GC=Du(Mu().mark((function e(t,n,r){var i,a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&PC(i.auth,o,r),e.next=8,AT(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QC(e,t){return $C.apply(this,arguments)}function $C(){return($C=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YC(){return(YC=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u,c;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Pu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,CE(a,QC(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JC(e,t,n){return XC.apply(this,arguments)}function XC(){return(XC=Du(Mu().mark((function e(t,n,r){var i,a,o,s;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,CE(t,vT(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZC=Fo((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Mo(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),eA=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a){var o;return Mo(this,n),(o=t.call(this,e,r,i)).username=a,o}return Fo(n)}(ZC),tA=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"facebook.com",r)}return Fo(n)}(ZC),nA=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Fo(n)}(eA),rA=function(e){To(n,e);var t=Oo(n);function n(e,r){return Mo(this,n),t.call(this,e,"google.com",r)}return Fo(n)}(ZC),iA=function(e){To(n,e);var t=Oo(n);function n(e,r,i){return Mo(this,n),t.call(this,e,"twitter.com",r,i)}return Fo(n)}(eA);function aA(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=TE(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ZC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new tA(a,i);case"github.com":return new nA(a,i);case"google.com":return new rA(a,i);case"twitter.com":return new iA(a,i,e.screenName||null);case"custom":case"anonymous":return new ZC(a,null);default:return new ZC(a,r,i)}}(n)}var oA=function(){function e(t,n){Mo(this,e),this.type=t,this.credential=n}return Fo(e,[{key:"toJSON",value:function(){return{multiFactorSession:ie({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),sA=function(){function e(t,n,r){Mo(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Fo(e,[{key:"resolveSignIn",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=sT(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return NC._fromServerResponse(r,e)}));$S(i.mfaPendingCredential,r,"internal-error");var o=oA._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Du(Mu().mark((function e(t){var a,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,aC._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return $S(n.user,r,"internal-error"),e.abrupt("return",aC._forOperation(n.user,n.operationType,s));case 17:WS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function uA(e,t){return cE(e,"POST","/v2/accounts/mfaEnrollment:start",uE(e,t))}var cA=function(){function e(t){var n=this;Mo(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return NC._fromServerResponse(t.auth,e)})))}))}return Fo(e,[{key:"getSession",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=oA,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,CE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Du(Mu().mark((function e(t){var n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,CE(this.user,cE(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",uE(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),lA=new WeakMap;var fA="__sak",hA=function(){function e(t,n){Mo(this,e),this.storageRetriever=t,this.type=n}return Fo(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(fA,"1"),this.storage.removeItem(fA),Promise.resolve(!0)):Promise.resolve(!1)}catch(r_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var dA=function(e){To(n,e);var t=Oo(n);function n(){var e;return Mo(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=hu();return $E(e)||tT(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=iT(),e._shouldAllowMigration=!0,e}return Fo(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);rT()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Du(Mu().mark((function e(t,r){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(Co(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Du(Mu().mark((function e(t){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(Co(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(Co(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(hA);dA.type="LOCAL";var pA=dA,vA=function(e){To(n,e);var t=Oo(n);function n(){return Mo(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Fo(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(hA);vA.type="SESSION";var mA=vA;function gA(e){return Promise.all(e.map(function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var yA=function(){function e(t){Mo(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Fo(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Du(Mu().mark((function e(t){var n,r,i,a,o,s,u,c;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,gA(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function kA(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yA.receivers=[];var wA=function(){function e(t){Mo(this,e),this.target=t,this.handlers=new Set}return Fo(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Du(Mu().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=kA("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function bA(){return window}function xA(){return"undefined"!==typeof bA().WorkerGlobalScope&&"function"===typeof bA().importScripts}function _A(){return IA.apply(this,arguments)}function IA(){return(IA=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function SA(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var EA="firebaseLocalStorageDb",TA="firebaseLocalStorage",CA="fbase_key",AA=function(){function e(t){Mo(this,e),this.request=t}return Fo(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function NA(e,t){return e.transaction([TA],t?"readwrite":"readonly").objectStore(TA)}function RA(){var e=indexedDB.deleteDatabase(EA);return new AA(e).toPromise()}function PA(){var e=indexedDB.open(EA,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(TA,{keyPath:CA})}catch(r){n(r)}})),e.addEventListener("success",Du(Mu().mark((function n(){var r;return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(TA)){n.next=12;break}return r.close(),n.next=5,RA();case 5:return n.t0=t,n.next=8,PA();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function OA(e,t,n){return DA.apply(this,arguments)}function DA(){return DA=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=NA(t,!0).put((ie(i={},CA,n),ie(i,"value",r),i)),e.abrupt("return",new AA(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function LA(e,t){return MA.apply(this,arguments)}function MA(){return MA=Du(Mu().mark((function e(t,n){var r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NA(t,!1).get(n),e.next=3,new AA(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function jA(e,t){var n=NA(e,!0).delete(t);return new AA(n).toPromise()}var FA=function(){function e(){Mo(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Fo(e,[{key:"_openDb",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,PA();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xA()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Du(Mu().mark((function e(){var t=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=yA._getInstance(xA()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Du(Mu().mark((function e(n,r){var i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Du(Mu().mark((function e(){var t,n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_A();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new wA(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&SA()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,PA();case 5:return t=e.sent,e.next=8,OA(t,fA,"1");case 8:return e.next=10,jA(t,fA);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Du(Mu().mark((function e(t,n){var r=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return OA(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return LA(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Du(Mu().mark((function e(t){var n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return jA(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=NA(e,!1).getAll();return new AA(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=nu(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Du(Mu().mark((function t(){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();FA.type="LOCAL";var UA=FA;function VA(e,t){return cE(e,"POST","/v2/accounts/mfaSignIn:start",uE(e,t))}function zA(e){return BA.apply(this,arguments)}function BA(){return(BA=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=HS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function WA(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var HA=1e12,KA=function(){function e(t){Mo(this,e),this.auth=t,this.counter=HA,this._widgets=new Map}return Fo(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new GA(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||HA;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||HA;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||HA,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),GA=function(){function e(t,n,r){var i=this;Mo(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;$S(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Fo(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var QA=WA("rcb"),$A=new rE(3e4,6e4),YA="https://www.google.com/recaptcha/api.js?",JA=function(){function e(){Mo(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bA().grecaptcha}return Fo(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $S(XA(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(bA().grecaptcha):new Promise((function(r,i){var a=bA().setTimeout((function(){i(HS(e,"network-request-failed"))}),$A.get());bA()[QA]=function(){bA().clearTimeout(a),delete bA()[QA];var o=bA().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(HS(e,"internal-error"))},qA("".concat(YA,"?").concat(Eu({onload:QA,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(HS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!bA().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function XA(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ZA=function(){function e(){Mo(this,e)}return Fo(e,[{key:"load",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new KA(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),eN="recaptcha",tN={theme:"light",type:"image"},nN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},tN),r=arguments.length>2?arguments[2]:void 0;Mo(this,e),this.parameters=n,this.type=eN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sT(r),this.isInvisible="invisible"===this.parameters.size,$S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;$S(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZA:new JA,this.validateStartingState()}return Fo(e,[{key:"verify",value:function(){var e=Du(Mu().mark((function e(){var t,n,r,i=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){$S(!this.parameters.sitekey,this.auth,"argument-error"),$S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=bA()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){$S(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Du(Mu().mark((function e(){var t,n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $S(tE()&&!xA(),this.auth,"internal-error"),e.next=3,rN();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,zA(this.auth);case 8:$S(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return $S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function rN(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var iN=function(){function e(t,n){Mo(this,e),this.verificationId=t,this.onConfirmation=n}return Fo(e,[{key:"confirm",value:function(e){var t=HT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function aN(){return(aN=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sT(t),e.next=3,cN(i,n,Pu(r));case 3:return a=e.sent,e.abrupt("return",new iN(a,(function(e){return bC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oN(e,t,n){return sN.apply(this,arguments)}function sN(){return(sN=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),e.next=3,vC(!1,i,"phone");case 3:return e.next=5,cN(i.auth,n,Pu(r));case 5:return a=e.sent,e.abrupt("return",new iN(a,(function(e){return _C(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uN(){return(uN=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pu(t),e.next=3,cN(i.auth,n,Pu(r));case 3:return a=e.sent,e.abrupt("return",new iN(a,(function(e){return SC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cN(e,t,n){return lN.apply(this,arguments)}function lN(){return lN=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,$S("string"===typeof a,t,"argument-error"),$S(r.type===eN,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return $S("enroll"===s.type,t,"internal-error"),e.next=13,uA(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return $S("signin"===s.type,t,"internal-error"),$S(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,VA(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,UT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),lN.apply(this,arguments)}function fN(){return(fN=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dC(Pu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hN=function(){function e(t){Mo(this,e),this.providerId=e.PROVIDER_ID,this.auth=sT(t)}return Fo(e,[{key:"verifyPhoneNumber",value:function(e,t){return cN(this.auth,e,Pu(t))}}],[{key:"credential",value:function(e,t){return HT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?HT._fromTokenResponse(n,r):null}}]),e}();function dN(e,t){return t?ZS(t):($S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hN.PROVIDER_ID="phone",hN.PHONE_SIGN_IN_METHOD="phone";var pN=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Fo(n,[{key:"_getIdTokenResponse",value:function(e){return MT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return MT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return MT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(hT);function vN(e){return kC(e.auth,new pN(e),e.bypassAuthState)}function mN(e){var t=e.auth,n=e.user;return $S(n,t,"internal-error"),gC(n,new pN(e),e.bypassAuthState)}function gN(e){return yN.apply(this,arguments)}function yN(){return(yN=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,$S(r=t.user,n,"internal-error"),e.abrupt("return",dC(r,new pN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Mo(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Fo(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Du(Mu().mark((function t(n,r){return Mu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Du(Mu().mark((function e(t){var n,r,i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:WS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){JS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){JS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),wN=new rE(2e3,1e4);function bN(e,t,n){return xN.apply(this,arguments)}function xN(){return(xN=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sT(t),GS(t,n,QT),a=dN(i,r),o=new EN(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _N(){return(_N=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GS((i=Pu(t)).auth,n,QT),a=dN(i.auth,r),o=new EN(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e,t,n){return SN.apply(this,arguments)}function SN(){return(SN=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GS((i=Pu(t)).auth,n,QT),a=dN(i.auth,r),o=new EN(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EN=function(e){To(n,e);var t=Oo(n);function n(e,r,i,a,o){var s;return Mo(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ro(s),s}return Fo(n,[{key:"executeNotNull",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return $S(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Du(Mu().mark((function e(){var t,n=this;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JS(1===this.filter.length,"Popup operations only handle one event"),t=kA(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(HS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(HS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(HS(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,wN.get())}()}}]),n}(kN);EN.currentPopupAction=null;var TN=new Map,CN=function(e){To(n,e);var t=Oo(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Mo(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Fo(n,[{key:"execute",value:function(){var e=Du(Mu().mark((function e(){var t,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=TN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,AN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Oc(Co(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:TN.set(this.auth._key(),t);case 21:return this.bypassAuthState||TN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Du(Mu().mark((function e(t){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Oc(Co(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Oc(Co(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(kN);function AN(e,t){return NN.apply(this,arguments)}function NN(){return(NN=Du(Mu().mark((function e(t,n){var r,i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DN(n),i=ON(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RN(e,t){return PN.apply(this,arguments)}function PN(){return(PN=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ON(t)._set(DN(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ON(e){return ZS(e._redirectPersistence)}function DN(e){return HE("pendingRedirect",e.config.apiKey,e.name)}function LN(e,t,n){return function(e,t,n){return MN.apply(this,arguments)}(e,t,n)}function MN(){return(MN=Du(Mu().mark((function e(t,n,r){var i,a;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sT(t),GS(t,n,QT),a=dN(i,r),e.next=5,RN(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jN(e,t,n){return function(e,t,n){return FN.apply(this,arguments)}(e,t,n)}function FN(){return(FN=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GS((i=Pu(t)).auth,n,QT),a=dN(i.auth,r),e.next=5,RN(a,i.auth);case 5:return e.next=7,HN(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UN(e,t,n){return function(e,t,n){return VN.apply(this,arguments)}(e,t,n)}function VN(){return(VN=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return GS((i=Pu(t)).auth,n,QT),a=dN(i.auth,r),e.next=5,vC(!1,i,n.providerId);case 5:return e.next=7,RN(a,i.auth);case 7:return e.next=9,HN(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zN(e,t){return BN.apply(this,arguments)}function BN(){return(BN=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sT(t)._initializationPromise;case 2:return e.abrupt("return",qN(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qN(e,t){return WN.apply(this,arguments)}function WN(){return WN=Du(Mu().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=sT(t),a=dN(i,n),o=new CN(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),WN.apply(this,arguments)}function HN(e){return KN.apply(this,arguments)}function KN(){return(KN=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kA("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GN=function(){function e(t){Mo(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Fo(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $N(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!$N(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(HS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QN(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(QN(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function QN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function $N(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function YN(e){return JN.apply(this,arguments)}function JN(){return JN=Du(Mu().mark((function e(t){var n,r=arguments;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",cE(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),JN.apply(this,arguments)}var XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;function eR(){return(eR=Du(Mu().mark((function e(t){var n,r,i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,YN(t);case 4:n=e.sent,r=n.authorizedDomains,i=nu(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tR(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:WS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function tR(e){var t=eE(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ZN.test(r))return!1;if(XN.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var nR=new rE(3e4,6e4);function rR(){var e=bA().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Lo(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var iR=null;function aR(e){return iR=iR||function(e){return new Promise((function(t,n){var r,i,a;function o(){rR(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rR(),n(HS(e,"network-request-failed"))},timeout:nR.get()})}if(null===(i=null===(r=bA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bA().gapi)||void 0===a?void 0:a.load)){var s=WA("iframefcb");return bA()[s]=function(){gapi.load?o():n(HS(e,"network-request-failed"))},qA("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw iR=null,e}))}(e),iR}var oR=new rE(5e3,15e3),sR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(e){var t=e.config;$S(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?iE(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mc},i=uR.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Eu(r).slice(1))}function lR(e){return fR.apply(this,arguments)}function fR(){return fR=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aR(t);case 2:return n=e.sent,$S(r=bA().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:cR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sR,dontclear:!0},(function(e){return new Promise(function(){var n=Du(Mu().mark((function n(r,i){var a,o,s;return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){bA().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=HS(t,"network-request-failed"),o=bA().setTimeout((function(){i(a)}),oR.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}var hR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dR="_blank",pR="http://localhost",vR=function(){function e(t){Mo(this,e),this.window=t,this.associatedEvent=null}return Fo(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function mR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},hR),{width:r.toString(),height:i.toString(),top:a,left:o}),c=hu().toLowerCase();n&&(s=YE(c)?dR:n),QE(c)&&(t=t||pR,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(nT(c)&&"_self"!==s)return gR(t||"",s),new vR(null);var h=window.open(t||"",s,f);$S(h,e,"popup-blocked");try{h.focus()}catch(d){}return new vR(h)}function gR(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yR="__/auth/handler",kR="emulator/auth/handler";function wR(e,t,n,r,i,a){$S(e.config.authDomain,e,"auth-domain-config-required"),$S(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mc,eventId:i};if(t instanceof QT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof $T){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yR);return iE(t,kR)}(e),"?").concat(Eu(p).slice(1))}var bR="webStorageSupport",xR=function(){function e(){Mo(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mA,this._completeRedirectFn=qN}return Fo(e,[{key:"_openPopup",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){var a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=wR(t,n,r,eE(),i),e.abrupt("return",mR(t,o,kA()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=wR(t,n,r,eE(),i),bA().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(JS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lR(t);case 2:return n=e.sent,r=new GN(t),n.register("authEvent",(function(e){return $S(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bR,{type:bR},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),WS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return eR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return iT()||$E()||tT()}}]),e}(),_R=xR,IR=function(e){To(n,e);var t=Oo(n);function n(e){var r;return Mo(this,n),(r=t.call(this,"phone")).credential=e,r}return Fo(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return cE(e,"POST","/v2/accounts/mfaEnrollment:finalize",uE(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return cE(e,"POST","/v2/accounts/mfaSignIn:finalize",uE(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Mo(this,e),this.factorId=t}return Fo(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return YS("unexpected MultiFactorSessionType")}}}]),e}()),SR=function(){function e(){Mo(this,e)}return Fo(e,null,[{key:"assertion",value:function(e){return IR._fromCredential(e)}}]),e}();SR.FACTOR_ID="phone";var ER,TR="@firebase/auth",CR="0.19.8",AR=function(){function e(t){Mo(this,e),this.auth=t,this.internalListeners=new Map}return Fo(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){$S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function NR(){return window}ER="Browser",sc(new ju("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){$S(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),$S(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ER,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(ER)},r=new oT(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ZS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),sc(new ju("auth-internal",(function(e){return function(e){return new AR(e)}(sT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xc(TR,CR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ER)),xc(TR,CR,"esm2017");function RR(e,t,n){return PR.apply(this,arguments)}function PR(){return PR=Du(Mu().mark((function e(t,n,r){var i,a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=NR(),o=a.BuildInfo,JS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,FR(n.sessionId);case 4:return s=e.sent,u={},tT()?u.ibi=o.packageName:XE()?u.apn=o.packageName:WS(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",wR(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function OR(){return(OR=Du(Mu().mark((function e(t){var n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NR(),r=n.BuildInfo,i={},tT()?i.iosBundleId=r.packageName:XE()?i.androidPackageName=r.packageName:WS(t,"operation-not-supported-in-this-environment"),e.next=5,YN(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DR(e){var t=NR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function LR(e,t,n){return MR.apply(this,arguments)}function MR(){return MR=Du(Mu().mark((function e(t,n,r){var i,a,o;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NR(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(HS(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),XE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),MR.apply(this,arguments)}function jR(e){var t,n,r,i,a,o,s,u,c,l,f=NR();$S("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$S("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$S("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$S("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$S("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function FR(e){return UR.apply(this,arguments)}function UR(){return(UR=Du(Mu().mark((function e(t){var n,r,i;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=VR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VR(e){if(JS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zR=function(e){To(n,e);var t=Oo(n);function n(){var e;return Mo(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Fo(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Oc(Co(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(GN);function BR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:GR(),postBody:null,tenantId:e.tenantId,error:HS(e,"no-auth-event")}}function qR(e,t){return QR()._set($R(e),t)}function WR(e){return HR.apply(this,arguments)}function HR(){return(HR=Du(Mu().mark((function e(t){var n;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QR()._get($R(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,QR()._remove($R(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KR(e,t){var n,r,i=function(e){var t=YR(e),n=t.link?decodeURIComponent(t.link):void 0,r=YR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return YR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=YR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?HS(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function GR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function QR(){return ZS(pA)}function $R(e){return HE("authEvent",e.config.apiKey,e.name)}function YR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||Do(t)||u(t)||c();r[0];return Tu(r.slice(1).join("?"))}var JR=function(){function e(){Mo(this,e),this._redirectPersistence=mA,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qN}return Fo(e,[{key:"_initialize",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){WS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){var a,o,s,u;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),TN.clear(),e.next=10,this._originValidation(t);case 10:return o=BR(t,r,i),e.next=13,qR(t,o);case 13:return e.next=15,RR(t,o,n);case 15:return s=e.sent,e.next=18,DR(s);case 18:return u=e.sent,e.abrupt("return",LR(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return OR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=NR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Du(Mu().mark((function n(){return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,WR(e);case 2:t.onEvent(ZR());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Du(Mu().mark((function n(r){var i,a;return Mu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,WR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=KR(i,r.url)),t.onEvent(a||ZR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");NR().handleOpenURL=function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),XR=JR;function ZR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:HS("no-auth-event")}}function eP(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function tP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return!("file:"!==eP()&&"ionic:"!==eP()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nP(){return gu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function rP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return/Edge\/\d+/.test(e)}function iP(){try{var e=self.localStorage,t=kA();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hu();return nP()||rP(e)}()||yu()}catch(n){return aP()&&yu()}return!1}function aP(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function oP(){return("http:"===eP()||"https:"===eP()||vu()||tP())&&!(mu()||pu())&&iP()&&!aP()}function sP(){return tP()&&"undefined"!==typeof document}function uP(){return cP.apply(this,arguments)}function cP(){return(cP=Du(Mu().mark((function e(){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sP()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lP={LOCAL:"local",NONE:"none",SESSION:"session"},fP=$S,hP="persistence";function dP(e,t){fP(Object.values(lP).includes(t),e,"invalid-persistence-type"),mu()?fP(t!==lP.SESSION,e,"unsupported-persistence-type"):pu()?fP(t===lP.NONE,e,"unsupported-persistence-type"):aP()?fP(t===lP.NONE||t===lP.LOCAL&&yu(),e,"unsupported-persistence-type"):fP(t===lP.NONE||iP(),e,"unsupported-persistence-type")}function pP(e){return vP.apply(this,arguments)}function vP(){return(vP=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=mP(),r=HE(hP,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mP(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var gP=$S,yP=function(){function e(){Mo(this,e),this.browserResolver=ZS(_R),this.cordovaResolver=ZS(XR),this.underlyingResolver=null,this._redirectPersistence=mA,this._completeRedirectFn=qN}return Fo(e,[{key:"_initialize",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Du(Mu().mark((function e(t,n,r,i){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return sP()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return gP(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uP();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kP(e){return e.unwrap()}function wP(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new SP(e,function(e,t){var n,r=Pu(e),i=t;return $S(t.customData.operationType,r,"argument-error"),$S(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),sA._fromError(r,i)}(e,t));else if(r){var i=bP(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function bP(e){var t=(e instanceof ku?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ku)&&"temporaryProof"in t&&"phoneNumber"in t)return hN.credentialFromResult(e);var n,r=t.providerId;if(!r||r===NS)return null;switch(r){case AS:n=XT;break;case TS:n=JT;break;case CS:n=ZT;break;case RS:n=nC;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?eC._create(r,s):FT._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new YT(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof ku?n.credentialFromError(e):n.credentialFromResult(e)}function xP(e,t){return t.catch((function(t){throw t instanceof ku&&wP(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,bP(t)),additionalUserInfo:aA(e),user:EP.getOrCreate(r)}}))}function _P(e,t){return IP.apply(this,arguments)}function IP(){return(IP=Du(Mu().mark((function e(t,n){var r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return xP(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SP=function(){function e(t,n){Mo(this,e),this.resolver=n,this.auth=t.wrapped()}return Fo(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return xP(kP(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),EP=function(){function e(t){Mo(this,e),this._delegate=t,this.multiFactor=function(e){var t=Pu(e);return lA.has(t)||lA.set(t,cA._fromUser(t)),lA.get(t)}(t)}return Fo(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xP(this.auth,_C(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_P(this.auth,oN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xP(this.auth,IN(this._delegate,t,yP)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP(sT(this.auth));case 2:return e.abrupt("return",UN(this._delegate,t,yP));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xP(this.auth,SC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return _P(this.auth,function(e,t,n){return uN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return xP(this.auth,function(e,t,n){return _N.apply(this,arguments)}(this._delegate,e,yP))}},{key:"reauthenticateWithRedirect",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pP(sT(this.auth));case 2:return e.abrupt("return",jN(this._delegate,t,yP));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return KC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fC(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return JC(Pu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return JC(Pu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return fN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return YC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return GC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();EP.USER_MAP=new WeakMap;var TP=$S,CP=function(){function e(t,n){if(Mo(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;TP(r,"invalid-api-key",{appName:t.name}),TP(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?yP:void 0;this._delegate=n.initialize({options:{persistence:NP(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(US),this.linkUnderlyingAuth()}return Fo(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?EP.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){cT(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return LC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return MC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return DC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Du(Mu().mark((function e(t,n){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xP(this._delegate,UC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return HC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=KT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Du(Mu().mark((function e(){var t;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TP(oP(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zN(this._delegate,yP);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",xP(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){sT(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=AP(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=AP(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return zC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return OC.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Du(Mu().mark((function e(t){var n,r;return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dP(this._delegate,t),e.t0=t,e.next=e.t0===lP.SESSION?4:e.t0===lP.LOCAL?6:e.t0===lP.NONE?11:13;break;case 4:return n=mA,e.abrupt("break",14);case 6:return e.next=8,ZS(UA)._isAvailable();case 8:return r=e.sent,n=r?UA:pA,e.abrupt("break",14);case 11:return n=WE,e.abrupt("break",14);case 13:return e.abrupt("return",WS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return xP(this._delegate,function(e){return sC.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return xP(this._delegate,bC(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return xP(this._delegate,function(e,t){return AC.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return xP(this._delegate,function(e,t,n){return bC(Pu(e),GT.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return xP(this._delegate,function(e,t,n){return BC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return _P(this._delegate,function(e,t,n){return aN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TP(oP(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",xP(this._delegate,bN(this._delegate,t,yP)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Du(Mu().mark((function e(t){return Mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TP(oP(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pP(this._delegate);case 3:return e.abrupt("return",LN(this._delegate,t,yP));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return FC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function AP(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&EP.getOrCreate(e))},error:t,complete:n}}function NP(e,t){var n=function(e,t){var n=mP();if(!n)return[];var r=HE(hP,e,t);switch(n.getItem(r)){case lP.NONE:return[WE];case lP.LOCAL:return[UA,mA];case lP.SESSION:return[mA];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(UA)||n.push(UA),"undefined"!==typeof window)for(var r=0,i=[pA,mA];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(WE)||n.push(WE),n}CP.Persistence=lP;var RP=function(){function e(){Mo(this,e),this.providerId="phone",this._delegate=new hN(kP(Rc.auth()))}return Fo(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return hN.credential(e,t)}}]),e}();RP.PHONE_SIGN_IN_METHOD=hN.PHONE_SIGN_IN_METHOD,RP.PROVIDER_ID=hN.PROVIDER_ID;var PP=$S,OP=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rc.app();Mo(this,e),PP(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new nN(t,n,i.auth()),this.type=this._delegate.type}return Fo(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ju("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new CP(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:PS,PASSWORD_RESET:OS,RECOVER_EMAIL:DS,REVERT_SECOND_FACTOR_ADDITION:LS,VERIFY_AND_CHANGE_EMAIL:MS,VERIFY_EMAIL:jS}},EmailAuthProvider:GT,FacebookAuthProvider:JT,GithubAuthProvider:ZT,GoogleAuthProvider:XT,OAuthProvider:YT,SAMLAuthProvider:tC,PhoneAuthProvider:RP,PhoneMultiFactorGenerator:SR,RecaptchaVerifier:OP,TwitterAuthProvider:nC,Auth:CP,AuthCredential:hT,Error:ku}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.8")}(Rc);var DP=Rc.initializeApp({apiKey:"AIzaSyA7Jx5-izdHmwnOafO6SBulnM4yZVt3SYw",authDomain:"netflix-8591c.firebaseapp.com",databaseURL:"https://netflix-8591c.firebaseio.com",projectId:"netflix-8591c",storageBucket:"netflix-8591c.appspot.com",messagingSenderId:"812645111426",appId:"1:812645111426:web:bf3d0d7e0e4f9cd737469b"});(0,a.render)((0,un.jsxs)(Ws.Provider,{value:{firebase:DP},children:[(0,un.jsx)(tu,{}),(0,un.jsx)(eu,{})]}),document.getElementById("root"))},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,S=60108,E=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function $e(e,t,n,r,i,a,o,s,u){We=!1,He=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},Et={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Ee(e)),e=Jn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Ot.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Nt:u=wn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(g=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Wn(n))&&(k.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Gi(e,t,n){return e=Hi(e),Ei(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Pi,Qi),n}finally{zi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(gi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Nr(Er[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Nr(Er[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&zs)&&0===(134217727&Bs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Is(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=b.ReactCurrentDispatcher,Rs=b.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,$s=null,Ys=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(Bs|=t,4===Fs&&yu(e,Ls));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Pi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Eu();for(Os===e&&Ls===r||(Gs(),Iu(e,r));;)try{Au();break}catch(u){Su(e,u)}if(na(),Ns.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Fs),0!==(Vs&Bs))Iu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,Iu(e,0),yu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&Bs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,Iu(e,0),yu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function _u(){Ms=js.current,li(js)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,qs=Bs=zs=0}function Su(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Eu(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Eu();for(Os===e&&Ls===t||Iu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,Ns.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Nu(Ds)}function Au(){for(;null!==Ds&&!Ci();)Nu(Ds)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Wi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,zr=$t,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ye($s.stateNode,""),128&k){var w=$s.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Es($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Es($s.alternate,$s);break;case 4:Es($s.alternate,$s);break;case 8:Ss(s,u=$s);var x=u.alternate;ws(u),null!==x&&ws(x)}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}$t=!!zr,Br=zr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var _=$s.flags;if(36&_&&gs(k,$s.alternate,$s),128&_){w=void 0;var I=$s.ref;if(null!==I){var S=$s.stateNode;$s.tag,w=S,"function"===typeof I?I(w):I.current=w}}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));Vu($s,E),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(mu(e,qi()),Ys)throw Ys=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>qi()-Hs?Iu(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case E:return(e=Wu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case N:return(e=Wu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $u(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=wu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=y.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),u(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(E))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(E);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===_(E)&&I(E),D(n)}else I(E);A=_(E)}if(null!==A)var u=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,N=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(E,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/simple-netflix-clone/";n(820)}();
//# sourceMappingURL=main.39113d40.js.map